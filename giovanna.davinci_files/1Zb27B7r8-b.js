/*!CK:3158111343!*//*1439789258,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["NggT0"]); }

__d("MessagesViewerSetID",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MESSAGES:"messages",MESSAGES_VIEW_ALL_IN_THREAD:"messages:view_all_in_thread"};},null,{});
__d("StickerAssetType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={IMAGE:"BestEffortImage",SPRITE:"SpriteImage",PADDED_SPRITE:"PaddedSpriteImage"};},null,{});
__d("StoryAttachmentStyle",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FALLBACK:"fallback",SHARE:"share",OG_COMPOSER_SIMPLE:"og_composer_simple",SPORTS_MATCHUP:"sports_matchup",SHARE_LARGE_IMAGE:"share_large_image",PHOTO:"photo",COVER_PHOTO:"cover_photo",ALBUM:"album",NEW_ALBUM:"new_album",COUPON:"coupon",QUESTION:"question",ANSWER:"answer",OPTION:"option",GALLERY:"gallery",STREAM_PUBLISH:"stream_publish",MUSIC_AGGREGATION:"music_aggregation",ITEM_LIST:"list",HIGH_SCORE:"high_score",SCORE_LEADERBOARD:"score_leaderboard",FRIEND_LIST:"friend_list",CHECKIN:"checkin",POPULAR_OBJECTS:"popular_objects",AVATAR_LIST:"avatar_list",AVATAR:"avatar",AVATAR_WITH_VIDEO:"avatar_with_video",EVENT:"event",MINUTIAE_EVENT:"minutiae_event",EXPERIENCE:"experience",LIFE_EVENT:"life_event",TRAVEL_SLIDESHOW_LIFE_EVENT:"travel_slideshow_life_event",GIFT:"gift",IMAGE_SHARE:"image_share",ANIMATED_IMAGE_SHARE:"animated_image_share",ANIMATED_IMAGE_AUTOPLAY:"animated_image_autoplay",ANIMATED_IMAGE_VIDEO:"animated_image_video",ANIMATED_IMAGE_VIDEO_AUTOPLAY:"animated_image_video_autoplay",NOTE:"note",TOPIC:"topic",FILE_UPLOAD:"file_upload",NOTIFICATION_TARGET:"notification_target",UNAVAILABLE:"unavailable",PAGE_RECOMMENDATION:"page_recommendation",PAGE_VIDEO_PLAYLIST:"page_video_playlist",VIDEO:"video",VIDEO_INLINE:"video_inline",VIDEO_AUTOPLAY:"video_autoplay",VIDEO_SHARE:"video_share",VIDEO_SHARE_HIGHLIGHTED:"video_share_highlighted",VIDEO_SHARE_YOUTUBE:"video_share_youtube",VIDEO_DIRECT_RESPONSE:"video_direct_response",VIDEO_DIRECT_RESPONSE_AUTOPLAY:"video_direct_response_autoplay",MAP:"map",OG_MAP:"og_map",PRODUCT:"product",EXTERNAL_PRODUCT:"external_product",FITNESS_COURSE:"fitness_course",APPLICATION:"application",STICKER:"sticker",EXTERNAL_OG_PRODUCT:"external_og_product",TRAVEL_LOG:"travel_log",MULTI_SHARE:"multi_share",MULTI_SHARE_NO_END_CARD:"multi_share_no_end_card",MULTI_SHARE_SEARCH_END_CARD:"multi_share_search_end_card",YEAR_IN_REVIEW:"year_in_review",AVATAR_LARGE_COVER:"avatar_large_cover",BROADCAST_REQUEST:"broadcast_request",COMMERCE_PRODUCT_ITEM:"commerce_product_item",COMMERCE_STORE:"commerce_store",THIRD_PARTY_PHOTO:"third_party_photo",PROMPT:"prompt",BIRTHDAY:"birthday",DONATIONS_CAMPAIGN:"donations_campaign",DONATE_PROMPT:"donate_prompt",DISCUSSION_CONVERSATION:"discussion_conversation",DISCUSSION_COMMENT:"discussion_comment",GROUP_SELL_PRODUCT_ITEM:"group_sell_product_item",GROUP_SELL_PRODUCT_ITEM_MARK_AS_SOLD:"group_sell_mark_as_sold",GAMETIME:"gametime",GROUP_REPORTED_POST_QUEUE:"group_reported_post_queue",GROUP_PENDING_POST_QUEUE:"group_pending_post_queue",GROUP_JOIN_REQUEST_QUEUE:"group_join_request_queue",GREETING_CARD:"greeting_card",LEAD_GEN:"lead_gen",ATTACHED_STORY:"attached_story",SOUVENIR:"souvenir",SLIDESHOW:"slideshow",ORION:"orion",ORION_REQUEST:"orion_request",INSTANT_ARTICLE:"instant_article",JOIN_TOPIC_CONVERSATION:"join_topic_conversation",MOMENTS_APP_INVITATION:"moments_app_invitation",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_ITEM:"retail_item",RETAIL_NOW_IN_STOCK:"retail_now_in_stock",RETAIL_RECEIPT:"retail_receipt",RETAIL_SHIPMENT:"retail_shipment",RETAIL_SHIPMENT_FOR_SUPPORTED_CARRIER:"retail_shipment_for_supported_carrier",RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:"retail_shipment_for_unsupported_carrier",RETAIL_SHIPMENT_TRACKING_EVENT:"retail_shipment_tracking_event",RETAIL_SHIPMENT_TRACKING_EVENT_ETA:"retail_shipment_tracking_event_eta",RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:"retail_shipment_tracking_event_in_transit",RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:"retail_shipment_tracking_event_out_for_delivery",RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:"retail_shipment_tracking_event_delayed",RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:"retail_shipment_tracking_event_delivered",SURVEY:"survey",MESSAGE_LOCATION:"message_location",JOB_OFFER:"job_offer",GROUP_ADD_MEMBERS:"group_add_memebers",RTC_CALL_LOG:"rtc_call_log",EVENT_CALENDAR:"event_calendar",FACEPILE:"facepile",ATTRIBUTED_SHARE:"attributed_share",VIDEO_CINEMAGRAPH:"video_cinemagraph",LOCAL_CONTEXT_SHARE:"local_context_share",H_SCROLL:"h_scroll",MEDIA_QUESTION:"media_question",RICH_MEDIA:"rich_media",SQUARE_IMAGE_SHARE:"square_image_share",RETAIL_AGENT_ITEM_SUGGESTION:"retail_agent_item_suggestion",RETAIL_AGENT_ITEM_RECEIPT:"retail_agent_item_receipt",NOTE_COMPOSED:"note_composed",AVATAR_WITH_BIRTHDAY:"avatar_with_birthday",AIRLINE_FLIGHT_RESCHEDULE_UPDATE_BUBBLE:"airline_flight_reschedule_update_bubble",LIGHTBOX_VIDEO:"lightbox_video",GLOBALLY_DELETED_MESSAGE_PLACEHOLDER:"globally_deleted_message_placeholder",AVATAR_WITH_EGO_ACTION:"avatar_with_ego_action",EVENT_TICKET:"event_ticket",VERTICAL_ATTACHMENT_LIST:"vertical_attachment_list",INSTANT_ARTICLE_LEGACY:"instant_article_legacy",FUNDRAISER_PAGE:"fundraiser_page",FINANCIAL_BILL_PAYMENT_REQUEST:"financial_bill_payment_request",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD:"goodwill_throwback_friendversary_polaroids_card",SAHELI_IMAGE:"saheli_image",LARGE_IMAGE_LIKE:"large_image_like",ASK_FRIENDS:"ask_friends",CULTURAL_MOMENT:"cultural_moment"};},null,{});
__d('ItunesPluginLogging',['Run','Bootloader'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={logPluginData:function(){h.onAfterLoad(function(){var j=c('Bootloader');j.loadModules(["ItunesDetector","AsyncRequest"],function(k,l){new l().setURI('/ajax/ads/media/log').setData({status:k.hasItunes()}).send();});});}};f.exports=i;},null);
__d('ChatUnreadCount',['ArbiterMixin','ChatConfig','Map','MercuryIDs','MercurySingletonMixin','MercuryThreadInformer','MercuryThreads','MercuryUnreadState','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r;q=p(h);r=q&&q.prototype;Object.assign(s,q);s.prototype=Object.create(q.prototype);s.prototype.constructor=s;s.__superConstructor__=q;function s(t){'use strict';r.constructor.call(this);this.$ChatUnreadCount1=t;this.$ChatUnreadCount2=m.getForFBID(t);this.$ChatUnreadCount3=n.getForFBID(t);this.$ChatUnreadCount4=new j();this.$ChatUnreadCount5=o.getForFBID(t);this.setupSubscriptions();}s.prototype.getUnreadCountForUID=function(t){'use strict';if(!i.get('unread_count_enabled')||!t)return null;var u=k.getThreadIDFromUserID(t);if(!this.$ChatUnreadCount5.getIsThreadUnread(u)){this.$ChatUnreadCount4['delete'](t);return 0;}var v=this.$ChatUnreadCount3.getOrFetch(u),w=v&&v.unread_count;this.$ChatUnreadCount4.set(t,w);return w;};s.prototype.setupSubscriptions=function(){'use strict';if(!i.get('unread_count_enabled'))return;this.$ChatUnreadCount2.subscribe('threads-updated',(function(t,u){var v=Object.keys(u).some((function(w){var x=k.getUserIDFromThreadID(w);if(x===null)return false;var y=this.$ChatUnreadCount4.get(x)||0;return this.getUnreadCountForUID(x)!==y;}).bind(this));if(v)this.inform('unread-count-changed');}).bind(this));this.$ChatUnreadCount2.subscribe('unread-updated',(function(){return this.inform('unread-count-changed');}).bind(this));};Object.assign(s,l);f.exports=s;},null);
__d('TypingDetector',['ArbiterMixin','Event','Input','Run','SubscriptionsHandler','TypingStates','createObjectFrom','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();function p(q,r){this._input=q;this._ignoreKeys={};this._getValueFn=r;}Object.assign(p.prototype,h,{_timeout:7000,_currentState:m.INACTIVE,init:function(){this.init=o;this.reset();this._subscriptions=new l();this._subscriptions.addSubscriptions(i.listen(this._input,'keyup',this._update.bind(this)),k.onUnload(this._onunload.bind(this)));},reset:function(){clearTimeout(this._checkTimer);this._checkTimer=null;this._lastKeystrokeAt=null;this._currentState=m.INACTIVE;},setIgnoreKeys:function(q){this._ignoreKeys=n(q);},destroy:function(){this._subscriptions.release();},_onunload:function(){if(this._currentState==m.TYPING)this._transition(m.QUITTING);},_update:function(event){var q=i.getKeyCode(event),r=this._currentState;if(!this._ignoreKeys[q]){var s=this._getValueFn?this._getValueFn():j.getValue(this._input);if(s.trim().length===0){if(r==m.TYPING)this._transition(m.INACTIVE);}else if(r==m.TYPING){this._recordKeystroke();}else if(r==m.INACTIVE){this._transition(m.TYPING);this._recordKeystroke();}}},_transition:function(q){this.reset();this._currentState=q;this.inform('change',q);},_recordKeystroke:function(){this._lastKeystrokeTime=Date.now();if(!this._checkTimer)this._checkTimer=setTimeout(this._checkTyping.bind(this),this._timeout);},_checkTyping:function(){var q=this._lastKeystrokeTime+this._timeout,r=Date.now();if(r>q){this._transition(m.INACTIVE);}else{clearTimeout(this._checkTimer);this._checkTimer=setTimeout(this._checkTyping.bind(this),q-r+10);}}});f.exports=p;},null);
__d('TypingDetectorController',['AsyncRequest','AvailableList','AvailableListConstants','ChannelConnection','ChatVisibility','Keys','TypingDetector','TypingStates','emptyFunction','setTimeoutAcrossTransitions','shield'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();function s(t,u,v,w,x,y){'use strict';this.userID=t;this.input=u;this.source=v;this.threadID=x;this.remoteState=o.INACTIVE;this.notifyTimer=null;w=w||{};this.notifyDelay=w.notifyDelay||this.notifyDelay;this._typingDetector=new n(u,y);this._typingDetector.init(w);this._typingDetector.subscribe('change',this._stateChange.bind(this));}s.prototype.setUserAndThread=function(t,u){'use strict';if(this.userID!==t||this.threadID!==u){this.resetState();this.userID=t;this.threadID=u;}};s.prototype.setIgnoreEnter=function(t){'use strict';var u=t?[m.RETURN]:[];this._typingDetector.setIgnoreKeys(u);};s.prototype.resetState=function(){'use strict';this._notifyState(o.INACTIVE);this.remoteState=o.INACTIVE;this._typingDetector.reset();clearTimeout(this.notifyTimer);this.notifyTimer=null;};s.prototype.destroy=function(){'use strict';this.resetState();this._typingDetector.destroy();};s.prototype._stateChange=function(t,u){'use strict';if(u!=o.QUITTING){clearTimeout(this.notifyTimer);this.notifyTimer=q(r(this._notifyState,this,u),this.notifyDelay);}else this._notifyState(u,true);};s.prototype._notifyState=function(t,u){'use strict';if(!this.userID&&!this.threadID||!l.isOnline()||t===this.remoteState||k.disconnected())return;this._sendRequest(t,this.userID,u);};s.prototype._sendRequest=function(t,u,v){'use strict';this.remoteState=t;var w={typ:t,to:u,source:this.source,thread:this.threadID};new h().setHandler(this._onTypResponse.bind(this,u)).setErrorHandler(p).setData(w).setURI('/ajax/messaging/typ.php').setAllowCrossPageTransition(true).setOption('asynchronous',!v).send();};s.prototype._onTypResponse=function(t,u){'use strict';var v=u.getPayload()||{};if(v.offline)i.set(t,j.OFFLINE,'typing_response');};Object.assign(s.prototype,{notifyDelay:1000});f.exports=s;},null);
__d('NotificationBeeperModuleLoader',['BootloadedComponent.react','JSResource','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=Object.assign||function(m){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p))m[p]=o[p];}return m;},l={load:function(m,n){j.render(j.createElement(h,k({bootloadPlaceholder:j.createElement('span',null),bootloadLoader:i('NotificationBeeper.react')},m)),n);}};f.exports=l;},null);
__d('SplitImage.react',['React','Image.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=Object.assign||function(n){for(var o=1;o<arguments.length;o++){var p=arguments[o];for(var q in p)if(Object.prototype.hasOwnProperty.call(p,q))n[q]=p[q];}return n;},m=h.createClass({displayName:'SplitImage',render:function(){var n=this.props.size;return (h.createElement('div',l({},this.props,{className:k(this.props.className,"_55lt"),style:l({},this.props.style||{},{width:n,height:n})}),this.renderImages()));},renderImages:function(){if(!this.props.srcs)return null;var n=this.props.srcs,o=Array.isArray(n);if(!o||n.length==1)return this.renderOne(o?n[0]:n);return n.length==2?this.renderTwo(n):this.renderThree(n);},renderOne:function(n){return (h.createElement(i,{src:n,width:this.props.size,height:this.props.size,alt:''}));},renderTwo:function(n){var o=this.props.size,p=Math.floor(o/2),q=-Math.floor(p/2),r="_55lu"+(this.props.border?' '+"_57xo":'');return (h.createElement('div',null,h.createElement('div',{className:"_55lu",style:{width:p}},h.createElement(i,{src:n[0],width:o,height:o,style:{marginLeft:q}})),h.createElement('div',{className:r,style:{width:p}},h.createElement(i,{src:n[1],width:o,height:o,style:{marginLeft:q}}))));},renderThree:function(n){var o=this.props.size,p=Math.floor(o/3*2),q=-Math.floor((o-p)/2),r=Math.floor(o/2),s=o-p,t=-Math.floor((r-s)/2),u="_55lu"+(this.props.border?' '+"_57pl":''),v="_55lu"+(this.props.border?' '+"_57pm":'');return (h.createElement('div',null,h.createElement('div',{className:u,style:{width:p}},h.createElement(i,{src:n[0],width:o,height:o,style:{marginLeft:q}})),h.createElement('div',{className:v,style:{width:s,height:r}},h.createElement(i,{src:n[1],width:r,height:r,style:{marginLeft:t}})),h.createElement('div',{className:"_55lu",style:{width:s,height:r}},h.createElement(i,{src:n[2],width:r,height:r,style:{marginLeft:t}}))));}});f.exports=m;},null);
__d('MercuryMessageInfo',['MercuryActionStatus','MercuryViewer'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';var j={isOutbound:function(k){return k.author===i.getID();},isInbound:function(k){return !j.isOutbound(k);},isSending:function(k){return (k.status===h.UNSENT||k.status===h.UNCONFIRMED||k.status===h.UNABLE_TO_CONFIRM||k.status===h.RESENDING);},isSent:function(k){return (k.status===undefined||k.status===h.SUCCESS);},hasError:function(k){return (k.status===h.FAILED_UNKNOWN_REASON||k.status===h.UNABLE_TO_CONFIRM||k.status===h.ERROR);}};f.exports=j;},null);
__d('MercuryErrorInfo',['MercuryErrorType','MercuryMessageInfo','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={getMessage:function(l){var m='';if(k.isConnectionError(l)){m=j._("This message didn't send.");if(k.isTransient(l))m=j._("{message} Check your internet connection and click to try again.",[j.param('message',m)]);}else{if(l&&l.description){m=l.description;}else m=j._("This message failed to send.");if(k.isTransient(l))m=j._("{message} Click to send again.",[j.param('message',m)]);}return m;},isConnectionError:function(l){if(l&&l.type==h.TRANSPORT)return l.code===1001||l.code===1004||l.code===1006;return false;},isTransient:function(l){return l&&l.is_transient;},isPermanent:function(l){return l?!this.isTransient(l):false;},hasErrorStatus:function(l){return i.hasError(l);}};f.exports=k;},null);
__d('MercuryMessageError.react',['CurrentUser','ImmutableObject','MercuryErrorInfo','MercuryMessageActions','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();'use strict';var o=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u))r[u]=t[u];}return r;},p=l.PropTypes,q=l.createClass({displayName:'MercuryMessageError',propTypes:{authorFBID:p.string,message:p.instanceOf(i).isRequired},getDefaultProps:function(){return {authorFBID:h.getID()};},render:function(){var r=this.props.message,s=r.error_data;return (l.createElement('div',o({},this.props,{className:n(this.props.className,this._getClassNameFromStatus(r)),tabIndex:j.isTransient(s)?0:null,onClick:j.isTransient(s)?this.messageResend:null}),l.createElement('div',{className:"_2fs1"}),l.createElement('span',{dangerouslySetInnerHTML:{__html:this._getTextFromStatus(r)}})));},messageResend:function(){k.getForFBID(this.props.authorFBID).resend(this.props.message);},_getClassNameFromStatus:function(r){if(j.hasErrorStatus(r)){return "_2fs2"+(' '+"_2fs3")+(j.isTransient(r.error_data)?' '+"_2fs4":'')+(j.isPermanent(r.error_data)?' '+"_2fs5":'');}else return "_2fs6 _2fs2";},_getTextFromStatus:function(r){var s='',t=r.error_data;if(j.hasErrorStatus(r))s=j.getMessage(t);if(typeof s==='object'&&s.__html)s=s.__html;return s;}});f.exports=q;},null);
__d('SyncRequestTitle.react',['React','fbt','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'SyncRequestTitle',propTypes:{appName:k.string.isRequired,isSender:k.bool.isRequired,receiverName:k.string.isRequired,senderName:k.string.isRequired},render:function(){if(this.props.isSender){return (h.createElement('div',null,i._("Waiting for {receiver} to accept your invite to play {app_name}.",[i.param('receiver',h.createElement('span',{className:"_dg4"},this.props.receiverName)),i.param('app_name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}else return (h.createElement('div',null,i._("{sender} wants to play {app_name} with you, right now.",[i.param('sender',h.createElement('span',{className:"_dg4"},this.props.senderName)),i.param('app_name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}});f.exports=l;},null);
__d('SyncRequestAcceptedMessage.react',['React','fbt','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k=h.PropTypes,l=h.createClass({displayName:'SyncRequestAcceptedMessage',propTypes:{appName:k.string.isRequired,isSender:k.bool.isRequired,receiverName:k.string.isRequired,senderName:k.string.isRequired},render:function(){if(this.props.isSender){return (h.createElement('div',null,i._("{receiver} accepted your invite to play {app name}.",[i.param('receiver',h.createElement('span',{className:"_dg4"},this.props.receiverName)),i.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}else return (h.createElement('div',null,i._("You accepted an invite from {sender} to play {app name}.",[i.param('sender',h.createElement('span',{className:"_dg4"},this.props.senderName)),i.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}});f.exports=l;},null);
__d('SyncRequestRejectedMessage.react',['AsyncRequest','Link.react','React','URI','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'SyncRequestRejectedMessage',propTypes:{requestId:n.string.isRequired,app:n.object.isRequired,isSender:n.bool.isRequired,receiver:n.object.isRequired,sender:n.object.isRequired},render:function(){if(this.props.isSender){return (j.createElement('div',null,m._("{receiver} declined your invite to play {app_name}.",[m.param('receiver',j.createElement('span',{className:"_dg4"},this.props.receiver.name)),m.param('app_name',j.createElement('span',{className:"_dg5"},this.props.app.name))])));}else return (j.createElement('div',null,m._("You declined an invite from {sender} to play {app_name}.",[m.param('sender',j.createElement('span',{className:"_dg4"},this.props.sender.name)),m.param('app_name',j.createElement('span',{className:"_dg5"},this.props.app.name))]),j.createElement('div',{className:"_13n7"},j.createElement('div',null,j.createElement(i,{onClick:this._submitBlockApp},m._("Block {app}",[m.param('app',this.props.app.name)]))),j.createElement('div',null,j.createElement(i,{onClick:this._submitBlockUser},m._("Block requests from {sender}",[m.param('sender',this.props.sender.name)]))))));},_submitBlockApp:function(){var p=new k('/games/block_app/'),q=new h().setURI(p);q.setData({app_id:this.props.app.id,source:'sync_request'});q.send();},_submitBlockUser:function(){var p=new k('/games/block_user/'),q=new h().setURI(p);q.setData({app_id:this.props.app.id,blockee_uid:this.props.sender.id});q.send();}});f.exports=o;},null);
__d('SyncRequestExpiredMessage.react',['React','fbt','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'SyncRequestExpiredMessage',propTypes:{appName:k.string.isRequired,isSender:k.bool.isRequired,receiverName:k.string.isRequired,senderName:k.string.isRequired},render:function(){if(this.props.isSender){return (h.createElement('div',null,i._("{receiver} missed your invite to play {app name}.",[i.param('receiver',h.createElement('span',{className:"_dg4"},this.props.receiverName)),i.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}else return (h.createElement('div',null,i._("You missed an invite from {sender} to play {app name}.",[i.param('sender',h.createElement('span',{className:"_dg4"},this.props.senderName)),i.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}});f.exports=l;},null);
__d('SyncRequestCanceledMessage.react',['React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k=h.PropTypes,l=h.createClass({displayName:'SyncRequestCanceledMessage',propTypes:{appName:k.string.isRequired,isSender:k.bool.isRequired,receiverName:k.string.isRequired,senderName:k.string.isRequired},render:function(){if(this.props.isSender){return (h.createElement('div',null,j._("You canceled an invite to {receiver} to play {app name}.",[j.param('receiver',h.createElement('span',{className:"_dg4"},this.props.receiverName)),j.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}else return (h.createElement('div',null,j._("{sender} canceled an invitation to play {app name}.",[j.param('sender',h.createElement('span',{className:"_dg4"},this.props.senderName)),j.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}});f.exports=l;},null);
__d('SyncRequestTimer.react',['React','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes;function k(m){if(m){m=Math.ceil(m);var n=m%60;if(n<10)n='0'+n;var o=Math.floor(m/60);return o+':'+n;}else return "0:00";}var l=h.createClass({displayName:'SyncRequestTimer',propTypes:{timeRemaining:j.number.isRequired,isSender:j.bool.isRequired,receiverName:j.string.isRequired},render:function(){if(this.props.isSender){return (h.createElement('div',null,i._("({time_remaining} remaining)",[i.param('time_remaining',k(this.props.timeRemaining))])));}else return (h.createElement('div',null,i._("You have {time_remaining} to accept.",[i.param('time_remaining',k(this.props.timeRemaining))])));}});f.exports=l;},null);
__d("XSyncRequestSubmitController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/platform\/games\/sync_requests\/submit\/",{request_id:{type:"Int",required:true},sender:{type:"Int",required:true},action:{type:"Int",required:true}});},null,{});
__d('SyncRequest.react',['Arbiter','AsyncRequest','ChannelConstants','React','SyncRequestStatusEnum','SyncRequestTitle.react','SyncRequestAcceptedMessage.react','SyncRequestRejectedMessage.react','SyncRequestExpiredMessage.react','SyncRequestCanceledMessage.react','SyncRequestTimer.react','XUIButton.react','XSyncRequestSubmitController','cx','fbt','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=k.PropTypes,y=k.createClass({displayName:'SyncRequest',propTypes:{app:x.object.isRequired,creationTime:x.number.isRequired,requestId:x.string.isRequired,receiver:x.object.isRequired,sender:x.object.isRequired,status:x.oneOf(w(l)).isRequired,timeout:x.number.isRequired,timeRemaining:x.number.isRequired,viewerId:x.number.isRequired,onStatusUpdate:x.func},componentWillMount:function(){if(this.props.status===l.PENDING){var z=h.subscribe(j.getArbiterType('sync_request_updated'),(function(ca,da){da=da.obj;if(da.id.toString()!==this.props.requestId)return;this.setState({status:da.status});}).bind(this));this.setState({statusEvent:z});}var aa=null;if(this.props.status===l.PENDING){var ba=function(){this.setState({time_remaining:this.state.time_remaining-1});if(this.state.time_remaining<=0){clearInterval(this.state.counter);var ca={counter:null,time_remaining:0};if(this.state.status===l.PENDING)ca.status=l.EXPIRED;this.setState(ca);}};aa=setInterval(ba.bind(this),1000);}this.setState({time_remaining:this.props.timeRemaining,counter:aa});},componentWillUnmount:function(){if(this.state.counter)clearInterval(this.state.counter);h.unsubscribe(this.state.statusEvent);},getInitialState:function(){return {buttonsDisabled:false,time:Date.now(),status:this.props.status,viewerIsSender:this.props.viewerId===this.props.sender.id};},componentDidUpdate:function(z,aa){if(this.props.status!=l.PENDING)this.state.status=this.props.status;if(this.props.onStatusUpdate)this.props.onStatusUpdate(this.state.status,aa.status);},render:function(){var z;switch(this.state.status){case l.PENDING:var aa;if(!this.state.viewerIsSender){aa=[k.createElement(s,{use:'confirm',onClick:this._handleAccept,disabled:this.state.buttonsDisabled,label:v._("Accept")}),k.createElement(s,{use:'default',onClick:this._handleReject,disabled:this.state.buttonsDisabled,label:v._("Decline")})];}else aa=k.createElement(s,{use:'default',onClick:this._handleCancel,disabled:this.state.buttonsDisabled,label:v._("Cancel")});z=k.createElement('div',null,k.createElement('div',{className:"_372m"},k.createElement(m,{appName:this.props.app.name,isSender:this.state.viewerIsSender,receiverName:this.props.receiver.name,senderName:this.props.sender.name})),k.createElement('div',{className:"_372n"},k.createElement(r,{isSender:this.state.viewerIsSender,timeRemaining:this.state.time_remaining,receiverName:this.props.receiver.name})),k.createElement('div',{className:"_372o"},aa));break;case l.ACCEPTED:z=k.createElement('div',{className:"_372p mvs"},k.createElement(n,{appName:this.props.app.name,isSender:this.state.viewerIsSender,receiverName:this.props.receiver.name,senderName:this.props.sender.name}));break;case l.REJECTED:z=k.createElement('div',{className:"_372p mvs"},k.createElement(o,{requestId:this.props.requestId,app:this.props.app,isSender:this.state.viewerIsSender,receiver:this.props.receiver,sender:this.props.sender}));break;case l.EXPIRED:z=k.createElement('div',{className:"_372p mvs"},k.createElement(p,{appName:this.props.app.name,isSender:this.state.viewerIsSender,receiverName:this.props.receiver.name,senderName:this.props.sender.name}));break;case l.CANCELED:z=k.createElement('div',{className:"_372p mvs"},k.createElement(q,{appName:this.props.app.name,isSender:this.state.viewerIsSender,receiverName:this.props.receiver.name,senderName:this.props.sender.name}));break;default:throw new Error('The request status `%s` is unknown.',this.state.status);}return (k.createElement('div',{className:"_372q"},z));},_handleAccept:function(){this._handleStatusUpdate(l.ACCEPTED);var z=window.open(this.props.app.uri);if(z)z.focus();},_handleReject:function(){this._handleStatusUpdate(l.REJECTED);},_handleCancel:function(){this._handleStatusUpdate(l.CANCELED);},_handleStatusUpdate:function(z){this.setState({status:z,buttonsDisabled:true});var aa=t.getURIBuilder().setInt('request_id',this.props.requestId).setInt('sender',this.props.sender.id).setInt('action',z).getURI();new i().setURI(aa).setHandler((function(ba){this.setState({status:z});}).bind(this)).setErrorHandler((function(ba){this.setState({buttonsDisabled:false});}).bind(this)).send();}});f.exports=y;},null);
__d('AbstractBadge.react',['React','cx','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=Object.assign||function(p){for(var q=1;q<arguments.length;q++){var r=arguments[q];for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s))p[s]=r[s];}return p;},m=h.PropTypes;function n(p){return parseInt(p,10)===p;}var o=h.createClass({displayName:'AbstractBadge',propTypes:{count:m.number.isRequired,maxcount:m.number},getDefaultProps:function(){return {maxcount:20};},render:function(){var p=this.props.count,q=this.props.maxcount;!n(p)?j(0):undefined;!n(q)?j(0):undefined;var r="_51lp"+(p>q?' '+"_51lr":'')+(p===0?' '+"hidden_elem":'');return (h.createElement('span',l({},this.props,{className:k(this.props.className,r)}),p>q?q+'+':p));}});f.exports=o;},null);
__d('XUIBadge.react',['React','AbstractBadge.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=Object.assign||function(o){for(var p=1;p<arguments.length;p++){var q=arguments[p];for(var r in q)if(Object.prototype.hasOwnProperty.call(q,r))o[r]=q[r];}return o;},m=h.PropTypes,n=h.createClass({displayName:'XUIBadge',propTypes:{type:m.oneOf(['regular','special'])},getDefaultProps:function(){return {type:'regular'};},render:function(){var o=this.props.type,p="_5ugh"+(o==='regular'?' '+"_5ugf":'')+(o==='special'?' '+"_5ugg":'');return (h.createElement(i,l({},this.props,{className:k(this.props.className,p),type:null})));}});f.exports=n;},null);
__d('LineClamp.react',['React','cx','getVendorPrefixedName','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=h.PropTypes,m=j('lineClamp'),n=h.createClass({displayName:'LineClamp',propTypes:{customEllipsis:l.node,disableNative:l.bool,lineHeight:l.number,lines:l.number.isRequired},_renderEllipsis:function(){var o;if(this.props.lineHeight)o={bottom:this.props.lineHeight+'px'};return (h.createElement('div',{style:o,className:"_4ik3",key:'ellipsis'},this.props.customEllipsis?this.props.customEllipsis:'\u2026'));},render:function(){var o=!!m&&!this.props.disableNative,p=k(this.props.className,"_4ik4"+(o?' '+"_4ik5":'')),q=this.props.children,r={};if(this.props.lineHeight)r={height:this.props.lineHeight*this.props.lines,lineHeight:this.props.lineHeight+'px'};if(o){r[m]=this.props.lines;}else{p=k(p,'clearfix');q=[h.createElement('div',{className:"_4ik6",key:'inner'},q),this._renderEllipsis()];}return (h.createElement('div',{className:p,style:r},q));}});f.exports=n;},null);
__d('PhotoStoreCore',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={actions:{UPDATE:'update'},_photoCache:{},_postCreateCallbacks:{},getPhotoCache:function(i){if(!this._photoCache[i])throw new Error('Photo cache requested for unknown set ID');return this._photoCache[i];},hasBeenCreated:function(i){return !!this._photoCache[i];},clearSetCache:function(i){delete this._photoCache[i];delete this._postCreateCallbacks[i];},getByIndex:function(i,j,k){this.getPhotoCache(i).getItemAtIndex(j,k);},getByIndexImmediate:function(i,j){if(this._photoCache[i])return this._photoCache[i].getItemAtIndexImmediate(j);return undefined;},getItemsInAvailableRange:function(i){var j=this.getAvailableRange(i),k=[];for(var l=j.offset;l<j.length;l++)k.push(this.getByIndexImmediate(i,l));return k;},getItemsAfterIndex:function(i,j,k,l){var m=this.getCursorByIndexImmediate(i,j);this.fetchForward(i,m,k,l);},getAllByIDImmediate:function(i){var j=Object.keys(this._photoCache);return j.map((function(k){return this.getByIndexImmediate(k,this.getIndexForID(k,i));}).bind(this)).filter(function(k){return !!k;});},getIndexForID:function(i,j){if(this._photoCache[i])return this._photoCache[i].getIndexForID(j);return undefined;},getEndIndex:function(i){var j=this.getAvailableRange(i);return j.offset+j.length-1;},getCursorByIndexImmediate:function(i,j){var k=this.getByIndexImmediate(i,j);if(k)return this._photoCache[i].getCursorForID(k.id);return undefined;},hasNextPage:function(i){var j=this.getCursorByIndexImmediate(i,this.getEndIndex(i));return this.getPhotoCache(i).hasNextPage(j);},getAvailableRange:function(i){return this.getPhotoCache(i).getAvailableRange();},hasLooped:function(i){return this.getPhotoCache(i).hasLooped();},fetchForward:function(i,j,k,l){this.getPhotoCache(i).getItemsAfterCursor(j,k,l);},fetchBackward:function(i,j,k,l){this.getPhotoCache(i).getItemsBeforeCursor(j,k,l);},executePostCreate:function(i,j){if(this._photoCache[i]){j&&j();}else this._postCreateCallbacks[i]=j;},runPostCreateCallback:function(i){var j=this._postCreateCallbacks[i];if(j){j();delete this._postCreateCallbacks[i];}},setPreFetchCallback:function(i,j){this.getPhotoCache(i).setPreFetchCallback(j);},updateData:function(i){var j=i.set_id;if(!this._photoCache[j]){this._photoCache[j]=new i.cache_class(i);this.runPostCreateCallback(j);}else if(i.query_metadata.action==h.actions.UPDATE){this._photoCache[j].updateData(i);}else this._photoCache[j].addData(i);},updateFeedbackData:function(i){var j=Object.keys(i);j.forEach(function(k){return h.getAllByIDImmediate(k).forEach(function(l){l.feedback=i[k].feedback;});});},reset:function(){Object.keys(this._photoCache).forEach((function(i){return this.clearSetCache(i);}).bind(this));}};f.exports=h;},null);
__d('MercuryAttachmentSnippetType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,ORION:null,SHARE:null,ERROR:null,MIXED:null});f.exports=i;},null);
__d('ChatEmployeeAwayWarning',['MercuryIDs','MercuryParticipants','MercuryViewer'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={updateEmployeeAwayWarning:function(l,m,n){i.get(j.getID(),function(o){var p=o.employee;if(p)i.getMulti(l.participants,function(q){var r=false,s=h.getUserIDFromThreadID(l.thread_id);if(!s)return;var t='fbid:'+s;for(var u in q)if(t==q[u].id&&q[u].is_employee_away)r=true;if(r){m();}else n();});});}};f.exports=k;},null);
__d('MercuryTypeaheadDataSource',['Banzai','BanzaiLogger','CurrentUser','DataSource','MercuryParticipantTypes','MercuryTypeaheadConstants','OrderedFriendsList','ShortProfiles','WorkModeConfig','debounce'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=Object.assign||function(ca){for(var da=1;da<arguments.length;da++){var ea=arguments[da];for(var fa in ea)if(Object.prototype.hasOwnProperty.call(ea,fa))ca[fa]=ea[fa];}return ca;},s,t,u=500,v=[],w={},x={},y={},z=false,aa=false;s=k;t=s&&s.prototype;Object.assign(ba,s);ba.prototype=Object.create(s.prototype);ba.prototype.constructor=ba;ba.__superConstructor__=s;function ba(ca){'use strict';ca=ca||{};ca.kanaNormalization=true;t.constructor.call(this,ca);this.logQuery=q(function(da){this.$MercuryTypeaheadDataSource1(da);},u,this,true);this.logResponse=q(function(da){this.$MercuryTypeaheadDataSource1(da);},u,this,true);}ba.prototype.dirty=function(){'use strict';this.$MercuryTypeaheadDataSource2=v;this.localCache=x;this.queryCache=w;this.queryIDs=y;return this;};ba.prototype.bootstrap=function(){'use strict';if(z||aa)return false;this.$MercuryTypeaheadDataSource1({event:'bootstrap_start'});aa=true;o.fetchAll().then((function(){this.updateBootstrapData();this.$MercuryTypeaheadDataSource1({event:'bootstrap_end'});aa=false;z=true;}).bind(this),(function(){this.$MercuryTypeaheadDataSource1({event:'bootstrap_failure'});}).bind(this));return true;};ba.prototype.updateBootstrapData=function(){'use strict';var ca=this.getCachedShortProfileIDs(),da=p.is_work_user?l.FB4C:l.FRIEND,ea=ca.map(function(fa){var ga=o.getNow(fa),ha=fa==j.getID()?da:ga.type,ia=[ga.additionalName,ga.alternateName].concat(ga.searchTokens||[]).join(' ');return {uid:fa,index:n.getActiveRank(fa),text:ga.name,tokens:ia,localized_text:ga.name,additional_text:ga.additionalName,photo:ga.thumbSrc,render_type:ha,type:m.USER_TYPE};});if(ea.length)this.addEntries(ea);};ba.prototype.query=function(ca,da,ea,fa){'use strict';var ga=da||ca.length===1;return t.query.call(this,ca,ga,ea,fa);};ba.prototype.getQueryData=function(ca,da){'use strict';return r({},t.getQueryData.call(this,ca,da),{needs_friends:!this.isBootstrapped()});};ba.prototype.setEntry=function(ca,da){'use strict';this.$MercuryTypeaheadDataSource2[ca]=da;};ba.prototype.getEntry=function(ca){'use strict';return this.$MercuryTypeaheadDataSource2[ca]||null;};ba.prototype.getCachedShortProfileIDs=function(){'use strict';var ca=o.getCachedProfileIDs(),da=ca.filter(function(ea){var fa=o.getNow(ea);return (ea==j.getID()||fa.type===l.FRIEND||fa.type===l.FB4C);});return da;};ba.prototype.isBootstrapped=function(){'use strict';return z;};ba.prototype.isBootstrapping=function(){'use strict';return aa;};ba.prototype.processEntries=function(ca,da){'use strict';ca=ca.map(function(ea){if(ea.index==null&&(ea.render_type===l.FRIEND||ea.render_type===l.FB4C))ea.index=n.getActiveRank(ea.uid);return ea;});return t.processEntries.call(this,ca);};ba.prototype.mergeUids=function(ca,da,ea,fa){'use strict';var ga=da.sort((function(ha,ia){return this.getEntry(ha).index-this.getEntry(ia).index;}).bind(this));return t.mergeUids.call(this,ca,ga,ea,fa);};ba.prototype.$MercuryTypeaheadDataSource1=function(ca){'use strict';if(!h.isEnabled('mercury_typeahead_logging'))return;i.log('MercuryQueryResultsLoggerConfig',ca);};f.exports=ba;},null);
__d('ChatTabTypeaheadDataSource',['MercuryTypeaheadConstants','MercuryTypeaheadDataSource'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k;j=i;k=j&&j.prototype;Object.assign(l,j);l.prototype=Object.create(j.prototype);l.prototype.constructor=l;l.__superConstructor__=j;function l(m){'use strict';m=m||{};m.maxResults=h.COMPOSER_CHATTAB_MAX;k.constructor.call(this,m);this.$ChatTabTypeaheadDataSource1=true;}l.prototype.buildData=function(m){'use strict';var n=[],o=[],p=[],q=[],r=[];m.forEach(function(s){var t=k.getEntry.call(this,s);switch(t.render_type){case h.FRIEND_TYPE:n.push(s);break;case h.THREAD_TYPE:if(this.$ChatTabTypeaheadDataSource1)o.push(s);break;case h.NON_FRIEND_TYPE:p.push(s);break;case h.FB4C_TYPE:q.push(s);break;case h.PAGE_TYPE:if(this.$ChatTabTypeaheadDataSource1)r.push(s);break;default:this.logQuery({event:'chat_tab_render_type_error'});break;}},this);return k.buildData.call(this,n.concat(q,o,r,p));};l.prototype.query=function(m,n,o,p){'use strict';this.logQuery({event:'query_chat_tab',query:m});return k.query.call(this,m,n,o,p);};l.prototype.respond=function(m,n,o){'use strict';var p=k.respond.call(this,m,n,o);this.logResponse({event:'query_response_chat_tab',response_query:m,response_uids:n});return p;};l.prototype.setShowThreads=function(m){'use strict';this.$ChatTabTypeaheadDataSource1=m;};f.exports=l;},null);
__d('MessengerHotLikePreviewEvents',['mixInEventEmitter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i={START:'start',STOP:'stop',POP:'pop',REMOVE:'remove',FINISH_ANIMATION:'finish_animation'};h(i,{start:true,stop:true,pop:true,remove:'remove',finish_animation:'finish_animation'});f.exports=i;},null);
__d("XStickerAssetController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/asset\/",{sticker_id:{type:"Int",required:true},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}});},null,{});
__d('MessengerHotLikeUtils',['StickerAssetType','StickerConstants','XStickerAssetController'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k={SizeTimes:{small:1000,medium:2000,large:3000},getStickerIDForTime:function(l){var m=null;switch(true){case l<this.SizeTimes.small:m=i.HOT_LIKE_SMALL_STICKER_ID;break;case l<this.SizeTimes.medium:m=i.HOT_LIKE_MEDIUM_STICKER_ID;break;case l<this.SizeTimes.large:m=i.HOT_LIKE_LARGE_STICKER_ID;break;}return m;},getGrowCoefficientForSince:function(l){return Math.min(1,(Date.now()-l)/this.SizeTimes.large);},getMetadataForHotLike:function(l){var m;switch(l){case i.HOT_LIKE_LARGE_STICKER_ID:m=120;break;case i.HOT_LIKE_MEDIUM_STICKER_ID:m=84;break;case i.HOT_LIKE_SMALL_STICKER_ID:m=35;break;}return m?{height:m,width:m}:undefined;},getPreviewURI:function(){return j.getURIBuilder().setInt('sticker_id',i.HOT_LIKE_LARGE_STICKER_ID).setEnum('image_type',h.IMAGE).getURI().toString();},getURIWithID:function(l){return j.getURIBuilder().setInt('sticker_id',l).setEnum('image_type',h.IMAGE).getURI().toString();}};f.exports=k;},null);
__d('MessengerContextBannerBootloader',['BootloadedComponent.react','CurrentUser','DOM','JSResource','React'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=Object.assign||function(q){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)if(Object.prototype.hasOwnProperty.call(s,t))q[t]=s[t];}return q;};function n(q,r,s,t,u){var v=j.create('div');o(q,r,function(w){l.render(w,v,s(v));},t,u);}function o(q,r,s,t,u,v){v=m({left:0,position:'absolute',right:0,top:0},v);p({otherUserFBIDs:t&&[t],threadID:q,style:v},r,s,u);}function p(q,r,s,t){s(l.createElement(h,m({bootloadPlaceholder:l.createElement('div',{style:{height:80}}),bootloadLoader:k('MessengerContextBannerContainer.react'),location:r,onResize:t,viewer:i.getID()},q)));}f.exports={bootload:n,getBootloadedComponent:o};},null);
__d('MercuryShareAttachmentReactShape',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i=h.PropTypes,j=i.shape({share_id:i.string,description:i.string,media:i.shape({image:i.string,image_size:i.shape({height:i.number,width:i.number}),duration:i.number,playable:i.bool,source:i.string}),source:i.string,style_list:i.arrayOf(i.string),subattachments:i.array,target:i.object,title:i.string,properties:i.object,uri:i.string}).isRequired;f.exports=j;},null);
__d('MessengerMomentsAppSnippet.react',['Image.react','MercuryShareAttachmentReactShape','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();'use strict';var n=j.PropTypes,o=j.createClass({displayName:'MessengerMomentsAppSnippet',propTypes:{attachment:i,isSenderViewer:n.bool,senderName:n.string},render:function(){var p=this.props.attachment;if(!p||!p.target)return null;var q,r=p.target.photo_count;if(this.props.isViewerSender){if(r==1){q=l._("You synced 1 photo.");}else q=l._("You synced {photo_count} photos.",[l.param('photo_count',r)]);}else if(r==1){q=l._("{sender name} synced 1 photo.",[l.param('sender name',this.props.senderName)]);}else q=l._("{sender name} synced {photo_count} photos.",[l.param('sender name',this.props.senderName),l.param('photo_count',r)]);return (j.createElement('span',{className:"uiIconText _3l6h"},j.createElement(h,{src:m('/images/messaging/docs/generic.png')}),q));}});f.exports=o;},null);
__d('MessengerStateProcessor',['MercuryAPIArgsSource','MercuryIDs','MercuryParticipantTypes','MercuryParticipants','MercuryThreadIDMap','MercuryThreads','MercuryVanityIDMap','MessengerURIConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();'use strict';var p={preprocess:function(r){var s=r.activeThreadID;if(s){var t=i.getUserIDFromThreadID(s),u=t&&k.getNow(i.getParticipantIDFromUserID(t));if(u&&u.type!==j.EVENT){r.threadKey=u.vanity||t;}else if(t&&!u){var v=i.getParticipantIDFromUserID(t);r.threadKey=n.hasID(v)?n.getVanity(v):t;}else{var w=l.get(),x=w.getFBIDFromClientIDNow(s);r.threadKey=x||s;}}delete r.activeThreadID;return r;},postprocess:function(r){var s=l.get(),t=m.get(),u=q(r.threadKey),v;v=i.isValid(u)?u:s.getClientIDFromFBIDNow(u);if(!v){var w=k.getIDFromVanityOrFBID(u),x=w&&t.getCanonicalThreadToParticipant(w,null,h.MESSENGER);if(x)v=x.thread_id;}if(v){r.activeThreadID=v;r.serverThreadID=s.getFBIDFromClientIDNow(v);}delete r.threadKey;return r;}};function q(r){if(!r)return null;return r.startsWith(o.GROUP_PREFIX)?r.substr(o.GROUP_PREFIX.length):r;}f.exports=p;},null);
__d('MercuryThreadMuter',['AsyncDialog','AsyncRequest','DOM','MercuryThreadInfo'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={showMuteChangeDialog:function(m,n){h.send(new i('/ajax/mercury/mute_thread_dialog.php').setRelativeTo(n),function(o){o.subscribe('confirm',(function(){this.hide();var p;j.scry(this.getRoot(),'input[type="radio"]').forEach(function(q){if(q.checked)p=q.value;});p=l.convertRawMuteSetting(p);e(['MercuryThreadActions'],function(q){q.get().updateMuteSetting(m,p);});}).bind(o));});},convertRawMuteSetting:function(m){switch(m){case 'always':return -1;case '30minutes':return 1800;case '1hour':return 3600;case '8hours':return 8*3600;case '24hours':return 24*3600;case '8am':var n,o=new Date(),p=new Date();p.setHours(8);p.setMinutes(0);p.setSeconds(0);if(p>o){n=p-o;}else n=p-o+24*3600*1000;return n/1000;default:return 0;}}};f.exports=l;},null);
__d('NotificationSettingsDialog',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={show:function(i){e(['MercuryThreadActions'],function(j){j.get().openNotificationSettings(i);});}};f.exports=h;},null);
__d('MercuryTypingReceiver',['Arbiter','ChannelConstants','FBID','MercuryActionType','MercuryIDs','MercuryPayloadSource','MercuryDispatcher','MercurySingletonMixin','MercuryViewer','TypingStates','isEmpty','mixInEventEmitter','setTimeoutAcrossTransitions','MercuryThreadIDMap'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=c('MercuryThreadIDMap').get(),v=30000;function w(x){'use strict';this.$MercuryTypingReceiver1=null;this.$MercuryTypingReceiver2={};this.$MercuryTypingReceiver3=n.getForFBID(x);this.$MercuryTypingReceiver3.subscribe('update-typing-state',(function(z,aa){var ba=aa.payload_source;if(ba!=m.CLIENT_CHANNEL_MESSAGE)return;var ca=aa.actions;if(!ca||!ca.length)return;var da=k.USER_GENERATED_MESSAGE;ca.forEach((function(ea){if(ea.action_type==da&&ea.author!=p.getID())this.$MercuryTypingReceiver4(ea.thread_id,ea.author);}).bind(this));}).bind(this));var y;if(j.isUser(x)){y=[i.getArbiterType('typ'),i.getArbiterType('ttyp')];}else y=[i.getArbiterType('page_typing')];h.subscribe(y,(function(z,aa){var ba=aa.obj,ca=this.$MercuryTypingReceiver5(ba);if(ca){var da=l.getParticipantIDFromUserID(ba.from);if(ba.st==q.TYPING){this.$MercuryTypingReceiver2[ca]=this.$MercuryTypingReceiver2[ca]||{};var ea=this.$MercuryTypingReceiver2[ca][da];this.$MercuryTypingReceiver2[ca][da]=Date.now();if(!this.$MercuryTypingReceiver1)this.$MercuryTypingReceiver1=t((function(){this.$MercuryTypingReceiver6();}).bind(this),3000);!ea&&this.$MercuryTypingReceiver7(ca);}else if(ba.st==q.INACTIVE)this.$MercuryTypingReceiver4(ca,da);}}).bind(this));}w.prototype.$MercuryTypingReceiver8=function(x){'use strict';var y=this.$MercuryTypingReceiver2[x]||{},z=Object.keys(y);z.sort(function(aa,ba){return y[aa]-y[ba];});return z;};w.prototype.$MercuryTypingReceiver6=function(){'use strict';this.$MercuryTypingReceiver1=null;var x=Date.now(),y={},z=false;for(var aa in this.$MercuryTypingReceiver2){var ba=false;for(var ca in this.$MercuryTypingReceiver2[aa]||{})if(this.$MercuryTypingReceiver2[aa][ca]<x-v){delete this.$MercuryTypingReceiver2[aa][ca];ba=true;}else z=true;if(ba)y[aa]=this.$MercuryTypingReceiver8(aa);}if(!r(y))this.$MercuryTypingReceiver9(y);if(z)this.$MercuryTypingReceiver1=t((function(){this.$MercuryTypingReceiver6();}).bind(this),3000);};w.prototype.$MercuryTypingReceiver4=function(x,y){'use strict';if(x in this.$MercuryTypingReceiver2)if(y in this.$MercuryTypingReceiver2[x]){delete this.$MercuryTypingReceiver2[x][y];this.$MercuryTypingReceiver7(x);}};w.prototype.$MercuryTypingReceiver9=function(x){'use strict';this.releaseHeldEventType('state-changed');this.emitAndHold('state-changed',x);};w.prototype.$MercuryTypingReceiver7=function(x){'use strict';var y={};y[x]=this.$MercuryTypingReceiver8(x);this.$MercuryTypingReceiver9(y);};w.prototype.$MercuryTypingReceiver5=function(x){'use strict';if(x.thread_fbid)return u.getClientIDFromFBIDNow(x.thread_fbid);if(x.type==='typ'||x.type==='page_typing')return l.getThreadIDFromUserID(x.from);return null;};s(w,{'state-changed':true});Object.assign(w,o);f.exports=w;},null);
__d('MercuryIndicatorController',['ArbiterMixin','DOM','MercuryActionType','MercuryDelayedRoger','MercuryIDs','MercuryMessageSourceTags','MercuryParticipants','MercuryViewer','arrayContains','formatDate','removeFromArray','fbt','MercuryRoger','MercuryThreads','MercuryTypingReceiver'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=c('MercuryRoger').get(),u=c('MercuryThreads').get(),v=c('MercuryTypingReceiver').get(),w=[];function x(y){this._threadID=y;this._canonicalUser=l.getUserIDFromThreadID(y);w.push(this);}Object.assign(x.prototype,h,{destroy:function(){r(w,this);},setLastMessage:function(y){this._lastMsg=y;this._handleStateChange();},_informStateChanged:function(y){if(y.activity=='none'&&this._currentActivity=='none')return;if(this._lastMsg&&o.isViewer(this._lastMsg.author))y.self_authored=true;this._currentActivity=y.activity;this.inform('state-changed',y);},_notifySentFrom:function(){var y,z,aa=this._lastMsg.source_tags||[];if(p(aa,m.MESSENGER)){y=i.create('a',{href:'/mobile/messenger','class':'fcg',target:'_blank'},s._("Sent from Messenger"));z='sentFromMobile';}else if(p(aa,m.MOBILE)){y=i.create('a',{href:'/mobile','class':'fcg',target:'_blank'},s._("Sent from Mobile"));z='sentFromMobile';}else if(p(aa,m.EMAIL)){y=s._("Sent from email");z='sentFromEmail';}else{this._informStateChanged({activity:'none'});return;}this._informStateChanged({activity:z,text:y});},_notifySeenTimestamp:function(y){var z=t.getSeenTimestamp(this._threadID,y[0])*.001,aa=Date.now()*.001,ba;if(z<aa-518400){ba='M j';}else if(z<aa-86400){ba='D g:ia';}else ba='g:ia';this._informStateChanged({activity:'seen-timestamp',text:s._("Seen {timestamp}",[s.param('timestamp',q(z,ba))])});},_nameNormalizer:function(y){var z;n.getMulti(y,function(aa){function ba(da){if(aa[da]!==undefined){return aa[da].short_name.toLowerCase();}else return da;}var ca=y.map(ba);z=function(da){var ea=ba(da),fa=ca.indexOf(ea)!==ca.lastIndexOf(ea);return fa?aa[da].name:aa[da].short_name;};});return z;},_notifySeenBy:function(y){var z=this._lastMsg,aa=true;n.getMulti(y,(function(ba){aa=false;if(this._lastMsg!=z)return;var ca=u.getThreadMetaNow(this._threadID),da=ca?ca.participants.length:0,ea=y.length+(z.author!=o.getID()),fa,ga=false,ha=da>2&&ea>=da-1,ia;if(ca)ia=this._nameNormalizer(ca.participants);if(!ia)ia=function(ma){return ba[ma].short_name;};if(ha){fa=s._("Seen by everyone");}else if(y.length==1){fa=s._("Seen by {user}",[s.param('user',ba[y[0]].short_name)]);}else if(y.length==2){fa=s._("Seen by {user1}, {user2}",[s.param('user1',ba[y[0]].short_name),s.param('user2',ba[y[1]].short_name)]);}else if(y.length==3){fa=s._("Seen by {user1}, {user2}, {user3}",[s.param('user1',ba[y[0]].short_name),s.param('user2',ba[y[1]].short_name),s.param('user3',ba[y[2]].short_name)]);}else if(y.length>3){var ja=Object.keys(ba).length-2,ka=s._({"*":"{num} more"},[s.param('num',ja,[0])]),la=i.create('span',{className:'more'},ka);fa=s._("Seen by {user1}, {user2}, {=num more link}",[s.param('user1',ba[y[0]].short_name),s.param('user2',ba[y[1]].short_name),s.param('=num more link',la)]);ga=true;}this._informStateChanged({activity:'seen-by',text:fa,seenBy:y,tooltip:ga});}).bind(this));aa&&this._informStateChanged({activity:'none'});},_notifyTyping:function(y){var z=this._lastMsg,aa=true;n.getMulti(y,(function(ba){aa=false;if(this._lastMsg!=z)return;var ca=u.getThreadMetaNow(this._threadID),da=ca?ca.participants.length:0,ea;if(ca)ea=this._nameNormalizer(ca.participants);if(!ea)ea=function(ka){return ba[ka].short_name;};var fa,ga=false;if(da>2&&y.length>=da-1){fa=s._("Everyone is typing...");}else if(y.length==1){fa=s._("{name} is typing...",[s.param('name',ba[y[0]].short_name)]);}else if(y.length==2){fa=s._("{user1} and {user2} are typing...",[s.param('user1',ba[y[0]].short_name),s.param('user2',ba[y[1]].short_name)]);}else if(y.length==3){fa=s._("{user1}, {user2}, and {user3} are typing...",[s.param('user1',ba[y[0]].short_name),s.param('user2',ba[y[1]].short_name),s.param('user3',ba[y[2]].short_name)]);}else if(y.length>3){var ha=Object.keys(ba).length-2,ia=s._({"*":"{num} more"},[s.param('num',ha,[0])]),ja=i.create('a',{href:'#'},ia);fa=s._("{user1}, {user2}, and {=num more link} are typing...",[s.param('user1',ba[y[0]].short_name),s.param('user2',ba[y[1]].short_name),s.param('=num more link',ja)]);ga=true;}this._informStateChanged({activity:'typing',text:fa,typing:y,tooltip:ga});}).bind(this));aa&&this._informStateChanged({activity:'none'});},_handleStateChange:function(){var y=j.LOG_MESSAGE;if(!this._lastMsg||this._lastMsg.action_type==y){this._informStateChanged({activity:'none'});return;}if(this._typing&&this._typing.length){this._notifyTyping(this._typing);return;}if(this._canonicalUser&&this._lastMsg.author!=o.getID()){this._notifySentFrom();return;}var z=k.getSeenBy(this._threadID,true);if(z.length)if(this._canonicalUser){this._notifySeenTimestamp(z);return;}else{this._notifySeenBy(z);return;}this._informStateChanged({activity:'none'});}});v.addRetroactiveListener('state-changed',function(y){w.forEach(function(z){var aa=y[z._threadID];if(aa!==undefined){z._typing=aa;z._handleStateChange();}});});k.subscribe('state-changed',function(y,z){w.forEach(function(aa){z[aa._threadID]&&aa._handleStateChange();});});f.exports=x;},null);
__d('MercuryLastMessageIndicator.react',['DOM','MercuryIndicatorController','MercuryParticipants','React','TooltipData','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=k.PropTypes,q=k.createClass({displayName:'MercuryLastMessageIndicator',propTypes:{hideTyping:p.bool,indicatorWillShow:p.func,indicatorDidShow:p.func,lastMessage:p.object,threadID:p.string.isRequired},getDefaultProps:function(){return {indicatorWillShow:n,indicatorDidShow:n};},getInitialState:function(){return {data:{}};},componentDidMount:function(){this._setup(this.props);},componentWillReceiveProps:function(r){if(r.threadID!=this.props.threadID){this._destroy();this._setup(r);}else if(r.lastMessage!=this.props.lastMessage)this._controller.setLastMessage(r.lastMessage);},componentWillUpdate:function(r,s){if(this.isVisible(r,s))this.props.indicatorWillShow();},componentDidUpdate:function(){if(!this.isVisible())return;this.setText();this.setTooltip();this.props.indicatorDidShow();},componentWillUnmount:function(){this._destroy();},render:function(){return (k.createElement('div',{className:this.getRootClass()},k.createElement('div',{className:"_510h"}),k.createElement('span',{className:"_510f",ref:'text'},' ')));},getRootClass:function(){var r="_510g"+(this.state.data.self_authored?' '+"_510e":''),s=this.state.data.activity,t=null;if(String(s).startsWith('seen')){t='seen';}else if(s=='typing'){t=this.props.hideTyping?null:s;}else t=s;return o(r,t,this.props.className);},isVisible:function(r,s){r=r||this.props;s=s||this.state;return (s.data&&s.data.activity!='none'&&!(r.hideTyping&&s.data.activity=='typing'));},setText:function(){if(this.state.data.text)h.setContent(k.findDOMNode(this.refs.text),this.state.data.text);},setTooltip:function(){if(this.state.data.activity=='seen-by'&&this.state.data.tooltip)j.getMulti(this.state.data.seenBy,(function(r){var s=h.create('div',null,this.state.data.seenBy.map(function(t){return h.create('div',null,r[t].name);}));l.set(h.find(k.findDOMNode(this),'span.more'),s,'above','center');}).bind(this));},_setup:function(r){this._controller=new i(r.threadID);this._subscription=this._controller.subscribe('state-changed',(function(s,t){return this.setState({data:t});}).bind(this));r.lastMessage&&this._controller.setLastMessage(r.lastMessage);},_destroy:function(){this._subscription.unsubscribe();this._controller.destroy();}});f.exports=q;},null);
__d('MercuryShareAttachmentRenderLocations',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';var h={CHAT:'chat',CHAT_PREVIEW:'chat_preview',MESSENGER:'messenger',WEB_INBOX:'web_inbox',getValues:function(){return [h.CHAT,h.CHAT_PREVIEW,h.MESSENGER,h.WEB_INBOX];},isPreview:function(i){return i===h.CHAT_PREVIEW;}};f.exports=h;},null);
__d('MNCommerceAttachmentUtils',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';var h={shouldRenderMap:function(i,j){return (!!i&&i.latitude&&i.longitude&&!!j);},getDestinationAddressString:function(i){if(!i)return null;var j=i.street_1;if(!!i.city)j=j+' '+i.city+',';if(!!i.state)j=j+' '+i.state;return j;}};f.exports=h;},null);
__d('MercuryFallbackShareAttachmentSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=i.PropTypes,n=i.createClass({displayName:'MercuryFallbackShareAttachmentSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o;if(this.props.isViewerSender){o=k._("You shared a link.");}else o=k._("{sender name} shared a link.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/messaging/docs/generic.png')}),o));}});f.exports=n;},null);
__d('MercuryAttachmentSnippetRenderer',['MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryAudioType','MercuryConstants','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m={getAttachmentSnippetType:function(n){if(this._hasOnlyPhotos(n))return h.PHOTO;if(this._hasOnlyAnimatedImages(n))return h.GIF;if(this._hasOnlyVideo(n))return h.VIDEO;if(this._hasAudioClip(n))return h.AUDIO_CLIP;if(this._hasSticker(n))return h.STICKER;if(this._hasOrion(n))return h.ORION;if(this._hasShare(n))return h.SHARE;if(this._hasError(n))return h.ERROR;return h.MIXED;},renderAttachmentSnippetText:function(n,o,p,q){switch(n){case h.PHOTO:return this._renderPhotoAttachmentSnippetText(o,p,this._getPhotoAttachments(q));case h.GIF:return this._renderAnimatedImagesAttachmentSnippetText(o,p,this._getAnimatedImageAttachments(q));case h.VIDEO:return o?l._("You sent a video."):l._("{sender name} sent a video.",[l.param('sender name',p)]);case h.AUDIO_CLIP:return o?l._("You sent a voice message."):l._("{name} sent a voice message.",[l.param('name',p)]);case h.STICKER:return o?l._("You sent a sticker."):l._("{name} sent a sticker.",[l.param('name',p)]);case h.ORION:if(q&&q[0]&&q[0].metadata)return this.renderOrionSnippetText(o,p,q[0].metadata,'');break;case h.SHARE:return o?l._("You shared a link."):l._("{sender name} shared a link.",[l.param('sender name',p)]);case h.ERROR:return o?l._("You sent an attachment."):l._("{sender name} sent an attachment.",[l.param('sender name',p)]);default:return '';}},_hasOnlyPhotos:function(n){return this._getPhotoAttachments(n).length===n.length;},_hasOnlyAnimatedImages:function(n){return this._getAnimatedImageAttachments(n).length===n.length;},_hasOnlyVideo:function(n){return (n.length===1&&n[0].attach_type===i.VIDEO);},_hasAudioClip:function(n){var o=n[0].metadata&&n[0].metadata.type;return (n.length===1&&(o===j.AudioClip||o===j.VoiceMessageWithTranscript));},_hasSticker:function(n){return (n.length===1&&n[0].attach_type===i.STICKER);},_hasOrion:function(n){return this._hasSingleAttachmentOfShareDataType(n,k.MercurySupportedShareType.FB_ORION);},_hasSingleAttachmentOfShareDataType:function(n,o){return (n.length===1&&n[0].share_data_type===o);},_hasShare:function(n){return (n.length===1&&n[0].attach_type===i.SHARE);},_hasError:function(n){return (n.length===1&&n[0].attach_type===i.ERROR);},_getPhotoAttachments:function(n){if(!n)return [];return n.filter(function(o){return o.attach_type===i.PHOTO;});},_getAnimatedImageAttachments:function(n){if(!n)return [];return n.filter(function(o){return o.attach_type===i.ANIMATED_IMAGE;});},_renderPhotoAttachmentSnippetText:function(n,o,p){if(p.length===1){if(n){return l._("You sent a photo.");}else return l._("{name} sent a photo.",[l.param('name',o)]);}else if(n){return l._({"*":"You sent {num_photos} photos."},[l.param('num_photos',p.length,[0])]);}else return l._({"*":"{name} sent {num_photos} photos."},[l.param('name',o),l.param('num_photos',p.length,[0])]);},_renderAnimatedImagesAttachmentSnippetText:function(n,o,p){if(p.length===1){if(n){return l._("You sent a GIF.");}else return l._("{name} sent a GIF.",[l.param('name',o)]);}else if(n){return l._("You sent {num_animated_images} GIFs.",[l.param('num_animated_images',p.length)]);}else return l._("{name} sent {num_animated_images} GIFs.",[l.param('name',o),l.param('num_animated_images',p.length)]);},renderOrionSnippetText:function(n,o,p,q){if(n){return l._("You sent {currency}{amount}.",[l.param('currency',p),l.param('amount',q)]);}else return l._("{name} sent you {currency}{amount}.",[l.param('name',o),l.param('currency',p),l.param('amount',q)]);}};f.exports=m;},null);
__d('P2PMercuryAttachmentSnippet.react',['CurrentUser','Image.react','MercuryAttachmentSnippetRenderer','React','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();'use strict';var n=k.PropTypes,o=k.createClass({displayName:'P2PMercuryAttachment',propTypes:{sender:n.object,receiver:n.object,amount:n.string,currency:n.string},getDefaultProps:function(){return {sender:{},receiver:{}};},render:function(){var p=j.renderOrionSnippetText(h.getID()===this.props.sender.id,this.props.sender.name,this.props.currency,this.props.amount);return (k.createElement('span',{className:"uiIconText _3l6h _3_io"},k.createElement(i,{height:12,src:m('/images/p2p/attachment-snippet-icon.png'),width:12}),p));}});f.exports=o;},null);
__d('P2PMercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','P2PMercuryAttachmentSnippet.react','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k=j.createClass({displayName:'P2PMercuryShareAttachmentSnippet',propTypes:{attachment:h},render:function(){var l=this.props.attachment?this.props.attachment.target:{};return (j.createElement(i,l));}});f.exports=k;},null);
__d('MercuryPhotoShareSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=i.PropTypes,n=i.createClass({displayName:'MercuryPhotoShareSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o=this.props.isViewerSender?k._("You sent a photo."):k._("{sender name} sent a photo.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/icons/photo.gif')}),o));}});f.exports=n;},null);
__d('MercuryVideoShareSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=i.PropTypes,n=i.createClass({displayName:'MercuryVideoShareSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o=this.props.isViewerSender?k._("You sent a video."):k._("{sender name} sent a video.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/icons/video.gif')}),o));}});f.exports=n;},null);
__d('MercuryMessageLocationShareAttachmentSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=i.PropTypes,n=i.createClass({displayName:'MercuryMessageLocationShareAttachmentSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o;if(this.props.isViewerSender){o=k._("You sent a location.");}else o=k._("{sender name} sent a location.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/messaging/location/location.png')}),o));}});f.exports=n;},null);
__d('MercuryAnimatedShareSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=i.PropTypes,n=i.createClass({displayName:'MercuryAnimatedShareSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o=this.props.isViewerSender?k._("You sent a GIF."):k._("{sender name} sent a GIF.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/icons/photo.gif')}),o));}});f.exports=n;},null);
__d('MercuryProductItemShareSnippet.react',['Image.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=i.PropTypes,n=i.createClass({displayName:'MercuryProductItemShareSnippet',propTypes:{isViewerSender:m.bool,senderName:m.string},render:function(){var o=this.props.isViewerSender?k._("You sent a for sale item."):k._("{sender name} sent a for sale item.",[k.param('sender name',this.props.senderName)]);return (i.createElement('span',{className:"uiIconText _3l6h"},i.createElement(h,{src:l('/images/messaging/docs/generic.png')}),o));}});f.exports=n;},null);
__d('MercuryShareStyleMap',['JSResource','Map','MercuryConfig','MercuryShareAttachmentRenderLocations','MNCommerceAttachmentUtils','StoryAttachmentStyle','cx','emptyFunction','MercuryFallbackShareAttachmentSnippet.react','MercuryFallbackShareAttachmentSnippet.react','P2PMercuryShareAttachmentSnippet.react','MessengerMomentsAppSnippet.react','MercuryPhotoShareSnippet.react','MercuryVideoShareSnippet.react','MercuryMessageLocationShareAttachmentSnippet.react','MercuryAnimatedShareSnippet.react','MercuryProductItemShareSnippet.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();'use strict';var p=new i();p.set(m.FALLBACK,{componentName:'MercuryFallbackShareAttachment.react',componentLoader:h('MercuryFallbackShareAttachment.react'),getSnippetComponent:function(){return c('MercuryFallbackShareAttachmentSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d"]]),requiresNoBubbleTail:function(r,s){return (r.share.media.image&&s);}});p.set(m.EVENT,{componentName:'MercuryEventShareAttachment.react',componentLoader:h('MercuryEventShareAttachment.react'),getSnippetComponent:function(){return c('MercuryFallbackShareAttachmentSnippet.react');}});p.set(m.ORION,{componentName:'P2PMercuryShareAttachment.react',componentLoader:h('P2PMercuryShareAttachment.react'),getSnippetComponent:function(){return c('P2PMercuryShareAttachmentSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d _3djc"]])});if(j.WWWMessengerCommerceGK){p.set(m.RETAIL_RECEIPT,{componentName:'MNCommerceReceiptMercuryShareAttachment.react',componentLoader:h('MNCommerceReceiptMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});p.set(m.RETAIL_CANCELLATION,{componentName:'MNCommerceCancelationMercuryShareAttachment.react',componentLoader:h('MNCommerceCancelationMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});p.set(m.RETAIL_SHIPMENT,{componentName:'MNCommerceShippingMercuryShareAttachment.react',componentLoader:h('MNCommerceShippingMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]]),requiresNoBubbleTail:function(r){var s=r.share&&r.share.target&&r.share.target;return s&&l.shouldRenderMap(s.destination,s.estimated_delivery_display_time);}});p.set(m.RETAIL_SHIPMENT_TRACKING_EVENT,{componentName:'MNCommerceShippingMercuryShareAttachment.react',componentLoader:h('MNCommerceShippingMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]])});p.set(m.RETAIL_NOW_IN_STOCK,{componentName:'MNCommerceProductSubscriptionMercuryShareAttachment.react',componentLoader:h('MNCommerceProductSubscriptionMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]]),requiresNoBubbleTail:o.thatReturnsTrue});}if(j.WWWMessengerAirlinesGK)p.set(m.AIRLINE_FLIGHT_RESCHEDULE_UPDATE_BUBBLE,{componentName:'MNAirlineUpdateMercuryShareAttachment.react',componentLoader:h('MNAirlineUpdateMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]]),requiresNoBubbleTail:o.thatReturnsFalse});if(j.WWWMessengerMoneyPennyGK)p.set(m.RETAIL_AGENT_ITEM_SUGGESTION,{componentName:'MNCommerceAgentItemSuggestionMercuryShareAttachment.react',componentLoader:h('MNCommerceAgentItemSuggestionMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]]),requiresNoBubbleTail:function(r){return r.share.target.thumb_url;}});if(j.MomentsMessengerWWWGK)p.set(m.MOMENTS_APP_INVITATION,{componentName:'MessengerMomentsAppShareAttachment.react',componentLoader:h('MessengerMomentsAppShareAttachment.react'),getSnippetComponent:function(){return c('MessengerMomentsAppSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d"]]),requiresNoBubbleTail:o.thatReturnsTrue});p.set(m.IMAGE_SHARE,{componentName:'MercuryImageShareAttachment.react',componentLoader:h('MercuryImageShareAttachment.react'),getSnippetComponent:function(){return c('MercuryPhotoShareSnippet.react');},cx:null,requiresNoBubbleTail:o.thatReturnsTrue,unwrapInStory:o.thatReturnsTrue});p.set(m.VIDEO,{componentName:'MercuryVideoShareAttachment.react',componentLoader:h('MercuryVideoShareAttachment.react'),getSnippetComponent:function(){return c('MercuryVideoShareSnippet.react');},cx:null,requiresNoBubbleTail:o.thatReturnsTrue,unwrapInStory:o.thatReturnsTrue});p.set(m.MESSAGE_LOCATION,{componentName:'MercuryMessageLocationShareAttachment.react',componentLoader:h('MercuryMessageLocationShareAttachment.react'),getSnippetComponent:function(){return c('MercuryMessageLocationShareAttachmentSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d"]]),requiresNoBubbleTail:function(r,s){return (r.share.media.image&&s);}});p.set(m.ANIMATED_IMAGE_SHARE,{componentName:'MercuryAnimatedShareAttachment.react',componentLoader:h('MercuryAnimatedShareAttachment.react'),getSnippetComponent:function(){return c('MercuryAnimatedShareSnippet.react');},cx:null,requiresNoBubbleTail:o.thatReturnsTrue,unwrapInStory:o.thatReturnsFalse});p.set(m.GROUP_SELL_PRODUCT_ITEM,{componentName:'MercuryProductItemShareAttachment.react',componentLoader:h('MercuryProductItemShareAttachment.react'),getSnippetComponent:function(){return c('MercuryProductItemShareSnippet.react');},cx:new i([[k.MESSENGER,"_5i_d"]]),requiresNoBubbleTail:null,unwrapInStory:o.thatReturnsTrue});p.set(m.FINANCIAL_BILL_PAYMENT_REQUEST,{componentName:'MNBillPaymentRequestMercuryShareAttachment.react',componentLoader:h('MNBillPaymentRequestMercuryShareAttachment.react'),cx:new i([[k.MESSENGER,"_5i_d _205d"]]),requiresNoBubbleTail:o.thatReturnsFalse});var q={getStyleFactory:function(r){if(!r||!r.style_list)return null;if(r.style_list[0]===m.ATTACHED_STORY){var s=r.subattachments,t=s&&s.length?s[0].style_list:[],u=this._getStyleMapEntry(t);if(u&&u.unwrapInStory&&u.unwrapInStory())return {attachment:s[0],factory:u};}var v=this._getStyleMapEntry(r.style_list);if(!v)return null;return {attachment:r,factory:v};},_getStyleMapEntry:function(r){for(var s=0;s<r.length;s++){var t=p.get(r[s]);if(t)return t;}return null;}};f.exports=q;},null);
__d('WebMessengerDeleteThreadDialog',['Dialog','fbt','MercuryThreadActions'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('MercuryThreadActions').get(),k={show:function(l){var m=[];m.push({name:'delete_conversation',label:i._("Delete Conversation"),handler:function(){return j['delete'](l);}});m.push(h.CANCEL);new h().setTitle(i._("Delete This Entire Conversation?")).setBody(i._("Once you delete your copy of this conversation, it cannot be undone.")).setButtons(m).show();}};f.exports=k;},null);
__d('WebMessengerThreadPermalinks',['MercuryIDs','MessagingTag','URI','WebMessengerPermalinkConstants','WWWBase','requireWeak'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();'use strict';var n={getThreadURI:function(r,s,t){if(h.isCanonical(r)){o(r,s,t);}else p(r,s,t);}};function o(r,s,t){var u=new j(l.uri),v=h.tokenize(r).value;u.setPath(q(t)+'/'+v);s&&s(u.toString());}function p(r,s,t){m('MercuryThreadIDMap',function(u){var v=u.get();v.getFBIDFromClientID(r,function(w){var x=new j(l.uri);x.setPath(k.getURIPathForThreadID(w,q(t)));s&&s(x.toString());});});}function q(r){var s=k.BASE_PATH;if(r&&r!=i.INBOX)s+='/'+r;return s;}f.exports=n;},null);
__d('PhotoStore',['Arbiter','PhotoStoreCore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();h.subscribe('update-photos',function(j,k){i.updateData(k);});f.exports=i;},null);
__d('MessagesViewer',['AsyncRequest','Bootloader','DOM','MessagesViewerSetID','PhotoStore','React','Run','emptyFunction','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q={bootstrapWithElem:function(t){q.bootstrapWithConfig({fbid:t.getAttribute('data-fbid'),dimensions:t.getAttribute('data-dimensions'),src:t.getAttribute('href'),endpoint:t.getAttribute('data-endpoint'),disablePaging:t.getAttribute('data-disablepaging')},t);},bootstrapWithConfig:function(t,u){var v=t.setID;if(!v)v=k.MESSAGES;s(function(w,x){r(m.createElement(w,{dimensions:[t.dimensions],disablepaging:t.disablePaging,disableForward:t.disableForward,open:true,photoid:t.fbid,reverse:false,rootClassName:t.rootClassName,setid:v,snapToPhoto:t.snapToPhoto,thumbsrc:t.src}));if(!l.hasBeenCreated(v)&&t.endpoint){var y=new h(t.endpoint);if(u)y.setRelativeTo(u);y.send();}});},renderVideo:function(t){s(function(u,v){r(m.createElement(v,t));});},preload:function(){n.onAfterLoad(function(){return s(o);});}};function r(t){var u=p('messages_viewer');if(!u){u=j.create('div',{id:'messages_viewer'});document.body.appendChild(u);}t=m.render(t,u);t.subscribeOnce('close',function(){m.unmountComponentAtNode(u);});}function s(t){i.loadModules(["SpotlightMessagesViewer","MessagingVideoViewer.react"],t);}f.exports=q;},null);
__d('MercuryLogMessageRenderer',['Bootloader','CSS','HovercardLink','MercuryViewer','MessagesViewer','MercuryLogMessageType','MercuryParticipants','React','Image.react','TextWithEntities.react','TooltipLink.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v={renderText:function(ka,la){switch(ka.log_message_type){case m.SUBSCRIBE:y(ka,la);break;case m.UNSUBSCRIBE:da(ka,la);break;case m.THREAD_NAME:ea(ka,la);break;case m.THREAD_IMAGE:fa(ka,la);break;case m.WALLPAPER:ga(ka,la);break;case m.GENERIC_ADMIN_TEXT:ha(ka,la);break;default:h.loadModules(["MercurySpecialLogMessageRenderer"],function(ma){ma.renderText(ka,la);});break;}},renderIcon:function(ka){return (o.createElement(p,{className:w(ka),src:u('images/spacer.gif')}));},renderLegacy:function(ka,la,ma,na){w(na).split(' ').forEach(function(oa){return oa&&i.addClass(ka,oa);});this.renderText(na,function(oa){o.render(o.createElement('span',null,oa),la);});this.renderAttachmentLegacy(ma,na);},renderAttachmentLegacy:function(ka,la){if(la.log_message_type==m.THREAD_IMAGE){var ma=la.log_message_data.image;if(ma&&ma.preview_url){o.render(o.createElement(p,{className:"_z6a",onClick:function(){return x(ma);},src:ma.preview_url}),ka);i.show(ka);}}}};f.exports=v;function w(ka){var la=ka.log_message_type,ma=ka.log_message_data;return "_5wzu"+(la==m.SUBSCRIBE?' '+"_5wzj":'')+(la==m.UNSUBSCRIBE?' '+"_5wzk":'')+(la==m.THREAD_NAME?' '+"_5wzl":'')+(la==m.THREAD_IMAGE?' '+"_5wzm":'')+(la==m.VIDEO_CALL&&ma.answered?' '+"_5wzn":'')+(la==m.VIDEO_CALL&&!ma.answered?' '+"_5wzo":'')+(la==m.PHONE_CALL&&ma.answered?' '+"_5wzp":'')+(la==m.PHONE_CALL&&!ma.answered?' '+"_5wzq":'')+(la==m.SERVER_ERROR?' '+"_5wzr":'');}function x(ka){l.bootstrapWithConfig({src:ka.preview_url,endpoint:ka.url,fbid:ka.metadata.fbid,dimensions:ka.metadata.dimensions,disablePaging:true},null);}function y(ka,la){var ma=ja(ka.log_message_data.added_participants);switch(ma.length){case 1:z(ka,la,ma);break;case 2:aa(ka,la,ma);break;case 3:ba(ka,la,ma);break;default:ca(ka,la,ma);break;}}function z(ka,la,ma){var na=[ka.author,ma[0]];n.getMulti(na,function(oa){if(ka.author==k.getID()){la(t._("You added {subscriber1}.",[t.param('subscriber1',ia(oa[ma[0]]))]));}else if(ma[0]==k.getID()){la(t._("{actor} added you.",[t.param('actor',ia(oa[ka.author]))]));}else la(t._("{actor} added {subscriber1}.",[t.param('actor',ia(oa[ka.author])),t.param('subscriber1',ia(oa[ma[0]]))]));});}function aa(ka,la,ma){var na=[ka.author].concat(ma);n.getMulti(na,function(oa){if(ka.author==k.getID()){la(t._("You added {subscriber1} and {subscriber2}.",[t.param('subscriber1',ia(oa[ma[0]])),t.param('subscriber2',ia(oa[ma[1]]))]));}else if(ma[0]==k.getID()){la(t._("{actor} added you and {subscriber2}.",[t.param('actor',ia(oa[ka.author])),t.param('subscriber2',ia(oa[ma[1]]))]));}else la(t._("{actor} added {subscriber1} and {subscriber2}.",[t.param('actor',ia(oa[ka.author])),t.param('subscriber1',ia(oa[ma[0]])),t.param('subscriber2',ia(oa[ma[1]]))]));});}function ba(ka,la,ma){var na=[ka.author].concat(ma);n.getMulti(na,function(oa){if(ka.author==k.getID()){la(t._("You added {subscriber1}, {subscriber2} and {subscriber3}.",[t.param('subscriber1',ia(oa[ma[0]])),t.param('subscriber2',ia(oa[ma[1]])),t.param('subscriber3',ia(oa[ma[2]]))]));}else if(ma[0]==k.getID()){la(t._("{actor} added you, {subscriber2} and {subscriber3}.",[t.param('actor',ia(oa[ka.author])),t.param('subscriber2',ia(oa[ma[1]])),t.param('subscriber3',ia(oa[ma[2]]))]));}else la(t._("{actor} added {subscriber1}, {subscriber2} and {subscriber3}.",[t.param('actor',ia(oa[ka.author])),t.param('subscriber1',ia(oa[ma[0]])),t.param('subscriber2',ia(oa[ma[1]])),t.param('subscriber3',ia(oa[ma[2]]))]));});}function ca(ka,la,ma){var na=[ka.author].concat(ma);n.getMulti(na,function(oa){function pa(ra){var sa=o.createElement('div',null,ra.map(function(ta){return o.createElement('div',null,ta.name);}));return (o.createElement(r,{alignH:'center',position:'above',tooltip:sa},t._({"*":"{num} more"},[t.param('num',ra.length,[0])])));}var qa=ma.map(function(ra){return oa[ra];});if(ka.author==k.getID()){la(t._("You added {subscriber1}, {subscriber2} and {more_people}.",[t.param('subscriber1',ia(qa[0])),t.param('subscriber2',ia(qa[1])),t.param('more_people',pa(qa.slice(2)))]));}else if(ma[0]==k.getID()){la(t._("{actor} added you, {subscriber2} and {more_people}.",[t.param('actor',ia(oa[ka.author])),t.param('subscriber2',ia(qa[1])),t.param('more_people',pa(qa.slice(2)))]));}else la(t._("{actor} added {subscriber1}, {subscriber2} and {more_people}.",[t.param('actor',ia(oa[ka.author])),t.param('subscriber1',ia(qa[0])),t.param('subscriber2',ia(qa[1])),t.param('more_people',pa(qa.slice(2)))]));});}function da(ka,la){var ma=[ka.author],na=ka.log_message_data.removed_participants,oa;if(na.length===1){oa=na[0];ma.push(oa);}n.getMulti(ma,function(pa){var qa=pa[ka.author],ra=pa[oa];if(ka.author==k.getID()){if(!oa||oa==ka.author){la(t._("You left the conversation."));}else la(t._("You removed {name} from the conversation.",[t.param('name',ia(ra))]));}else if(!oa||oa==ka.author){la(t._("{actor} left the conversation.",[t.param('actor',ia(qa))]));}else if(oa==k.getID()){la(t._("{actor} removed you from the conversation.",[t.param('actor',ia(qa))]));}else la(t._("{actor} removed {name} from the conversation.",[t.param('actor',ia(qa)),t.param('name',ia(ra))]));});}function ea(ka,la){var ma=ka.log_message_data.name;if(ka.author==k.getID()){if(ma){la(t._("You named the conversation: {name}.",[t.param('name',o.createElement('span',{className:"_5wzs"},o.createElement(q,{renderEmoticons:true,renderEmoji:true,text:ma})))]));}else la(t._("You removed the conversation name."));}else n.get(ka.author,function(na){var oa=ia(na);if(ma){la(t._("{actor} named the conversation: {name}.",[t.param('actor',oa),t.param('name',o.createElement('span',{className:"_5wzs"},ma))]));}else la(t._("{actor} removed the conversation name.",[t.param('actor',oa)]));});}function fa(ka,la){if(ka.author==k.getID()){if(ka.log_message_data.image){la(t._("You changed the conversation picture."));}else la(t._("You removed the conversation picture."));}else n.get(ka.author,function(ma){var na=ia(ma);if(ka.log_message_data.image){la(t._("{actor} changed the conversation picture.",[t.param('actor',na)]));}else la(t._("{actor} removed the conversation picture.",[t.param('actor',na)]));});}function ga(ka,la){if(ka.author==k.getID()){la(t._("You changed the wallpaper."));}else n.get(ka.author,function(ma){var na=ia(ma);la(t._("{actor} changed the wallpaper.",[t.param('actor',na)]));});}function ha(ka,la){la(ka.log_message_body);}function ia(ka,la){var ma=ka.fbid,na=j.constructEndpoint({id:ma});if(ka.href)return (o.createElement('a',{className:"_5wzt",href:ka.href,'data-hovercard':na},la?ka.short_name:ka.name));return ka.name;}function ja(ka){var la=ka.indexOf(k.getID());if(la>0){var ma=ka.filter(function(na){return na!==k.getID();});return [k.getID()].concat(ma);}return ka;}},null);
__d('MercuryThreadMetadataRawRenderer',['Event','CSS','DOM','MercuryActionStatus','MercuryErrorInfo','MercuryStatusTemplates','TooltipData','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q={renderParticipantListWithNoThreadName:function(r,s,t,u,v,w){var x={callback:true,check_length:true,show_unread_count:true};w=w||{};var y={};for(var z in w)if(x[z]){y[z]=w[z];delete w[z];}var aa=t.map(function(fa){return u[fa];}),ba=this.renderRawParticipantList(r,aa,t.length,w);ba=this.renderRawTitleWithUnreadCount(ba,y.show_unread_count?s.unread_count:0);var ca=w.abbr_mode,da={};for(var ea in w)da[ea]=w[ea];da.abbr_mode=true;v.forEach((function(fa){var ga=v.length>1?this._cloneIfDOMElement(ba):ba;j.setContent(fa,ga);if(y.check_length&&!ca&&fa.scrollWidth>fa.clientWidth){var ha=this.renderRawParticipantList(r,aa,t.length,da),ia=this.renderRawTitleWithUnreadCount(ha,y.show_unread_count?s.unread_count:0);j.setContent(fa,ia);}}).bind(this));y.callback&&y.callback(ba);},renderRawParticipantList:function(r,s,t,u){var v={abbr_mode:true,last_separator_uses_and:true,names_renderer:true};u=u||{};var w=null;if(u.names_renderer){w=u.names_renderer(s);}else w=s.map(function(y){return y.name;});var x=null;if(w.length===0){if(!r){x=p._("New Message");}else x=p._("No Participants");}else if(w.length==1){x=w[0];}else if(w.length==2){if(u.last_separator_uses_and){x=p._("{participant1} and {participant2}",[p.param('participant1',w[0]),p.param('participant2',w[1])]);}else x=p._("{participant1}, {participant2}",[p.param('participant1',w[0]),p.param('participant2',w[1])]);}else if(u.last_separator_uses_and){if(u.abbr_mode){x=p._("{participant1} and {others_link}",[p.param('participant1',w[0]),p.param('others_link',this.renderRawParticipantCount({render_subset:true,count:t-1}))]);}else if(w.length==3){x=p._("{participant1}, {participant2} and {participant3}",[p.param('participant1',w[0]),p.param('participant2',w[1]),p.param('participant3',w[2])]);}else x=p._("{participant1}, {participant2} and {others_link}",[p.param('participant1',w[0]),p.param('participant2',w[1]),p.param('others_link',this.renderRawParticipantCount({render_subset:true,count:t-2}))]);}else if(w.length==3){x=p._("{participant1}, {participant2}, {participant3}",[p.param('participant1',w[0]),p.param('participant2',w[1]),p.param('participant3',w[2])]);}else x=p._("{participant1}, {participant2}, {participant3}, {others_link}",[p.param('participant1',w[0]),p.param('participant2',w[1]),p.param('participant3',w[2]),p.param('others_link',this.renderRawParticipantCount({render_subset:true,count:t-3}))]);if(Array.isArray(x))x=j.create('span',{},x);return x;},renderRawTitleWithUnreadCount:function(r,s){var t=r;if(s&&s>1)t=j.create('span',{},p._("{conversation_title} ({unread_count})",[p.param('conversation_title',r),p.param('unread_count',s)]));return t;},renderRawParticipantCount:function(r){var s=r.render_subset,t;if(!s){t=r.count>1?p._({"*":"{num} people"},[p.param('num',r.count,[0])]):p._("1 person");}else t=r.count>1?p._({"*":"{others_count} others"},[p.param('others_count',r.count,[0])]):p._("1 other");return t;},renderShortNames:function(r){if(r.length==1)return [r[0].name];return r.map(function(s){return s.short_name;});},renderStatusIndicator:function(r,s,t){var u;if(r==k.RESENDING){u=this.renderResendIndicator();}else if(r!==undefined&&r!=k.UNSENT&&r!=k.UNCONFIRMED&&r!=k.SUCCESS)u=this.renderErrorIndicator(s,t);return u;},renderResendIndicator:function(){return m[':fb:mercury:resend-indicator'].render();},renderErrorIndicator:function(r,s){if(!r)return null;var t=m[':fb:mercury:error-indicator'].render(),u=r.is_transient,v=l.getMessage(r);if(u)if(l.isConnectionError(r)){v=p._("{message} Check your internet connection and click to try again.",[p.param('message',v)]);}else v=p._("{message} Click to send again.",[p.param('message',v)]);n.set(t,v,'above','center');if(s&&u){h.listen(t,'click',s);t.setAttribute('tabindex','0');i.addClass(t,"_55q-");}return t;},_cloneIfDOMElement:function(r){if(r&&r.cloneNode){return r.cloneNode();}else return r;}};f.exports=q;},null);
__d('MercuryThreadSearchUtils',['escapeRegex','TokenizeUtil'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={wordsInString:function(k){return (k||'').split(/\s+/).filter(function(l){return l.trim().length>0;});},anyMatchPredicate:function(k,l){for(var m=0;m<k.length;m++)if(l(k[m]))return true;return false;},allMatchPredicate:function(k,l){for(var m=0;m<k.length;m++)if(!l(k[m]))return false;return true;},queryWordMatchesAnyNameWord:function(k,l){var m=new RegExp('^'+h(k),'i');return this.anyMatchPredicate(l,function(n){var o=i.parse(n).flatValue;return m.test(o);});},queryMatchesName:function(k,l){var m=this.wordsInString(k),n=this.wordsInString(l);return this.allMatchPredicate(m,(function(o){return this.queryWordMatchesAnyNameWord(o,n);}).bind(this));}};f.exports=j;},null);
__d('MercuryMessageGroup',['MercuryActionType','MercuryAttachmentType','MercuryShareAttachmentRenderLocations','MercuryThreadlistConstants','toIterator'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m={calculateMessageGroups:function(p,q){var r=[],s=null,t={value:null},u=l(p),v;while(!(v=u.next()).done){var w=m.canAppendMessageToLastGroup(t.value,v.value,q);if(!w){s=[];r.push(s);}s.push(v.value);t=v;}return r;},canAppendMessageToLastGroup:function(p,q,r){var s=k.GROUPING_THRESHOLD;if(!p||n(p,r)||n(q,r)||p.author!=q.author||p.timestamp<q.timestamp-s||p.is_spoof_warning!==q.is_spoof_warning)return false;return true;}};function n(p,q){var r=p.has_attachment;if(r&&(q===j.MESSENGER||q===j.CHAT))r=o(p);return !!(p.action_type==h.LOG_MESSAGE||r||p.forward_count||p.page_admin_notes||p.html_body||p.body&&p.body.length>k.MAX_CHARS_BEFORE_BREAK);}function o(p){var q=p.attachments[0];return (!q||q.attach_type===i.STICKER||q.attach_type===i.ANIMATED_IMAGE);}f.exports=m;},null);
__d('URLScraper',['ArbiterMixin','DataStore','Event','URLMatcher','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n,o='scraperLastPermissiveMatch';m=l(h);n=m&&m.prototype;Object.assign(p,m);p.prototype=Object.create(m.prototype);p.prototype.constructor=p;p.__superConstructor__=m;function p(q,r){'use strict';n.constructor.call(this);this.input=q;this.enable();this.getValueFn=r;}p.prototype.reset=function(){'use strict';i.set(this.input,o,null);};p.prototype.enable=function(){'use strict';if(this.events)return;var q=function(r){setTimeout(this.check.bind(this,r),30);};this.events=j.listen(this.input,{paste:q.bind(this,false),keydown:q.bind(this,true)});};p.prototype.disable=function(){'use strict';if(!this.events)return;for(var event in this.events)this.events[event].remove();this.events=null;};p.prototype.check=function(q){'use strict';var r=this.getValueFn?this.getValueFn():this.input.value;if(q&&p.trigger(r))return;var s=p.match(r),t=k.permissiveMatch(r);if(t&&t!=i.get(this.input,o)){i.set(this.input,o,t);this.inform('match',{url:s||t,alt_url:t});}};Object.assign(p,k);f.exports=p;},null);
__d('SyncRequestNotificationBeeperItemContents.react',['Animation','CloseButton.react','ImageBlock.react','NotificationUserActions','React','SyncRequest.react','SyncRequestStatusEnum','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=l.createClass({displayName:'SyncRequestNotificationBeeperItemContents',_markAsRead:function(){k.markNotificationsAsRead([this.props.beep.notificationID]);this.props.onHide();},_onClose:function(){this._markAsRead();this.props.onHide();},_doFlash:function(){new h(l.findDOMNode(this.refs.inner)).from('opacity','0').to('opacity','1').duration(200).go();},componentDidMount:function(){if(this.props.beep.rendererData.status!=n.PENDING)this.props.onReadyToHide(this.props.beep.notificationID);},componentDidUpdate:function(q){if(this.props.beep.rendererData.status!=n.PENDING&&q.beep.rendererData.status==n.PENDING)this.props.onReadyToHide(this.props.beep.notificationID);},onRequestStatusUpdate:function(q,r){if(q!=n.PENDING&&r==n.PENDING)this.props.onReadyToHide(this.props.beep.notificationID);},render:function(){var q=this.props.beep,r=q.rendererData;return (l.createElement('div',{ref:'inner'},l.createElement(i,{className:"_3soc",onClick:this._onClose,size:'medium'}),l.createElement(j,{className:"_3soj"},l.createElement('img',{src:q.actors[0].profile_picture.uri,className:"_3sok"}),l.createElement('div',{className:"_3sol"},l.createElement(m,{app:r.app,creationTime:r.creation_time,requestId:r.id.toString(),receiver:r.receiver,sender:r.sender,status:r.status,timeout:r.timeout,timeRemaining:r.time_remaining,viewerId:r.receiver.id,onStatusUpdate:this.onRequestStatusUpdate})))));}});f.exports=p;},null);
__d('LiveMessageReceiver',['Arbiter','ChannelConstants','emptyFunction','shield'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m){this.eventName=m;this.subs=null;this.handler=j;this.shutdownHandler=null;this.registered=false;this.appId=1;}Object.assign(l,{getAppMessageType:function(m,n){return 'live_message/'+m+':'+n;},route:function(m){var n=function(o){var p=l.getAppMessageType(m.app_id,m.event_name);h.inform(p,o,h.BEHAVIOR_PERSISTENT);};n(m.response);}});Object.assign(l.prototype,{setAppId:function(m){this.appId=m;return this;},setHandler:function(m){this.handler=m;this._dirty();return this;},setRestartHandler:j,setShutdownHandler:function(m){this.shutdownHandler=k(m);this._dirty();return this;},_dirty:function(){if(this.registered){this.unregister();this.register();}},register:function(){var m=(function(o,p){return this.handler(p);}).bind(this),n=l.getAppMessageType(this.appId,this.eventName);this.subs={};this.subs.main=h.subscribe(n,m);if(this.shutdownHandler)this.subs.shut=h.subscribe(i.ON_SHUTDOWN,this.shutdownHandler);this.registered=true;return this;},unregister:function(){if(!this.subs)return this;for(var m in this.subs)if(this.subs[m])this.subs[m].unsubscribe();this.subs=null;this.registered=false;return this;}});f.exports=l;},null);
__d('initLiveMessageReceiver',['Arbiter','ChannelConstants','LiveMessageReceiver'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();h.subscribe(i.getArbiterType('app_msg'),function(k,l){j.route(l.obj);});},null);
__d('StickersDispatcher',['Dispatcher','StickerConstants'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';var j=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var n=arguments[m];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))l[o]=n[o];}return l;},k=Object.assign(new h(),{_handleUpdate:function(l,m){var n=j({payloadSource:l},m);this.dispatch(n);},handleUpdateFromViewActions:function(l){this._handleUpdate(i.PayloadSource.VIEW_ACTION,l);}});f.exports=k;},null);
__d('StickerActions',['BanzaiLogger','StickersDispatcher','keyMirror'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k=j({ADD_PACK:null,CLICKED_STICKER_IN_THREAD:null,HIDE_TRAY:null,REMOVE_PACK:null,REPLACE_STICKER_STATE:null,RESET_NUM_NEW_PACKS:null,SELECT_PACK:null,SELECT_STORE_PACK:null,SHOW_TRAY:null,UPDATE_TRAY_DATA:null,TRAY_DATA_READY:null}),l={Types:k,addPack:function(m){i.dispatch({type:k.ADD_PACK,packID:m});},removePack:function(m){i.dispatch({type:k.REMOVE_PACK,packID:m});},selectPack:function(m,n){if(!n)h.log('StickersLoggerConfig',{event:'select_pack',packid:m});i.dispatch({type:k.SELECT_PACK,packID:m});},selectStorePack:function(m){i.dispatch({type:k.SELECT_STORE_PACK,packID:m});},resetNumNewPacks:function(){i.dispatch({type:k.RESET_NUM_NEW_PACKS});},handleStickerClick:function(m,n){i.dispatch({packID:m,threadID:n,type:l.Types.CLICKED_STICKER_IN_THREAD});},showStickerTray:function(m){i.dispatch({type:l.Types.SHOW_TRAY,threadID:m});},hideStickerTray:function(){i.dispatch({type:l.Types.HIDE_TRAY});},updateTrayData:function(){i.dispatch({type:l.Types.UPDATE_TRAY_DATA});},loadedTrayData:function(){i.dispatch({type:l.Types.TRAY_DATA_READY});}};f.exports=l;},null);
__d("XStickerPackImagesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/{pack_id}\/images\/",{pack_id:{type:"Int",required:true},sticker_size:{type:"Int",defaultValue:50}});},null,{});
__d("XStickersAddPackController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/addpack\/",{pack_id:{type:"Int"},size:{type:"String"},redirect_uri:{type:"String"},is_promoted:{type:"Bool",defaultValue:false}});},null,{});
__d("XStickersRemovePackController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/removepack\/",{pack_id:{type:"Int"},size:{type:"String"},redirect_uri:{type:"String"}});},null,{});
__d("XStickerStateInitialDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/state\/",{});},null,{});
__d("XStickerStatePackDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/state\/pack\/",{pack_id:{type:"Int",required:true}});},null,{});
__d("XStickerStateStoreDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/state\/store\/",{});},null,{});
__d("XStickerSearchNUXSeenController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/searchNUX\/seen\/",{});},null,{});
__d("XStickerTagDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/tag\/data\/",{});},null,{});
__d("XStickerQueryImagesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/stickers\/query\/images\/",{query:{type:"String",required:true}});},null,{});
__d('StickerServerRequests',['AsyncRequest','Promise','XStickerPackImagesController','XStickersAddPackController','XStickersRemovePackController','XStickerStateInitialDataController','XStickerStatePackDataController','XStickerStateStoreDataController','XStickerSearchNUXSeenController','XStickerTagDataController','XStickerQueryImagesController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();'use strict';var s={addPack:function(u,v,w){var x=k.getURIBuilder().setInt('pack_id',u).setBool('is_promoted',v).getURI();new h(x).setHandler(function(y){return w(y.payload);}).send();},removePack:function(u,v){var w=l.getURIBuilder().setInt('pack_id',u).getURI();new h(w).setHandler(function(x){return v(x.payload);}).send();},getStickersForPack:function(u,v){var w=j.getURIBuilder().setInt('pack_id',u).setInt('sticker_size',v).getURI();return new i(function(x,y){return (new h().setURI(w).setMethod("POST").setHandler(function(z){return x(z.payload);}).send());});},getStickersForQuery:function(u,v){new h().setURI(r.getURIBuilder().setString('query',u).getURI()).setMethod("POST").setHandler(function(w){return v(w);}).send();},fetchTrayData:function(u){return t(m.getURIBuilder().getURI(),u,true);},fetchStoreData:function(u){return t(o.getURIBuilder().getURI(),u);},fetchPackData:function(u,v){return t(n.getURIBuilder().setInt('pack_id',u).getURI(),v);},fetchTagData:function(u){return t(q.getURIBuilder().getURI(),u,true);},markSeenSearchNUX:function(){new h(p.getURIBuilder().getURI().toString()).send();}};function t(u,v,w){return new i(function(x,y){return (new h(u).setHandler(function(z){return x(z.getPayload());}).setAllowCrossPageTransition(w).send());}).then(v);}f.exports=s;},null);
__d('StickerImages',['StickerServerRequests'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i={},j={},k={},l={getStickerTagsData:function(){return k;},requestStickersForPack:function(m,n,o){if(!m)return;if(!j[m]){j[m]=h.getStickersForPack(m,n);j[m].then((function(p){p.forEach((function(q){return this.cacheSticker(q);}).bind(this));}).bind(this));}j[m].then(function(p){return o(p);});},cacheSticker:function(m){i[m.id]=m;},getSticker:function(m){return i[m];}};f.exports=l;},null);
__d('StickerState',['ImmutableObject','StickerConfig','PresenceState','StickerActions','StickerConstants','StickerImages','StickerServerRequests'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();'use strict';var o={},p,q,r,s=null,t=0,u={},v=[],w=[],x=[],y=null,z=null,aa=j.get();if(aa)y=aa.tray_pack_id;var ba=i.ShowStickerReplyNUX,ca=i.ShowStickerSearchNUX,da={onTrayDataReady:function(fa){if(!q)q=n.fetchTrayData(function(ga){v=ga.packs.map(function(ha){return ea(ha);});r=ga.mru;t=ga.num_new_packs;x=ga.tags;});q.then(function(){fa();k.loadedTrayData();});},onStoreDataReady:function(fa){if(!p)p=n.fetchStoreData(function(ga){w=ga.packs.map(function(ha){return ea(ha);});});p.then(fa);},onPackDataReady:function(fa,ga){if(!o[fa])o[fa]=n.fetchPackData(fa,function(ha){ea(ha);});o[fa].then(ga);},getPacksInTrayAllInterfaces:function(){return v;},getPacksInTray:function(){var fa=[],ga;for(var ha=0;ha<v.length;ha++)if(v[ha].id==l.EMOTICON_PACK_ID){ga=v[ha];}else if(v[ha].isMessengerCapable)fa.push(v[ha]);ga&&fa.push(ga);return fa;},getPacksInCommentsTray:function(){var fa=[],ga=[],ha;for(var ia=0;ia<v.length;ia++)if(v[ia].id==l.EMOTICON_PACK_ID){ha=v[ia];}else if(v[ia].isCommentsCapable){fa.push(v[ia]);}else ga.push(v[ia]);var ja=fa.concat(ga);if(ha)ja.push(ha);return ja;},getPacksInComposerTray:function(){return v.filter(function(fa){return fa.isComposerCapable;});},getPackIDsInTray:function(){return v.map(function(fa){return fa.id;});},getPacksInStore:function(){return w.filter(function(fa){return fa.isMessengerCapable;});},getComposerPacksInStore:function(){return w.filter(function(fa){return fa.isComposerCapable;});},getPack:function(fa){return u[fa];},getNumNewPacks:function(){return t;},getFeaturedTags:function(){return x;},resetNumNewPacks:function(){t=0;},addMRUPack:function(){if(r){this._addPackToTray(r);r=null;}},addPack:function(fa){var ga=false;if(u[fa])ga=u[fa].isPromoted;n.addPack(fa,ga,(function(ha){this._addPackToTray(ha);}).bind(this));},removePack:function(fa){n.removePack(fa,(function(ga){v=v.filter(function(ha){return ha.id!==ga;});u[ga]=h.set(u[ga],{isInTray:false});w=w.map(function(ha){return u[ha.id];});k.updateTrayData();}).bind(this));},setTrayPackID:function(fa){y=fa;j.doSync();},getTrayPackID:function(fa){if(fa&&fa.length>0&&!fa.some(function(ga){return ga.id===y;})){return fa[0].id;}else return y;},setStorePackID:function(fa){z=fa;},getStorePackID:function(){return z;},shouldShowStickerReplyNUX:function(){return ba;},clearShowStickerReplyNUX:function(){ba=false;},shouldShowStickerSearchNUX:function(){return ca;},clearShowStickerSearchNUX:function(){n.markSeenSearchNUX();ca=false;},_addPackToTray:function(fa,ga){ea(fa);u[fa.id]=h.set(u[fa.id],{isPurchased:!ga,isInTray:true});var ha=v.filter(function(ja){return ja.id===fa.id;}).length>0;if(!ha){var ia;if(!ga){ia=v.filter(function(ja){return ja.isMRU||ja.isSearch;}).length;}else ia=v.filter(function(ja){return ja.id!==l.EMOTICON_PACK_ID;}).length;v.splice(ia,0,u[fa.id]);}w=w.map(function(ja){return u[ja.id];});k.updateTrayData();},_addRecentlyUsedSticker:function(fa){for(var ga=0;ga<s.length;++ga)if(s[ga].id===fa.id){s.splice(ga,1);break;}s.unshift(fa);},getMRUStickerPack:function(fa){if(!s)s=fa;return s;},updateRecentlyUsed:function(fa){if(!s){this.addMRUPack();return;}this._addRecentlyUsedSticker(m.getSticker(fa));}};j.registerStateStorer(function(fa){fa.tray_pack_id=y;});function ea(fa){var ga=fa.id;if(!u[ga]){return u[ga]=new h(fa);}else return u[ga]=h.set(u[ga],fa);}f.exports=da;},null);
__d('AbstractDialogFitHeight',['CSS','DOM','Event','Style','SubscriptionsHandler','Vector','csx','cx','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=450,r=100,s=67,t=67;function u(v){'use strict';this.$AbstractDialogFitHeight1=v;}u.prototype.enable=function(){'use strict';this.$AbstractDialogFitHeight2=new l();this.$AbstractDialogFitHeight2.addSubscriptions(this.$AbstractDialogFitHeight1.subscribe('beforeshow',this.$AbstractDialogFitHeight3.bind(this)),j.listen(window,'resize',p(this.$AbstractDialogFitHeight3.bind(this))));this.$AbstractDialogFitHeight4=i.find(this.$AbstractDialogFitHeight1.getRoot(),"._4-i2");h.addClass(this.$AbstractDialogFitHeight4,"_5pfh");this.$AbstractDialogFitHeight5=r;if(i.scry(this.$AbstractDialogFitHeight1.getRoot(),"._4-i0").length)this.$AbstractDialogFitHeight5+=s;if(i.scry(this.$AbstractDialogFitHeight1.getRoot(),"._5a8u").length)this.$AbstractDialogFitHeight5+=t;};u.prototype.disable=function(){'use strict';this.$AbstractDialogFitHeight2.release();this.$AbstractDialogFitHeight2=null;h.removeClass(this.$AbstractDialogFitHeight4,"_5pfh");};u.prototype.$AbstractDialogFitHeight3=function(){'use strict';var v=m.getViewportDimensions().y,w=v-this.$AbstractDialogFitHeight5;k.set(this.$AbstractDialogFitHeight4,this.getHeightProperty(),Math.max(q,w)+'px');this.$AbstractDialogFitHeight1.updatePosition();};f.exports=u;},null);
__d('DialogFitHeight',['AbstractDialogFitHeight'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=h;j=i&&i.prototype;Object.assign(k,i);k.prototype=Object.create(i.prototype);k.prototype.constructor=k;k.__superConstructor__=i;k.prototype.getHeightProperty=function(){'use strict';return 'height';};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('StickerStoreController',['Bootloader','DialogFitHeight','DOM','LayerAutoFocus','LayerFadeOnHide','LayerHideOnEscape','React','ReactComponentRenderer','StickerActions','XUIDialog.react','XUIDialogBody.react','XUISpinner.react','cx','requestAnimationFrame'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();'use strict';var v=n.PropTypes,w=688,x=null,y=n.createClass({displayName:'StoreLayer',propTypes:{isComposer:v.bool,shown:v.bool},getDefaultProps:function(){return {isComposer:false,shown:false};},getInitialState:function(){return {renderStore:function(){return (n.createElement('div',{className:"_5r5e"},n.createElement(s,{background:'light',size:'large'})));}};},componentDidMount:function(){h.loadModules(["StickerStore.react"],(function(ba){this.setState({renderStore:(function(){return (n.createElement(ba,{isComposer:this.props.isComposer,shown:this.props.shown}));}).bind(this)});}).bind(this));},_onToggle:function(ba){u(this.setProps.bind(this,{shown:ba}));},render:function(){return (n.createElement(q,{behaviors:{DialogFitHeight:i,LayerAutoFocus:k,LayerFadeOnHide:l,LayerHideOnEscape:m},onToggle:this._onToggle,shown:this.props.shown,width:w},n.createElement(r,{className:"_5rq- autofocus"},this.state.renderStore())));}});function z(ba){var ca=j.create('div');j.appendContent(document.body,ca);x=new o(y,ca);x.setProps({isComposer:ba,shown:true});}var aa={showStore:function(ba,ca){if(!x){z(!!ca);}else x.setProps({shown:true,isComposer:!!ca});p.selectStorePack(ba);}};f.exports=aa;},null);
__d('StickerStateStore',['FluxStore','StickerActions','StickerInterfaces','StickersDispatcher','StickerState','StickerStoreController','arrayContains'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';o=h;p=o&&o.prototype;Object.assign(q,o);q.prototype=Object.create(o.prototype);q.prototype.constructor=q;q.__superConstructor__=o;function q(){p.constructor.call(this,k);this.$StickerStateStore1=false;}q.prototype.getState=function(r){var s=null;if(r===j.COMPOSER){s=l.getPacksInComposerTray();}else if(r===j.COMMENTS){s=l.getPacksInCommentsTray();}else s=l.getPacksInTray();return {showTray:this.$StickerStateStore2,storePackID:l.getStorePackID(),packID:l.getTrayPackID(s),trayPacks:s,numNewPacks:l.getNumNewPacks(),threadID:this.$StickerStateStore3,trayDataReady:this.$StickerStateStore1};};q.prototype.isPackInTray=function(r){var s=l.getPacksInTrayAllInterfaces();return s.some(function(t){return t.id===r;});};q.prototype.__onDispatch=function(r){var s=i.Types;switch(r.type){case s.REPLACE_STICKER_STATE:this.$StickerStateStore2=!!r.showTray;break;case s.SHOW_TRAY:this.$StickerStateStore2=true;this.$StickerStateStore3=r.threadID;break;case s.HIDE_TRAY:this.$StickerStateStore2=false;break;case s.CLICKED_STICKER_IN_THREAD:l.onTrayDataReady((function(){if(n(l.getPackIDsInTray(),r.packID)){l.setTrayPackID(r.packID);this.$StickerStateStore2=true;this.$StickerStateStore3=r.threadID;}else{this.$StickerStateStore2=false;m.showStore(r.packID);}}).bind(this));break;case s.SELECT_PACK:l.setTrayPackID(r.packID);break;case s.SELECT_STORE_PACK:l.setStorePackID(r.packID);break;case s.RESET_NUM_NEW_PACKS:l.resetNumNewPacks();break;case s.ADD_PACK:l.addPack(r.packID);break;case s.REMOVE_PACK:l.removePack(r.packID);break;case s.UPDATE_TRAY_DATA:break;case s.TRAY_DATA_READY:this.$StickerStateStore1=true;break;}this.__emitChange();};f.exports=new q();},null);
__d('ClearableTypeahead',['Event'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={resetOnCloseButtonClick:function(j,k){h.listen(k,'click',function(){var l=j.getCore();l.getElement().focus();l.reset();});}};f.exports=i;},null);
__d('legacy:CompactTypeaheadRenderer',['CompactTypeaheadRenderer'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();if(!b.TypeaheadRenderers)b.TypeaheadRenderers={};b.TypeaheadRenderers.compact=c('CompactTypeaheadRenderer');},3);
__d('ContextualLayerAutoFlipHorizontal',['ContextualLayerAutoFlip'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=h;j=i&&i.prototype;Object.assign(k,i);k.prototype=Object.create(i.prototype);k.prototype.constructor=k;k.__superConstructor__=i;k.prototype.getValidPositions=function(l){'use strict';return [l.getPosition()];};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d("XNFXStartForMessageThreadController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/nfx\/start_message_thread\/",{thread_fbid:{type:"String",required:true},responsible_fbid:{type:"Int"},av:{type:"Int"},location:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}});},null,{});
__d("XNowQueryController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/status\/sidebar\/",{});},null,{});