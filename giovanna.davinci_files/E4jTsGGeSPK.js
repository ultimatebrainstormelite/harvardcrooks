/*!CK:3339243259!*//*1439175936,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["de+3+"]); }

__d("FullViewType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ENTIRE_UNIT:1};},null,{});
__d('EmuController',['AsyncRequest','DataStore','URI','emptyFunction','ge','goURI'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();function n(o,p){'use strict';var q=l(o);if(!q)return null;this.impression=p;this.containerId=o;i.set(q,'emuController',this);return this;}n.prototype.event=function(o,p,q,r){'use strict';var s={eid:this.impression,f:0,ui:this.containerId,en:o,a:1};if(p)s.ed=JSON.stringify(p);if(!r)r=k;var t=new h().setURI(this.EVENT_HANDLER_PATH).setData(s).setErrorHandler(r);if(q)t.setHandler(q);t.send();};n.prototype.redirect=function(){'use strict';var o={eid:this.impression,f:0,ui:this.containerId,en:this.CLICK,a:0,sig:Math.floor(Math.random()*65535)+65536},p=new j(this.EVENT_HANDLER_PATH);p.setQueryData(o);m(p);};n.fromContainer=function(o){'use strict';var p=l(o);if(!p)return null;return i.get(p,'emuController');};n.getEventClass=function(o){'use strict';return "emuEvent"+String(o).trim();};Object.assign(n.prototype,{EVENT_HANDLER_PATH:'/ajax/emu/end.php',CLICK:1,FAN:"fad_fan"});f.exports=n;},null);
__d('legacy:ad-units-base-js',['EmuController'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();b.EmuController=c('EmuController');},3);
__d('DesktopHscrollUnitEventConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={HSCROLL_ITEM_INSERTED_EVENT:'DesktopHScrollUnit/itemInserted',HSCROLL_ITEM_SHOWN_EVENT:'DesktopHScrollUnit/itemShown',HSCROLL_ITEM_HIDE_EVENT:'DesktopHScrollUnit/HideIndividualItem',HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT:'DesktopHScrollUnit/scrollItemBeforeXout',HSCROLL_ITEM_UNHIDE_EVENT:'DesktopHScrollUnit/unhideIndividualItem',HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN:'logLastAdXout',HSCROLL_PAGER_ITEM_HIDE_EVENT:'onXoutIndividualItem'};},null);
__d('BlueBarMinWidthWithJewel',['BanzaiODS','BlueBar','DOMQuery','DOMDimensions','Event','Locale','Style','UITinyViewportAction','Vector','CSS','csx','cx','queryThenMutateDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();function u(w,x,y){if(w){if(y){n.set(w,'height','10000px');}else n.set(w,'height',x-15+'px');q.conditionClass(w,'fixed_elem',!y);}}function v(w,x,y){if(w&&!y){var z=j.scry(w,"div.uiScrollableAreaBody")[0],aa=k.getElementDimensions(z).height;if(aa>x-15){h.bumpEntityKey('sticky.bookmark','scroll.height');var ba=l.listen(w.firstChild,'scroll',function(){h.bumpEntityKey('sticky.bookmark','scroll.scroll');ba.remove();});}else h.bumpEntityKey('sticky.bookmark','fit.height');}}g.init=function(w){var x=i.getNavRoot(),y=j.scry(x,"._fmc")[0],z=j.scry(document,"a._23nx")[0],aa=j.scry(document,"a._23ny")[0],ba=j.scry(document,"div._vox")[0],ca=k.getViewportDimensions().height,da=k.getElementDimensions(x).height,ea=false,fa=o.isTinyHeight(),ga;if(w&&z&&aa){l.listen(z,'click',function(){q.removeClass(document.body,"_23nw");q.hide(z);h.bumpEntityKey('tinyview.bookmark','show.click');});l.listen(aa,'click',function(){q.addClass(document.body,"_23nw");q.show(z);h.bumpEntityKey('tinyview.bookmark','hide.click');});}u(ba,ca-da,fa);v(ba,ca-da,fa);var ha=t.bind(null,function(){var ia=k.getElementDimensions(x).width,ja=k.getViewportDimensions().width;ca=k.getViewportDimensions().height;var ka=k.measureElementBox(x,'width',true);ea=o.isTinyWidth();fa=o.isTinyHeight();var la;if(m.isRTL()){la=-p.getElementPosition(x).x;}else la=2*p.getElementPosition(x).x+ia-ja;var ma=ia-la-ka;if(la>0&&ma>0){ga=ma+'px';}else ga='';},function(){n.set(y,'width',ga);if(w){q.conditionClass(document.body,"_23nw",ea);if(z&&aa){if(ea)h.bumpEntityKey('tinyview.bookmark','icon.show');q.conditionShow(z,ea);q.conditionShow(aa,ea);}}u(ba,ca-da,fa);},'BlueBarMinWidthWithJewel');l.listen(window,'resize',ha);ha();};},null);
__d('BrowseClientEventLogger',['Banzai'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i='browse_client_event_session',j='21.',k={logData:function(event,l,m,n){if(!event||!l)return;n=n||{};n.event=event;n.client_time=Math.floor(Date.now());n.session_id=l;n.vertical=m;this.allData=this.allData||{};this.processedSessions=this.processedSessions||[];if(this.processedSessions.indexOf(l)!==-1)return;if(!this.allData.sessionid)this.allData.sessionid=[];this.allData.sessionid.push(n);if(event==='window_unloaded'||event==='window_transition_to_LHC'||event==='window_transition_to_home_click'||event==='window_transition_to_fb_page'){this._postBatch(this.allData.sessionid);this.processedSessions.push(l);}},logClick:function(l){l.event='click';this.maybeLogVisiblityEvent(l,true);},maybeLogClientViewEvent:function(l){l.event='client_view';this.maybeLogVisiblityEvent(l);},maybeLogVisiblityEvent:function(l,m){if(!l||!l.xt||l.xt.indexOf(j)!==0)return;var event=l.event,n=JSON.parse(l.xt.substring(3));if(m)n.click_type=l.click_type;this.logData(event,n.session_id,n.vertical,n);},_postBatch:function(l){h.post(i,l,{delay:0,retry:true});}};f.exports=k;},null);
__d('AdBlockerDetectorLogging',['Banzai','ErrorUtils','getElementPosition'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={doAdBlockCheck:function(l,m){i.applyWithGuard((function(){this._doAdBlockImgCheck(l,m,0);}).bind(this),this);},_doAdBlockImgCheck:function(l,m,n){if(!m||!l)return;var o=l.querySelectorAll('img');if(o.length>0){var p=false;for(var q=0;q<o.length;q++){var r=o[q],s=j(r);if(s.width>0||s.height>0){p=true;break;}}if(!p){var t=l,u=0;while(t!==null){if((u++)>50)break;if(t.classList.contains('hidden_elem')||t.classList.contains('holdoutAdStory')||t.classList.contains('ego_ads_holdout'))return;t=t.parentElement;}h.post('xtrackable:blocked_ad_view',{token:m});}}else if(o.length===0&&m.startsWith('7.'))if((++n)<5)setTimeout((function(){this._doAdBlockImgCheck(l,m,n);}).bind(this).bind(this),2500);}};f.exports=k;},null);
__d('Visibility',['mixInEventEmitter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;if(typeof document.hidden!=='undefined'){i='hidden';j='visibilitychange';}else if(typeof document.mozHidden!=='undefined'){i='mozHidden';j='mozvisibilitychange';}else if(typeof document.msHidden!=='undefined'){i='msHidden';j='msvisibilitychange';}else if(typeof document.webkitHidden!=='undefined'){i='webkitHidden';j='webkitvisibilitychange';}function k(){return i?document[i]:false;}var l={HIDDEN:'hidden',VISIBLE:'visible',isHidden:k};h(l,{visible:true,hidden:true});if(document.addEventListener&&j)document.addEventListener(j,function m(){l.emit(k()?l.HIDDEN:l.VISIBLE);});f.exports=l;},null);
__d('FullViewLogger',['Banzai','SubscriptionsHandler','URI'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();k.logFromViewableImpressionTracker=function(l){'use strict';var m=new k();m.subscribeToTrackerEvents(l);};k.prototype.subscribeToTrackerEvents=function(l){'use strict';this.subscriptionsHandler=new i();this.subscriptionsHandler.addSubscriptions(l.addListener('full_view',this.onFullView,this));};k.prototype.onFullView=function(l){'use strict';if(this.$FullViewLogger1())this.$FullViewLogger2(l);var m={token:l.token,fullViewType:l.fullViewType};h.post('xtrackable:full_view',m);if(this.$FullViewLogger1())this.$FullViewLogger3(m);};k.prototype.$FullViewLogger1=function(){'use strict';return 0;};k.prototype.$FullViewLogger2=function(l){'use strict';};k.prototype.$FullViewLogger3=function(l){'use strict';};function k(){'use strict';}f.exports=k;},null);
__d('ViewableImpressionHeatmapLogger',['Banzai'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();i.logFromViewableImpressionTracker=function(j,k){'use strict';var l=new i(k);l.subscribeToTrackerEvents(j);};function i(j){'use strict';this.loggingDurationMS=j;this.trackingEntries={};}i.prototype.subscribeToTrackerEvents=function(j){'use strict';this.visibleSubscription=j.addListener('visible',this.onElementVisible,this);this.hiddenSubscription=j.addListener('hidden',this.onElementHidden,this);};i.prototype.onElementVisible=function(j){'use strict';var k=this.getCurrentTimestamp(),l=this.trackingEntries[j.id];if(!l){l=this.createTrackingEntry(j);this.beginTracking(j.id,l);k=l.startedTrackingTS;}l.viewportProgressEvents.push({timestamp:k,percentInViewport:j.percentInViewport.toFixed(2)});};i.prototype.onElementHidden=function(j){'use strict';var k=this.getCurrentTimestamp(),l=this.trackingEntries[j.id];if(!l)return;l.viewportProgressEvents.push({timestamp:k,percentInViewport:0});};i.prototype.onTrackingCompleted=function(j){'use strict';var k=this.trackingEntries[j];k.viewportProgressEvents.push({timestamp:this.getCurrentTimestamp(),percentInViewport:k.tracker.getPercentInViewport().toFixed(2)});if(this.$ViewableImpressionHeatmapLogger1())this.$ViewableImpressionHeatmapLogger2(j,k);this.logToServer(k);delete this.trackingEntries[j];};i.prototype.logToServer=function(j){'use strict';var k=j;delete k.tracker;h.post('xtrackable:heatmap',k);};i.prototype.beginTracking=function(j,k){'use strict';this.trackingEntries[j]=k;setTimeout((function(){return this.onTrackingCompleted(j);}).bind(this),this.loggingDurationMS);};i.prototype.createTrackingEntry=function(j){'use strict';return {tracker:j.tracker,token:j.token,startedTrackingTS:this.getCurrentTimestamp(),viewportProgressEvents:[]};};i.prototype.getCurrentTimestamp=function(){'use strict';return (Date.now()/1000).toFixed(2);};i.prototype.$ViewableImpressionHeatmapLogger1=function(){'use strict';return 0;};i.prototype.$ViewableImpressionHeatmapLogger2=function(j,k){'use strict';var l='Completed tracking for id '+j+' token='+k.token+' startedTrackingTS='+k.startedTrackingTS+'\n';k.viewportProgressEvents.forEach(function(m){l+='% in view: '+m.percentInViewport+' timestamp='+m.timestamp+'\n';});};f.exports=i;},null);
__d('ViewableImpressionUtils',['CSS','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={isHorizontallyOffscreen:function(k,l,m){var n=Math.max(l.x,0),o=Math.min(l.x+l.width,m.width);return o-n<l.width||h.hasClass(k,"desktop_hscroll_offscreen");}};f.exports=j;},null);
__d('ViewableImpressionTracker',['Banzai','BrowseClientEventLogger','DOM','FullViewType','getElementPosition','getViewportDimensions','mixInEventEmitter','Style','URI','ViewableImpressionUtils'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();function r(s,t,u){'use strict';this.id=s;this.element=t;this.config=u;this.iframe=null;this.viewableTimeout=null;this.clearSubsequentTimeout=null;this.waitForSubsequent=false;this.waitForLogged=false;this.isNonViewableLogged=false;this.isVisible=false;this.banzaiLogged=false;}r.prototype.getID=function(){'use strict';return this.id;};r.prototype.getPercentInViewport=function(){'use strict';var s=m(),t=l(this.element);return this.$ViewableImpressionTracker1(s,t);};r.prototype.$ViewableImpressionTracker1=function(s,t){'use strict';if(t.x<s.width&&t.x+t.width>0&&t.y<s.height&&t.y+t.height>0&&o.get(this.element,'visibility')!=='hidden'&&o.get(this.element,'opacity')!=='0'){var u=Math.max(t.x,0),v=Math.min(t.x+t.width,s.width),w=Math.max(t.y,0),x=Math.min(t.y+t.height,s.height);if(t.height*t.width===0)return 100;if(this.config.require_horizontally_onscreen&&q.isHorizontallyOffscreen(this.element,t,s))return 0;var y=100*(v-u)*(x-w)/(t.height*t.width);return y;}return 0;};r.prototype.$ViewableImpressionTracker2=function(s,t){'use strict';if(o.get(this.element,'visibility')==='hidden'||o.get(this.element,'opacity')==='0')return false;var u=t.x+t.width,v=t.y+t.height;return u>=0&&u<=s.width&&v>=0&&v<=s.height;};r.prototype.$ViewableImpressionTracker3=function(s,t){'use strict';if(this.hasEmittedFullViewEvent)return;if(this.$ViewableImpressionTracker2(s,t)){this.emit('full_view',{tracker:this,id:this.getID(),token:this.getToken(),fullViewType:k.ENTIRE_UNIT});this.hasEmittedFullViewEvent=true;}};r.prototype.onVisible=function(){'use strict';this.isVisible=true;var s=m(),t=l(this.element),u=this.$ViewableImpressionTracker1(s,t),v=u>this.config.pixel_in_percentage;this.emit('visible',{tracker:this,id:this.getID(),token:this.getToken(),percentInViewport:u});this.$ViewableImpressionTracker3(s,t);if(!v){this.$ViewableImpressionTracker4();return;}if(this.isLogged()){this.$ViewableImpressionTracker5();}else this.$ViewableImpressionTracker6();if(!this.waitForLogged&&!this.isLogged()){this.waitForLogged=true;this.viewableTimeout=setTimeout((function(){this.waitForLogged=false;var w=this.getPercentInViewport(),x=w>this.config.pixel_in_percentage;if(!x){this.$ViewableImpressionTracker7();return;}this.logImpression(1,{});this.$ViewableImpressionTracker5();}).bind(this),this.config.duration_in_ms);}};r.prototype.onHidden=function(){'use strict';this.emit('hidden',{id:this.getID(),token:this.getToken()});if(this.config.log_initial_nonviewable&&!this.isLogged()&&!this.isNonViewableLogged){this.logNonViewableImpression();}else if(!this.config.log_initial_nonviewable&&!this.isLogged()&&this.isVisible)this.logNonViewableImpression();this.isVisible=false;if(this.waitForLogged){this.waitForLogged=false;clearTimeout(this.viewableTimeout);}if(this.isLogged()&&!this.waitForSubsequent&&this.config.subsequent_gap_in_ms>=0){this.waitForSubsequent=true;this.clearSubsequentTimeout=setTimeout((function(){this.waitForSubsequent=false;this.reset();if(this.isVisible)this.onVisible();}).bind(this),this.config.subsequent_gap_in_ms);}this.$ViewableImpressionTracker7();};r.prototype.onRemoved=function(){'use strict';this.isVisible=false;};r.prototype.getToken=function(){'use strict';return this.element.getAttribute('data-xt');};r.prototype.logImpression=function(s,t){'use strict';if(this.isLogged())return;var u=this.getToken(),v=Math.floor(Date.now()/1000),w={xt:u,isv:s,cts:v};if(h.isEnabled('xtrackable_clientview_batch')&&this.config.should_batch){this.logWithBanzai(w);}else this.logWithIFrame(Object.assign(w,t));};r.prototype.logNonViewableImpression=function(){'use strict';if(this.config.nonviewableEnabled){var s=this.getToken();h.post('xtrackable:nonviewable',{xt:s});}this.isNonViewableLogged=true;};r.prototype.isLogged=function(){'use strict';return this.iframe!==null||this.banzaiLogged;};r.prototype.reset=function(){'use strict';if(this.iframe){j.remove(this.iframe);this.iframe=null;}if(this.banzaiLogged)this.banzaiLogged=false;this.isNonViewableLogged=false;this.isVisible=false;this.waitForLogged=false;this.waitForSubsequent=false;};r.prototype.logWithBanzai=function(s){'use strict';this.banzaiLogged=true;i.maybeLogClientViewEvent(s);h.post('xtrackable:clientview_batch',s);};r.prototype.logWithIFrame=function(s){'use strict';this.iframe=j.create('iframe',{src:new p(this.config.impressionURL).addQueryData(s),width:0,height:0,frameborder:0,scrolling:'no',className:'fbEmuTracking'});this.iframe.setAttribute('aria-hidden','true');j.appendContent(this.element,this.iframe);};r.prototype.$ViewableImpressionTracker8=function(){'use strict';return 0;};r.prototype.$ViewableImpressionTracker4=function(){'use strict';if(this.$ViewableImpressionTracker8()){o.set(this.element,'background-color','#abab9a');o.set(this.element,'outline','3px solid #abab9a');}};r.prototype.$ViewableImpressionTracker6=function(){'use strict';if(this.$ViewableImpressionTracker8()){o.set(this.element,'background-color','#e4f70a');o.set(this.element,'outline','3px solid #e4f70a');}};r.prototype.$ViewableImpressionTracker7=function(){'use strict';if(this.$ViewableImpressionTracker8()){o.set(this.element,'background-color',null);o.set(this.element,'outline',null);}};r.prototype.$ViewableImpressionTracker5=function(){'use strict';if(this.$ViewableImpressionTracker8()){o.set(this.element,'background-color','#047515');o.set(this.element,'outline','3px solid #047515');}};n(r,{visible:true,hidden:true,full_view:true});f.exports=r;},null);
__d('VisibilityTrackingHelper',['Arbiter','DesktopHscrollUnitEventConstants','getViewportDimensions','Event'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={getEventListeners:function(m){return [k.listen(document,'DOMContentLoaded',m),k.listen(window,'scroll',m),k.listen(window,'resize',m),h.subscribe(i.HSCROLL_ITEM_SHOWN_EVENT,m)];},getViewportInfo:function(){return j();}};f.exports=l;},null);
__d('VisibilityTracking',['Banzai','BrowseClientEventLogger','ErrorUtils','ScriptPath','SubscriptionsHandler','Visibility','VisibilityTrackingHelper','collectDataAttributes','getElementPosition','pageID','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s='visibility_tracking',t='[data-vistracking]',u=500,v=50,w=50,x=50,y=50,z={VISIBLE:'visible',HIDDEN:'hidden'},aa={DEFAULT:'default',REMOVED:'removed'},ba={name:z.VISIBLE,cause:aa.DEFAULT},ca={name:z.HIDDEN,cause:aa.DEFAULT},da={name:z.HIDDEN,cause:aa.REMOVED},ea=0;function fa(ga){'use strict';ga=ga||{};if(!ga.bypass_banzai_check&&!h.isEnabled(s))return;this.visibleElementInfo={};this.getDataFromConfig(ga);m.addListener(m.VISIBLE,j.guard(this.fireEvent,'VisibilityTracking:visible',this));if(!this.skipVisibilityHiddenEvents)m.addListener(m.HIDDEN,j.guard(this.clearAllVisibleElements,'VisibilityTracking:hidden',this));k.subscribe(j.guard(this.updateVisibleElements,'VisibilityTracking:scriptPath',this));h.subscribe(h.SHUTDOWN,j.guard(this.onUnload,'VisibilityTracking:banzaiShutdown',this));this.fireEventCallback=r.acrossTransitions(j.guard(this.fireEvent,'VisibilityTracking:fireEventCallback',this),this.timeout,this);this.listeners=new l();n.getEventListeners(this.fireEventCallback).forEach(function(ha){this.listeners.addSubscriptions(ha);},this);if(this.extraInit)j.applyWithGuard(this.extraInit.bind(this));}fa.prototype.getDataFromConfig=function(ga){'use strict';this.config=ga;this.root=ga.root||document.documentElement;this.selector=ga.selector||t;this.timeout=typeof ga.timeout!=='undefined'?ga.timeout:u;this.minOffsetVisibleFromBottom=typeof ga.minOffsetVisibleFromBottom!=='undefined'?ga.minOffsetVisibleFromBottom:v;this.minOffsetVisibleFromTop=typeof ga.minOffsetVisibleFromTop!=='undefined'?ga.minOffsetVisibleFromTop:w;this.minOffsetVisibleFromLeft=typeof ga.minOffsetVisibleFromLeft!=='undefined'?ga.minOffsetVisibleFromLeft:x;this.minOffsetVisibleFromRight=typeof ga.minOffsetVisibleFromRight!=='undefined'?ga.minOffsetVisibleFromRight:y;this.handleAllHiddenEvents=typeof ga.handleAllHiddenEvents!=='undefined'?ga.handleAllHiddenEvents:false;this.handleAllVisibleEvents=typeof ga.handleAllVisibleEvents!=='undefined'?ga.handleAllVisibleEvents:false;this.skipVisibilityHiddenEvents=typeof ga.skipVisibilityHiddenEvents!=='undefined'?ga.skipVisibilityHiddenEvents:false;this.cacheTrackedElements=typeof ga.cacheTrackedElements!=='undefined'?ga.cacheTrackedElements:false;};fa.prototype.getAllTrackedElements=function(){'use strict';if(!this.allTrackedElements){this.allTrackedElements={};if(this.root.querySelectorAll){var ga=this.root.querySelectorAll(this.selector);for(var ha=0;ha<ga.length;ha++){var ia=this.getElementID(ga[ha]);this.allTrackedElements[ia]=ga[ha];}}}return this.allTrackedElements;};fa.prototype.refreshAllTrackedElements=function(){'use strict';delete this.allTrackedElements;return this.getAllTrackedElements();};fa.prototype.getDataToLog=function(ga){'use strict';var ha=Object.assign(o(ga,['gt']).gt,{client_time:Date.now()/1000,time_spent_id:q,script_path:k.getScriptPath()});return ha;};fa.prototype.getElementID=function(ga){'use strict';var ha=ga.$VisibilityTracking1;if(ha)return ha;ga.$VisibilityTracking1=++ea;return ea;};fa.prototype.sendDataToLog=function(ga){'use strict';i.maybeLogVisiblityEvent(ga);h.post(s,ga);};fa.prototype.fireEvent=function(){'use strict';var ga=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var ha in ga){var ia=ga[ha],ja=n.getViewportInfo(),ka=this.isVisible(ia,ja);if(!ka&&(ha in this.visibleElementInfo||this.handleAllHiddenEvents)){this.handleEvent(ia,ca);}else if(ka&&(!(ha in this.visibleElementInfo)||this.handleAllVisibleEvents))this.handleEvent(ia,ba);}this.clearUntrackedVisibleElements();};fa.prototype.isVisible=function(ga,ha){'use strict';var ia=p(ga);return (ia.x||ia.y||ia.width||ia.height)&&ia.y+ia.height>=this.minOffsetVisibleFromTop&&ia.y<=ha.height-this.minOffsetVisibleFromBottom&&ia.x+ia.width>=this.minOffsetVisibleFromLeft&&ia.x<=ha.width-this.minOffsetVisibleFromRight;};fa.prototype.handleEvent=function(ga,event){'use strict';var ha=this.getElementID(ga),ia=this.getDataToLog(ga),ja;if(event.name===z.VISIBLE){var ka=Math.floor(Date.now()/1000);ja=q.concat(":",ka.toString(),":",this.getElementID(ga).toString());this.visibleElementInfo[ha]={visibility_id:ja,elem:ga};}else if(event.name===z.HIDDEN)if(ha in this.visibleElementInfo){ja=this.visibleElementInfo[ha].visibility_id;delete this.visibleElementInfo[ha];}this.sendDataToLog(Object.assign(ia,{event:event.name,visibility_id:ja}));};fa.prototype.clearUntrackedVisibleElements=function(){'use strict';var ga=this.getAllTrackedElements();for(var ha in this.visibleElementInfo)if(!(ha in ga)){var ia=this.visibleElementInfo[ha];if(ia.elem)this.handleEvent(ia.elem,da);}};fa.prototype.clearAllVisibleElements=function(){'use strict';var ga=this.getAllTrackedElements();for(var ha in ga)if(ha in this.visibleElementInfo)this.handleEvent(ga[ha],ca);this.clearUntrackedVisibleElements();};fa.prototype.updateVisibleElements=function(){'use strict';this.clearAllVisibleElements();this.fireEvent();};fa.prototype.refreshAndFireEvent=function(){'use strict';this.refreshAllTrackedElements();this.fireEventCallback();};fa.prototype.onUnload=function(){'use strict';this.clearAllVisibleElements();if(this.listeners){this.listeners.release();this.listeners=null;}if(this.extraCleanup)j.applyWithGuard(this.extraCleanup.bind(this));};fa.init=function(ga){'use strict';new fa(ga);};fa.EVENT=z;fa.CAUSE=aa;f.exports=fa;},null);
__d('ViewableImpressionEventHandler',['FullViewLogger','ViewableImpressionHeatmapLogger','ViewableImpressionTracker','VisibilityTracking'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=Object.assign||function(q){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)if(Object.prototype.hasOwnProperty.call(s,t))q[t]=s[t];}return q;},m,n,o=1;m=k;n=m&&m.prototype;Object.assign(p,m);p.prototype=Object.create(m.prototype);p.prototype.constructor=p;p.__superConstructor__=m;p.prototype.extraInit=function(){'use strict';this.impressionTrackers={};};p.prototype.getDataFromConfig=function(q){'use strict';n.getDataFromConfig.call(this,q);this.doHeatmapLogging=q.doHeatmapLogging;this.heatmapLoggingDurationMS=q.heatmapLoggingDurationMS;q.impressionURL=q.impressionURL!==undefined?q.impressionURL:'/xti.php';q.nonviewableEnabled=q.nonviewableEnabled!==undefined?q.nonviewableEnabled:false;};p.prototype.getImpressionTracking=function(q){'use strict';var r=this.getElementID(q),s=l({},this.getConfigFromElement(q),this.config),t=this.impressionTrackers[r];if(!t){t=new j(r,q,s);this.impressionTrackers[r]=t;if(this.doHeatmapLogging)i.logFromViewableImpressionTracker(t,this.heatmapLoggingDurationMS);if(s.should_log_full_views)h.logFromViewableImpressionTracker(t);}return t;};p.prototype.handleEvent=function(q,event){'use strict';var r=this.getImpressionTracking(q);if(!r)return;if(event.name===k.EVENT.VISIBLE){r.onVisible();if(!this.visibleElementInfo[r.getID()])this.visibleElementInfo[r.getID()]={elem:q};}else if(event.name===k.EVENT.HIDDEN)if(event.cause===k.CAUSE.DEFAULT){r.onHidden();delete this.visibleElementInfo[r.getID()];}else if(event.cause===k.CAUSE.REMOVED){r.onRemoved();delete this.visibleElementInfo[r.getID()];delete this.impressionTrackers[r.getID()];}};p.prototype.getConfigFromElement=function(q){'use strict';return JSON.parse(q.getAttribute('data-xt-vimp'));};p.prototype.getElementID=function(q){'use strict';if(!q.getAttribute('id'))q.setAttribute('id','xt_uniq_'+(o++));return q.getAttribute('id');};function p(){'use strict';m.apply(this,arguments);}f.exports=p;},null);
__d('legacy:async-signal',['AsyncSignal'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();b.AsyncSignal=c('AsyncSignal');},3);
__d('ViewableImpressionTracking',['Arbiter','DesktopHscrollUnitEventConstants','ErrorUtils','LitestandMessages','Run','ViewableImpressionEventHandler','ViewableImpressionConfig'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o={init:function(){if(m.instance===undefined){m.instance=new m(n);m.instance.listeners.addSubscriptions(h.subscribe([k.STORIES_INSERTED,'AdsRefreshHandler/AdsLoaded','MPPInsights/ChartView','PhotoSnowliftAds/displayUnits','WebMessengerAdsControl/adjustAds',i.HSCROLL_ITEM_INSERTED_EVENT],j.guard(function(){m.instance.refreshAndFireEvent();},'ViewableImpressionTracking')));}l.onLoad(function(){m.instance.refreshAndFireEvent();});}};f.exports=o;},null);
__d('MercuryLeftNav',['Arbiter','MessagingTag','NavigationMessage','MercuryThreadInformer','MercuryUnreadState'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('MercuryThreadInformer').get(),l=c('MercuryUnreadState').get(),m=false;function n(){var p=l.getUnreadCount(i.INBOX);h.inform(j.NAVIGATION_COUNT_UPDATE,{key:'inbox',hide:true});h.inform(j.NAVIGATION_COUNT_UPDATE,{key:'inbox',count:p});}var o={bootstrap:function(){if(m)return;k.subscribe('unread-updated',n);m=true;}};f.exports=o;},null);
__d('EgoUnitSlideInsert',['Animation','CSS','DataStore','DOM','Ease','Event','Parent','TidyArbiterMixin','cx','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=Object.assign||function(v){for(var w=1;w<arguments.length;w++){var x=arguments[w];for(var y in x)if(Object.prototype.hasOwnProperty.call(x,y))v[y]=x[y];}return v;},s='sliding',t="EgoSlider/End",u=r({isSliding:function(v){return j.get(v,s);},runAfterSlide:function(v,w){var x=q(u.subscribe(t,function(y,z){if(z===v){x&&x.unsubscribe();w();}}));},registerSlide:function(v,w){m.listen(v,'click',function(x){var y=n.byClass(x.getTarget(),"_5cl_");if(!y)return;var z=n.byClass(v,'ego_unit'),aa=0,ba=n.byClass(z,'ego_unit_container'),ca=k.scry(ba,'.ego_unit')[0];if(ca===z)if(z.nextSibling){z.nextSibling.style.paddingTop='0px';z.nextSibling.style.borderTop='0px';}i.addClass(z,"_5cl-");j.set(z,s,true);new h(z).to('height',0).to('padding-top',aa).to('padding-bottom',0).to('margin',0).from('opacity',1).to('opacity',0).ease(l.circOut).duration(300).checkpoint(1,function(){k.appendContent(ba,z);k.prependContent(z,w);j.remove(z,s);}).to('height',12).to('opacity',1).to('margin-bottom',10).duration(0).checkpoint(2,function(){u.inform(t,z);}).go();});}},o);f.exports=u;},null);
__d('NetEgo',['Animation','Arbiter','csx','CSS','DOM','EgoUnitSlideInsert','PageLikeConstants','Parent','URI','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r={setup:function(s){i.subscribe([n.LIKED,'FriendRequest/sending'],function(t,u){if(s==u.profile_id&&u.origin=='hovercard'||s==u.uid){var v=q(document.body,'.ego_unit_container');if(v){var w=l.scry(v,'.ego_unit'),x=w.length;for(var y=0;y<x;y++){var z=w[y].getAttribute('data-ego-fbid');if(z==s){var aa=l.scry(w[y],'.ego_action a')[0];if(aa)aa.click();break;}}}}});},updateXids:function(s,t,u){if(s.length==0&&t.length==0)return;var v=function(fa){return function(ga){var ha=ga.getAttribute(fa);if(!ha)return false;var ia=new p(ha).getQueryData();return !!ia.xids;};},w=l.scry(document.body,'.ego_section a');w=w.filter(v('ajaxify'));if(w.length==0)return;var x=new p(w[0].getAttribute('ajaxify')),y=x.getQueryData();if(!y.xids)return;var z=null;try{z=JSON.parse(y.xids);}catch(aa){return;}if(u)for(var ba=0;ba<s.length;++ba)delete z[s[ba]];for(ba=0;ba<t.length;++ba)z[t[ba]]=1;var ca=JSON.stringify(z),da=function(fa,ga){x=new p(fa.getAttribute(ga));y=x.getQueryData();y.xids=ca;x.setQueryData(y);fa.setAttribute(ga,x.toString());};for(ba=0;ba<w.length;++ba)da(w[ba],'ajaxify');var ea=l.scry(document.body,'.ego_unit form');ea=ea.filter(v('action'));for(ba=0;ba<ea.length;++ba)da(ea[ba],'action');},replaceUnit:function(s,t,u,v){r.replaceUnitCheckParent(s,t,u,v,'');},addUnitsWithSeeMore:function(s,t,u){if(!u)k.hide(s);var v=s.previousSibling;v&&t&&l.appendContent(v,t);},replaceUnitCheckParent:function(s,t,u,v,w){var x=o.byClass(s,'ego_unit_container');if(x&&m.isSliding(s)){var y=l.appendContent(x,t);y.forEach(k.hide);m.runAfterSlide(s,r._replaceUnitElement.bind(null,s,y,w));}else r._replaceUnit(s,t,u,v,w);},_replaceUnit:function(s,t,u,v,w){var x=l.insertAfter(s,t);x.forEach(k.hide);if(v!==undefined&&v!==null){setTimeout(function(){r._replaceUnitFadeout(s,x,u,w);},v);}else r._replaceUnitFadeout(s,x,u,w);},_replaceUnitFadeout:function(s,t,u,v){if(u){new h(s).from('opacity',1).to('opacity',0).duration(u).checkpoint(1,function(){r._replaceUnitElement(s,t,v);}).go();}else r._replaceUnitElement(s,t,v);},_replaceUnitElement:function(s,t,u){var v=k.hasClass(s,'ego_unit')?s.parentNode:null;if(v&&v.tagName==='LI')v=l.scry(s.parentNode,'^ul')[0];l.remove(s);if(t.length)t.forEach(k.show);i.inform('netego_replacedUnit',{serializedData:u,numUnitsRemained:v.childNodes.length});r.clearHeader();},clearHeader:function(){var s=l.scry(document.body,'.ego_column'),t=[];for(var u=0;u<s.length;++u)t=t.concat(l.scry(s[u],'.uiHeader'));for(u=0;u<t.length;++u){var v=t[u].nextSibling,w=l.find(v,"._2xq");if(!w)w=v;if(!w||w.childNodes.length===0){l.remove(t[u]);}else if(w.childNodes.length===1){var x=w.childNodes[0];if(k.hasClass(x,'ego_appended_units')&&x.childNodes.length===0)l.remove(t[u]);}}}};f.exports=r;},null);