/*!CK:1090844997!*//*1439182926,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["HlNRQ"]); }

__d('Barrier',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){'use strict';if(i===undefined||i<0||j===undefined)return null;if(i==0){j();return;}this.ops_num=i;this.callback=j;}h.prototype.notify=function(){'use strict';if(this.ops_num<=0)return;this.ops_num--;if(this.ops_num==0)this.callback();};f.exports=h;},null);
__d("XEgoExpandAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ego\/expand\/",{service_id:{type:"String",required:true},filter_ids:{type:"String",defaultValue:""},num_requested:{type:"Int",required:true},pagination_offset:{type:"Int",defaultValue:0}});},null,{});
__d("XPubcontentImpressionLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/suggestions\/impression_logging\/",{});},null,{});
__d('NetEgoShowcase',['Arbiter','AsyncRequest','CSS','DOM','Event','Parent','TidyArbiterMixin','XEgoExpandAsyncController','XPubcontentImpressionLoggingController','csx','cx','mixin','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v,w={UPDATED:0,UPDATING:1};u=s(n);v=u&&u.prototype;Object.assign(x,u);x.prototype=Object.create(u.prototype);x.prototype.constructor=x;x.__superConstructor__=u;function x(y,z){'use strict';v.constructor.call(this);this.$NetEgoShowcase1=y;this.$NetEgoShowcase2=[];this.$NetEgoShowcase3=z.serializedData;this.$NetEgoShowcase4=z.autoExpandLimit;this.$NetEgoShowcase5=z.serviceId;this.$NetEgoShowcase6=z.requestSize;this.$NetEgoShowcase7=w.UPDATED;this.$NetEgoShowcase8=0;t(this.$NetEgoShowcase1.subscribe('page_end',this.$NetEgoShowcase9.bind(this)),h.subscribe('netego_replacedUnit',this.$NetEgoShowcase10.bind(this)),l.listen(this.$NetEgoShowcase1.getNode(),'click',this.$NetEgoShowcase11.bind(this)));this.$NetEgoShowcase12(z.firstItemId);if(this.$NetEgoShowcase3.length===1)this.$NetEgoShowcase13();}x.prototype.$NetEgoShowcase13=function(){'use strict';if(!this.$NetEgoShowcase4||this.$NetEgoShowcase7===w.UPDATING)return;this.$NetEgoShowcase7=w.UPDATING;var y=k.scry(this.$NetEgoShowcase1.getNode(),'.ego_unit');if(y.length<this.$NetEgoShowcase4&&y.length-this.$NetEgoShowcase1.getIndex()<=3){var z=this.$NetEgoShowcase4-y.length;this.$NetEgoShowcase14(z>this.$NetEgoShowcase6?z%this.$NetEgoShowcase6+this.$NetEgoShowcase6:z);return;}this.$NetEgoShowcase7=w.UPDATED;};x.prototype.$NetEgoShowcase14=function(y){'use strict';var z=Object.keys(this.$NetEgoShowcase3),aa=o.getURIBuilder().setString('service_id',this.$NetEgoShowcase5).setString('filter_ids',JSON.stringify(z)).setInt('num_requested',y).setInt('pagination_offset',this.$NetEgoShowcase8).getURI();new i(aa).setHandler(this.$NetEgoShowcase15.bind(this)).setErrorHandler(this.$NetEgoShowcase15.bind(this)).setRelativeTo(this.$NetEgoShowcase1.getNode()).send();};x.prototype.$NetEgoShowcase15=function(y){'use strict';if(!y.getError()){var z=y.getPayload().suggestions;this.$NetEgoShowcase8+=z.length;for(var aa=0;aa<z.length;aa++){var ba=k.create('li',{className:"_2xr"},z[aa]);this.$NetEgoShowcase1.push(ba);}var ca=y.getPayload().serializedData;for(var da in ca)this.$NetEgoShowcase3[da]=ca[da];}this.$NetEgoShowcase7=w.UPDATED;};x.prototype.$NetEgoShowcase11=function(event){'use strict';var y=event.getTarget(),z=this.$NetEgoShowcase16(y,'ego_x');if(!z){z=this.$NetEgoShowcase16(y,'ego_like');if(!z)return;}var aa=k.scry(z,'^.ego_unit');if(!aa.length)return;this.$NetEgoShowcase1.remove(this.$NetEgoShowcase1.getIndex());};x.prototype.$NetEgoShowcase16=function(y,z){'use strict';if(j.hasClass(y,z))return y;var aa=k.scry(y,'^.'+z);if(aa.length)return aa[0];return null;};x.prototype.$NetEgoShowcase10=function(y,z){'use strict';var aa=k.scry(this.$NetEgoShowcase1.getNode(),"li._2xr");for(var ba=0;ba<aa.length;ba++)if(!aa[ba].childNodes.length)this.$NetEgoShowcase1.remove(ba);var ca=k.scry(this.$NetEgoShowcase1.getNode(),'.ego_unit');if(!ca.length){var da=m.byClass(this.$NetEgoShowcase1.getNode(),'ego_section');if(da)j.hide(da);return;}if(!z.serializedData)return;var ea=ca[this.$NetEgoShowcase1.getIndex()].getAttribute('data-ego-fbid'),fa=JSON.parse(z.serializedData);for(var ga in fa)if(ea===ga){this.$NetEgoShowcase3[ga]=fa[ga];this.$NetEgoShowcase12(ga);}};x.prototype.$NetEgoShowcase9=function(event){'use strict';var y=k.scry(this.$NetEgoShowcase1.getNode(),'.ego_unit'),z=y[this.$NetEgoShowcase1.getIndex()].getAttribute('data-ego-fbid');this.$NetEgoShowcase12(z);this.$NetEgoShowcase13();};x.prototype.$NetEgoShowcase12=function(y){'use strict';var z=this.$NetEgoShowcase2.indexOf(y)>-1;if(!z&&this.$NetEgoShowcase3[y]){this.$NetEgoShowcase2.push(y);var aa=p.getURIBuilder();new i().setMethod('POST').setURI(aa.getURI()).setData({q:this.$NetEgoShowcase3[y]}).send();}};f.exports=x;},null);
__d('PubcontentSuggestionsUtil',['DOM','DOMDimensions','LitestandEllipsis','Parent','Style','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={truncateName:function(o,p){var q=h.scry(o,'.nameText')[0];if(q){var r=l.getFloat(o,'lineHeight')*p;j.add(q,r,o);var s=h.scry(o.parentNode,'.socialContext')[0];if(s){r=l.getFloat(o,'lineHeight')*p*2-i.getElementDimensions(o).height;j.add(s,r,s);}}},truncateText:function(o,p){if(o){var q=l.getFloat(o,'lineHeight')*p;j.add(o,q,o);}},truncateAllText:function(o,p){var q,r=h.scry(o,'.ego_title');for(q=0;q<r.length;q++)n.truncateName(r[q],2);var s=h.scry(o,'.descriptionText');for(q=0;q<s.length;q++)n.truncateText(s[q],3);var t=h.scry(o,'.ego_like');for(q=0;q<t.length;q++)n.cutLikeButtonText(t[q],p);},cutButtonText:function(o){var p=k.byClass(o,"_5ry0");if(p&&i.getElementDimensions(o).width>i.getElementDimensions(p).width){var q=h.scry(o,'input')[0];q.value='';}},cutLikeButtonText:function(o,p){var q=p?k.byClass(o,'ego_unit'):k.byClass(o,'likeButton');if(q&&i.getElementDimensions(o).width>i.getElementDimensions(q).width){var r=h.scry(o,'img')[0];r.parentNode.removeChild(r.nextSibling);}}};f.exports=n;},null);
__d('Showcase',['Animation','Barrier','Ease','Slideshow','Style','shield'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p=j.sineInOut;n=k;o=n&&n.prototype;Object.assign(q,n);q.prototype=Object.create(n.prototype);q.prototype.constructor=q;q.__superConstructor__=n;q.prototype._animateTo=function(r){'use strict';if(this._animating)return;var s=this._items.length,t=(r+s)%s;if(t==this._currentIndex)return;var u=new i(2,m(this._setCurrent,this,t)),v=u.notify.bind(u);this._animating=true;this.inform('page_start',t);this._conditionFade(this._items[this._currentIndex],false,v);this._conditionFade(this._items[t],true,v);};q.prototype._conditionFade=function(r,s,t){'use strict';l.set(r,'visibility','visible');new h(r).from('opacity',s?0:1).to('opacity',s?1:0).duration(this._config.animationDuration).ease(p).ondone(function(){if(!s)l.set(r,'visibility','hidden');t();}).go();};function q(){'use strict';n.apply(this,arguments);}f.exports=q;},null);