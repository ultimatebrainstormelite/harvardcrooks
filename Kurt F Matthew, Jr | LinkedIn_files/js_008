LI.define("TextTruncate");LI.TextTruncate=function(a,b){LI.TextTruncate.truncate(a,b)};
LI.TextTruncate.truncate=function(a,b){if(a){var f=/^\s*|\s*$/g,c=a.parentNode,g=a.innerHTML.replace(f,""),d=g;a.getAttribute("data-li-text-truncate-full")&&""!==a.getAttribute("data-li-text-truncate-full")&&(d=g=a.getAttribute("data-li-text-truncate-full"));b=b||{};b={addTitle:!1===b.addTitle?!1:!0,ellipsis:b.ellipsis?b.ellipsis:"\x26hellip;",truncateFrom:b.truncateFrom&&b.truncateFrom.match(/^(end)|(middle)$/)?b.truncateFrom:"end"};if(1!==a.childNodes.length||"#text"!==a.firstChild.nodeName)return!1;
parseInt(YDom.getStyle(c,"paddingRight"),10);parseInt(YDom.getStyle(c,"paddingLeft"),10);for(var c=0,e,k,h;c<=d.length-4&&(a.scrollWidth>a.offsetWidth||a.scrollHeight>a.offsetHeight);)"middle"===b.truncateFrom?(e=Math.floor(d.length/2),h=Math.round(c/2),k=d.substring(0,e-h).replace(f,""),e=d.substring(e+h).replace(f,""),a.innerHTML=k+b.ellipsis+e):(a.innerHTML=d.substring(0,d.length-c).replace(f,""),a.innerHTML+=b.ellipsis),c++;b.addTitle&&!a.getAttribute("title")&&a.setAttribute("title",g);a.setAttribute("data-li-text-truncate-full",
g)}};