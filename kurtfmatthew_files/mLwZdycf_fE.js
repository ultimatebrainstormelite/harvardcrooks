/*!CK:917251802!*//*1439175242,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["jfnUI"]); }

__d("XPubcontentRelatedVideoInlineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/related_video_inline\/",{fbvideo_id:{type:"Int",required:true},query_id:{type:"String",required:true},mf_story_key:{type:"String",required:true},root_video_id:{type:"Int"}});},null,{});
__d('EntstreamAttachmentRelatedFBVideo',['Arbiter','AsyncRequest','AttachmentRelatedShareConstants','csx','cx','CSS','DOM','DOMQuery','Event','ge','Parent','VideoPlayerReason','XPubcontentRelatedVideoInlineController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u={addHoverListener:function(v,w){var x=q(w),y=n.scry(x,"^div._3f-c")[0];p.listen(y,'mouseover',this.doHover.bind(this,v));p.listen(y,'mouseout',this.doHoverOut.bind(this,v));},addClickOutListener:function(v,w){var x=q(w);p.listen(x,'click',this.doHoverOut.bind(this,v));},doHover:function(v){v.play(s.USER);v.mute();},doHoverOut:function(v,w){v.pause(s.USER);},loadRelatedLSCInlineFBVideoAttachmentInRelatedCard:function(v,w,x,y,z,aa,ba,ca){var da=null;if(typeof w==='string'){da=q(w);}else da=w;if(!da)return;var ea=null;if(typeof v==='string'){ea=q(v);}else ea=v;if(!ea)return;p.listen(ea,'click',function(event){var fa=event.srcElement?event.srcElement:event.target;if(fa)for(var ga in aa){var ha=q(aa[ga]);if(ha&&o.contains(ha,fa))return;}if(event.isDefaultRequested())return;event.preventDefault();var ia=null;if(z){var ja=n.scry(da,"^ul._5h5a")[0];if(!ja)return;ia=ja.previousSibling;}else ia=ea.children[0];setTimeout(function(){var ka=t.getURIBuilder();ka.setInt('fbvideo_id',x);ka.setString('query_id',ba);ka.setString('mf_story_key',ca);new i().setURI(ka.getURI()).setRelativeTo(ia).send();},1000);});},loadRelatedLSCInlineFBVideoAttachment:function(v,w,x,y,z){var aa=null;if(!aa)return;p.listen(aa,'click',function(event){if(event.isDefaultRequested())return;event.preventDefault();var ba="^div._4-u2",ca="_4zdu",da=n.scry(aa,ba),ea=da.length===1?da[0]:null,fa=ea.parentNode,ga=fa.previousSibling;while(!ga){fa=fa.parentNode;ga=fa.previousSibling;}if(!m.hasClass(ga,ca)){var ha=n.create('div',{className:ca}),ia=n.insertBefore(ea.parentNode,ha),ja=ia.length>=1?ia[0]:null;}else ja=ga;if(ja.childNodes[0])m.hide(ja.childNodes[0]);var ka="div._4icy",la=n.scry(fa,ka)[0];if(la){var ma="_4icx";m.setClass(la,ma);}setTimeout(function(){var na=t.getURIBuilder();na.setInt('fbvideo_id',w);na.setString('query_id',y);na.setString('mf_story_key',z);new i().setURI(na.getURI()).setRelativeTo(ja).send();if(x)h.inform(j.FBVIDEO_CLICK,{attachment:aa,fbvideo_id:w,continued_chaining:true});if(la)if(x){n.remove(la);}else m.setClass(la,"_4icy");},1000);});},loadRelatedFBVideos:function(v,w){var x=q(v);if(!x)return;var y="_4zdu",z=r.byClass(x,y);if(z)return;var aa=p.listen(x,'click',function(){aa.remove();h.inform(j.FBVIDEO_CLICK,{attachment:x,fbvideo_id:w});});}};f.exports=u;},null);
__d('getLayoutRoot',['DOMQuery','csx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=null;function k(){if(!j)j=h.scry(document.body,"._li")[0];return j;}f.exports=k;},null);
__d('Spotlight',['Arbiter','ArbiterMixin','DOM','JSXDOM','Layer','LayerAutoFocus','LayerTabIsolation','ModalLayer','Vector','classWithMixins','csx','cx','joinClasses','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w;v=q(l,u(i));w=v&&v.prototype;Object.assign(x,v);x.prototype=Object.create(v.prototype);x.prototype.constructor=x;x.__superConstructor__=v;function x(z,aa){'use strict';w.constructor.call(this,z,aa);this.stageMinSize=new p(0,0);this.stagePadding=new p(0,0);}x.prototype._buildWrapper=function(z,aa){'use strict';var ba=t("_n8 _3qx",z.rootClassName);return (k.div({className:ba},k.div({className:"_n9"},aa)));};x.prototype._getDefaultBehaviors=function(){'use strict';return w._getDefaultBehaviors.call(this).concat([y,m,n,o]);};x.prototype.getContentRoot=function(){'use strict';if(!this._content)this._content=j.find(this.getRoot(),"div._n3");return this._content;};x.prototype.configure=function(z){'use strict';if(z.stageMinSize)this.stageMinSize=z.stageMinSize;if(z.stagePadding)this.stagePadding=z.stagePadding;};x.prototype.onContentLoaded=function(){'use strict';this.inform('content-load');};x.prototype.updatePermalink=function(z){'use strict';this.inform('permalinkchange',z);};Object.assign(x.prototype,{stageMinSize:null,stagePadding:null});function y(z){'use strict';this._layer=z;}y.prototype.enable=function(){'use strict';this._subscription=this._layer.subscribe(['show','hide'],function(z,aa){if(z==='show'){h.inform('layer_shown',{type:'Spotlight'});}else h.inform('layer_hidden',{type:'Spotlight'});});};y.prototype.disable=function(){'use strict';this._subscription.unsubscribe();this._subscription=null;};Object.assign(y.prototype,{_subscription:null});f.exports=x;},null);