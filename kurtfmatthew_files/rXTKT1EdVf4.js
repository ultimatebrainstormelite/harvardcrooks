/*!CK:170803588!*//*1439790752,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["ToUUt"]); }

__d('BrowseLogger',['Banzai','mapObject','Run'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k='browse',l='browse_aggr',m=null,n={},o={},p=function(x){if(x==null)return 'undefined';var y=x.tagName.toLowerCase(),z=x.id,aa=x.className;if(z)y+='#'+z;if(aa)y+='.'+aa;return y;};function q(){m=null;n={};o={};}function r(x){return Object.assign(x,{clientSessionID:m});}function s(x){h.post(k,r(x));}function t(){if(m===null)return;o.aggregated=n;h.post(l,r(o));q();}function u(x){n[x]=(n[x]||0)+1;}function v(x){Object.assign(o,x);}j.onUnload(t);var w={newSession:function(){t();m=Math.random().toString();if(!o.start_time)o.start_time=Math.round(Date.now()/1000);},logResultClick:function(x,y,z,aa,ba){var ca={action:'result_click',click_type:x.ct||'result',section:x.section||'unknown',id:x.id||0,path:x.path||'unknown',rank:x.rank||0,referrer:x.referrer||'unknown',result_type:x.result_type||'unknown',session_id:x.session_id||0,query_time:x.query_time,abtest_version:x.abtest_version||'NONE',abtest_params:x.abtest_params,typeahead_sid:x.typeahead_sid||'',result_title:x.result_title||'unknown',result_href:x.result_href||'unknown',result_semantic:x.result_semantic||'unknown',type:x.experience_type||'unknown',click_action:z,sub_id:x.sub_id,owner_id:x.owner_id,browse_location:x.browse_location||'unknown',query_data:x.query_data||'unknown',is_headline:x.is_headline||false,qid:y.qid||0,mf_story_key:y.mf_story_key||0,module:x.module||'NONE',view:x.view,clicked_href:ba};if(y.tn)ca.tn=y.tn;if(x.cst)ca.click_subtype=x.cst;u('result_click_'+ca.click_type);v({path:ca.path,referrer:ca.referrer,result_type:ca.result_type,session_id:ca.session_id,abtest_version:ca.abtest_version,abtest_params:ca.abtest_params,typeahead_sid:ca.typeahead_sid});s(ca);if(!x.id&&x.browse_location!=='browse_location:mf_trending')s({action:'logging_error',click_action:z,click_type:ca.click_type,attributes:JSON.stringify(x),element:i({srcElement:aa.srcElement,target:aa.target,toElement:aa.toElement},p),event:{button:aa.button,clientX:aa.clientX,clientY:aa.clientY,ctrlKey:aa.ctrlKey,layerX:aa.layerX,layerY:aa.layerY,offsetX:aa.offsetX,offsetY:aa.offsetY,pageX:aa.pageX,pageY:aa.pageY,screenX:aa.screenX,screenY:aa.screenY,shiftKey:aa.shiftKey,type:aa.type,x:aa.x,y:aa.y}});},logControlsClick:function(x,y){var z={action:'controls_click',click_type:y,path:x.path||'unknown',referrer:x.referrer||'unknown',session_id:x.session_id||0,query_time:x.query_time,filter_name:x.name||'unknown',typeahead_sid:x.typeahead_sid||'',result_type:x.result_type||'unknown',type:x.experience_type||'unknown'};if(x.cst)z.click_subtype=x.cst;u('controls_click_'+y);v({path:z.path,referrer:z.referrer,session_id:z.session_id,typeahead_sid:z.typeahead_sid});s(z);},logResultHover:function(x,y){var z={action:'result_hover',id:x.id||0,path:x.path||'unknown',rank:x.rank,result_type:x.result_type||'unknown',session_id:x.session_id||0,query_time:x.query_time,time_elapsed:y,typeahead_sid:x.typeahead_sid||0,type:x.experience_type||'unknown',module:x.module||'NONE',view:x.view};u('result_hover');v({path:z.path,session_id:z.session_id,typeahead_sid:z.typeahead_sid});s(z);},logScroll:function(x,y,z,aa){var ba={action:'scroll',encoded_query:x,fragments:y,position:z,session_id:aa||0};s(ba);},logNUXStep:function(x){var y={action:'nux_step',step:x};s(y);},logDisambiguationImpression:function(x,y,z,aa,ba){var ca={action:'disambiguation_imp',ids:aa,name:x,path:z,type:y,typeahead_sid:ba};s(ca);},logDisambiguationClick:function(x,y,z,aa,ba,ca){var da={action:'disambiguation_clk',id:ba,index:aa,name:x,path:z,type:y,typeahead_sid:ca};s(da);},logDYMLinkClick:function(x,y,z,aa){var ba={action:'dym_click',path:x.path||'unknown',referrer:x.referrer||'unknown',session_id:x.session_id||0,query_time:x.query_time,abtest_version:x.abtest_version||'NONE',abtest_params:x.abtest_params,typeahead_sid:x.typeahead_sid||'',type:x.experience_type||'unknown',click_action:z,sub_id:x.sub_id,owner_id:x.owner_id,browse_location:x.browse_location||'unknown',query_data:x.query_data||'unknown',module:x.module||'NONE',view:x.view,dym_confidence:x.dym_confidence||'NONE',dym_query:x.dym_query||'',dym_correction:x.dym_correction||'',dym_clicked:x.dym_clicked||''};s(ba);}};f.exports=w;},null);
__d('BrowseClickLogger',['Event','BrowseLogger','BrowseClientEventLogger','collectDataAttributes','DOMQuery'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(o,p){var q=o.target,r=k(q,['bt','ft','gt']);r.gt.click_type=r.ft.tn;j.logClick(r.gt);if(l.scry(q,'^.recourse-link').length>0){if(p==='left_click')i.logDYMLinkClick(r.bt,r.ft,p,o);}else i.logResultClick(r.bt,r.ft,p,o,q.href);}var n={init:function(o){h.listen(o,'mousedown',(function(p){var q=p.button===2||p.which===3?'right_click':'left_click';if(p.shiftKey)q+='_shift';if(p.altKey)q+='_alt';if(p.metaKey||p.ctrlKey)q+='_ctrl';m(p,q);}).bind(this));}};f.exports=n;},null);
__d('BrowseResultsAreSlow',['CSS'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=1500,j={register:function(k,l,m){var n=m?0:i;setTimeout(function(){if(k.firstChild===l)h.show(l);},n);}};f.exports=j;},null);
__d('BrowseWindowTransitions',['Arbiter','Banzai','BrowseClientEventLogger','Event','NavigationMessage','Run','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o={init:function(p,q){this.subscriptions=new n();this.currentSessionID=p;this.currentVertical=q;this.logData('window_load');m.onLeave((function(){this.logData('window_transition_to_fb_page');this.cleanup();}).bind(this));if(!this.unLoadAttached){this.unLoadAttached=true;m.onUnload((function(){this.logData('window_unloaded');}).bind(this));}this.subscriptions.addSubscriptions(k.listen(window,'focus',(function(){this.logData('window_focus');}).bind(this)),k.listen(window,'blur',(function(){this.logData('window_blur');}).bind(this)),h.subscribe('pre_page_transition',(function(event,r){this.logData('window_pre_page_transition');}).bind(this)),h.subscribe(l.NAVIGATION_BEGIN,(function(event,r){this.logData('window_transition_to_LHC');this.cleanup();}).bind(this)),h.subscribe('BlueBar/homeClick',(function(){this.logData('window_transition_to_home_click');this.cleanup();}).bind(this)));},logData:function(event){j.logData(event,this.currentSessionID,this.currentVertical);},cleanup:function(){this.subscriptions.release();}};f.exports=o;},null);
__d('BrowseRHCModules',['DOM'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={_container:Object,init:function(j){this._container=j;},setContent:function(j){h.empty(this._container);j=Array.isArray(j)?j:[j];j.forEach((function(k){h.appendContent(this._container,k);}).bind(this));}};f.exports=i;},null);
__d('NodeHighlighter',['DOM','TokenizeUtil','concatMap','createArrayFromMixed','escapeRegex','getElementText'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={};function o(r,s){var t=m(r).split(s),u=t.map(function(v){if(s.test(v))return p(v);return v||'';});return t.length>1?u:null;}function p(r){var s=h.create('span',{'class':'highlightNode',className:'highlightNode'},r);return s;}var q={getTextNodes:function(r){if(this.isLeafNode(r)||this.isStopNode(r)){return r;}else if(this.isDiscardNode(r))return [];return j(this.getTextNodes.bind(this),k(r.childNodes));},getHighlightCandidates:function(){return [];},isLeafNode:function(r){return h.isTextNode(r);},isStopNode:function(r){return false;},isDiscardNode:function(r){return false;},createSegmentedRegex:function(r){var s=i.getPunctuation();r=this.escapeAndAddBidirectionalCharsToTokens(r);r=r.map(function(t){t=t.split(/\s+/).join('(?:'+s+'|\\s)+');return t;});return '(^|\\s|'+s+')('+r.join('|')+')(?=(?:$|\\s|'+s+'))';},createNonSegmentedRegex:function(r){return '('+r.map(l).join('|')+')';},escapeAndAddBidirectionalCharsToTokens:function(r){var s='[\\u200E\\u200F\\u202A\\u202B\\u202C\\u202D\\u202E]*';return r.map(function(t){return s+String(t).split('').map(l).join(s)+s;});},createRegex:function(r){r=r.filter(function(y){return y;});if(!r||r.length===0)return new RegExp(null);var s=r.join('|');if(n[s])return n[s];var t=/[\u0E00-\u109F\u2000-\uFFFF]/,u=[],v=[];r.forEach(function(y){if(t.test(y)){v.push(y);}else u.push(y);});var w='';if(u.length){w+=this.createSegmentedRegex(u);w+=v.length?'|':'';}if(v.length)w+=this.createNonSegmentedRegex(v);var x=new RegExp(w,'i');n[s]=x;return x;},searchNodes:function(r,s){return h.scry(r,s);},highlight:function(r,s){s=s.filter(function(v){return v;});if(!s||s.length===0||!r)return;var t=j((function(v){return j(this.getTextNodes.bind(this),this.searchNodes(r,v));}).bind(this),this.getHighlightCandidates()),u=this.createRegex(s);t.forEach((function(v){var w=o(v,u);if(w)if(this.isStopNode(v)){h.setContent(v,w);}else h.replace(v,w);}).bind(this));}};f.exports=q;},null);
__d('StaticContainer.react',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=h.Component;j=i&&i.prototype;Object.assign(k,i);k.prototype=Object.create(i.prototype);k.prototype.constructor=k;k.__superConstructor__=i;k.prototype.shouldComponentUpdate=function(l){'use strict';return !!l.shouldUpdate;};k.prototype.render=function(){'use strict';var l=this.props.children;if(l===null||l===false)return null;return h.Children.only(l);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('TypeaheadFacepileX.react',['React','joinClasses'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=Object.assign||function(l){for(var m=1;m<arguments.length;m++){var n=arguments[m];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))l[o]=n[o];}return l;},k=h.createClass({displayName:'TypeaheadFacepile',renderPic:function(l,m){var n='url('+this.props.photos[l]+')';return (h.createElement('span',{className:i('splitpic',m),key:l,style:{backgroundImage:n}}));},renderPics:function(){var l=this.props.size;if(l>=3){return [this.renderPic(0,'leftpic'),this.renderPic(1,'toppic'),this.renderPic(2,'bottompic')];}else return [this.renderPic(0,'leftpic'),this.renderPic(1)];},render:function(){return (h.createElement('span',j({},this.props,{className:i(this.props.className,"splitpics clearfix")}),this.renderPics()));}});f.exports=k;},null);
__d("FacebarTimerUtils",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getTimestamp:function(){return Date.now();}};f.exports=h;},null);
__d('FacebarTypeahead',['Arbiter','Typeahead','emptyFunction'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=i;l=k&&k.prototype;Object.assign(m,k);m.prototype=Object.create(k.prototype);m.prototype.constructor=m;m.__superConstructor__=k;function m(n,o,p,q,r,s){'use strict';l.constructor.call(this,n,o,p,q);this.getCore();this.proxyEvents();this.initBehaviors(r||[]);var t=this.core.subscribe('focus',(function(){if(s)s.init(this);this.core.unsubscribe(t);this.data.bootstrap(false);this.core.input.focus();}).bind(this));this.data.bootstrap(true);this.inform('init',this,h.BEHAVIOR_PERSISTENT);h.inform('Facebar/init',this,h.BEHAVIOR_PERSISTENT);}m.prototype.proxyEvents=function(){'use strict';var n,o=[],p=null,q=(function(){while(n=o.shift())this.inform(n[0],n[1]);p=null;}).bind(this);[this.data,this.view,this.core].forEach(function(r){r.subscribe(r.events,(function(s,t){o.push([s,t]);p=p||setTimeout(q,0);}).bind(this));},this);};Object.assign(m.prototype,{init:j});f.exports=m;},null);
__d('SearchCommentHighlighter',['Arbiter','CSS','NodeHighlighter','Parent','csx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=Object.assign||function(p){for(var q=1;q<arguments.length;q++){var r=arguments[q];for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s))p[s]=r[s];}return p;},n='data-highlight-tokens',o=m({},j,{_enableCommentHighlighting:function(){if(this._subscription)return;this._subscription=h.subscribe('ufi/changed',(function(p,q){var r=q.form;return this._highlightComments(r);}).bind(this));h.subscribeOnce('pre_page_transition',(function(){return this._disableCommentHighlighting();}).bind(this));},_disableCommentHighlighting:function(){this._subscription.unsubscribe();this._subscription=null;},_highlightComments:function(p){var q=this._getHighlightTokens(p);if(q)j.highlight.call(this,p,q);},_getHighlightTokens:function(p){var q=k.byAttribute(p,n);return q?JSON.parse(q.getAttribute(n)):null;},isDiscardNode:function(p){return i.hasClass(p,'highlightNode');},getHighlightCandidates:function(){return [".UFICommentContent"];},highlight:function(p,q){if(!p.setAttribute)return;p.setAttribute(n,JSON.stringify(q));this._enableCommentHighlighting();}});f.exports=o;},null);
__d('FbFeedHighlighter',['CSS','NodeHighlighter','SearchCommentHighlighter','csx','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=Object.assign||function(p){for(var q=1;q<arguments.length;q++){var r=arguments[q];for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s))p[s]=r[s];}return p;},n="_58cn",o=m({},i,{getHighlightCandidates:function(){return ["._5pbw","._5pbx","._6m6","._6m7","._59tj","._5b-_","._5b_0","._4_j6",".commentBody","._g2z","._6lc","._6s_"];},isStopNode:function(p){return h.hasClass(p,n);},isDiscardNode:function(p){return h.hasClass(p,'text_exposed_link');},highlight:function(p,q){i.highlight.call(this,p,q);j.highlight(p,q);}});f.exports=o;},null);
__d('XUIPageNavigationShim',['DOMContainer.react','React','isNode'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=Object.assign||function(o){for(var p=1;p<arguments.length;p++){var q=arguments[p];for(var r in q)if(Object.prototype.hasOwnProperty.call(q,r))o[r]=q[r];}return o;},l=(function(){var o=0;return function(){return 'XUIPageNavigationShim-'+(o++);};})();function m(o){var p;if(o.children)p=o.children.map(function(r){if(typeof r==='object'&&typeof r.ctor==='function'){return m(r);}else if(j(r)){return i.createElement(h,{key:l()},r);}else return r;});var q=o.ctor;return (i.createElement(q,k({key:l()},o.props),p));}var n=i.createClass({displayName:'XUIPageNavigationShim',render:function(){return m(this.props);}});f.exports=n;},null);