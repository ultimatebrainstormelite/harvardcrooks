/*!CK:3572812800!*//*1439789257,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["8jZry"]); }

__d('AttachmentCTA',['Style'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=10,j={init:function(k){var l=k.parentNode,m=Math.max(l.scrollHeight-k.scrollHeight-i*2,0);h.set(k,'margin-top',m+'px');}};f.exports=j;},null);
__d('CanvasRHCHeightController.react',['React','DOMQuery'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'CanvasRHCHeightController',propTypes:{rhc:j.object},render:function(){var l=i.find(document,'#contentArea'),m=0;if(this.props.rhc.scrollHeight<l.scrollHeight)m=l.scrollHeight-this.props.rhc.scrollHeight;var n={height:m+'px'};return (h.createElement('div',{style:n}));}});f.exports=k;},null);
__d('getNormalizedClientRect',['getDocumentScrollElement'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';function i(j){var k=j.getBoundingClientRect(),l=0,m=0,n=h(j.ownerDocument),o=n.getBoundingClientRect();if(o.left>0){l=-o.left;}else{var p=n.scrollWidth+o.left,q=o.width;if(q>p)l=q-p;}if(o.top>0)m=-o.top;return {bottom:k.bottom+m,height:k.height,left:k.left+l,right:k.right+l,top:k.top+m,width:k.width};}f.exports=i;},null);
__d('FansJewel',['AsyncRequest'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';j.subscribe('marked-seen',function(){new h('/ajax/pages/fans_seen.php').setMethod('POST').send();});}f.exports=i;},null);
__d('CanvasInteractionTracker',['Banzai'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i='canvas_sustained_interaction',j;function k(m,n,o){m.onmouseover=function(event){j=window.setTimeout(function(){h.post(i,{app_id:n});},o);};m.onmouseout=function(event){window.clearTimeout(j);};}var l={setup:k};f.exports=l;},null);
__d('StickyArea',['CSS','DOM','DOMQuery','Event','Run','Style','ViewportBounds','cx','getNormalizedClientRect','getOverlayZIndex','removeFromArray','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=[],u=null,v=null,w=null,x=s.acrossTransitions(y,1000);function y(){t.sort(function(ea,fa){var ga=ea.getNode(),ha=fa.getNode();if(ga.compareDocumentPosition){return 3-(ga.compareDocumentPosition(ha)&6);}else return ga.sourceIndex-ha.sourceIndex;});}function z(ea,fa,ga){var ha=ea.getPlaceholder(),ia=ea.getNode(),ja=m.get(ia,'float'),ka=ea.getData();if(ka.placeholderWidth!==fa||ka.placeholderHeight!==ga||ka.placeholderFloat!==ja){m.apply(ha,{'float':ja,height:ga+'px',width:fa+'px'});ka.placeholderHeight=ga;ka.placeholderWidth=fa;}if(ia.nextSibling!==ha)i.insertAfter(ia,ha);}function aa(ea,fa){var ga=ea.getData();if(ga.fixed!==fa){m.apply(ea.getNode(),ga.styles);h.conditionShow(ea.getPlaceholder(),fa);ga.fixed=fa;}}function ba(ea,fa){if(!ea){return 0;}else if(fa.right<=ea.rect.left||fa.left>=ea.rect.right){return ba(ea.prev,fa);}else return ea.bottom;}function ca(){var ea=0,fa=t.length,ga=100;function ha(ia,ja){var ka=ga;while(ea<fa){var la=t[ea],ma=la.getNode();if(ja&&!j.contains(ja,ma))break;ga=Math.max(ka,la.getZIndex());var na=la.getData(),oa=ma.parentNode,pa=na.styles;for(var qa in pa)pa[qa]='';aa(la,false);var ra=ma.offsetHeight,sa=ma.offsetWidth,ta=p(ma),ua=ba(ia,ta)+la.getOffset();if(ta.top<=ua){pa.width=sa+'px';var va=parseInt(m.get(oa,'padding-bottom'),10),wa=p(oa);if(wa.bottom-va>ua+ra){var xa=parseInt(m.get(ma,'margin-left'),10);pa.position='fixed';pa.bottom='auto';pa.top=ua+'px';pa.left=ta.left-xa+'px';}else{if(!na.parent||oa!==na.parent){if(m.get(oa,'position')==='static')m.set(oa,'position','relative');na.parent=oa;}pa.position='absolute';pa.top='auto';pa.bottom=va+'px';var ya=parseInt(m.get(oa,'border-left-width'),10);pa.left=ta.left-wa.left-ya+'px';}z(la,sa,ra);aa(la,true);}ea++;ha({bottom:ua+ra,prev:ia,rect:ta},oa);m.set(ma,'z-index',ga++);}}ha(null,null);}function da(ea,fa,ga){'use strict';this._node=ea;this._data={fixed:false,placeholderFloat:null,placeholderHeight:null,placeholderWidth:null,styles:{}};this._offset=ga;h.addClass(ea,"_k");if(!fa)l.onLeave(this.destroy.bind(this));if(!t.length){u=k.listen(window,'scroll',function(){x();ca();});v=k.listen(window,'resize',function(){x();ca();});w=n.subscribe('change',function(){x();ca();});}t.push(this);da.reflow();}da.prototype.destroy=function(){'use strict';r(t,this);if(!t.length){u.remove();u=null;v.remove();v=null;}if(this._placeholder)i.remove(this._placeholder);var ea=0;for(var fa in this._data.styles){this._data.styles[fa]='';ea++;}if(ea)m.apply(this._node,this._data.styles);};da.prototype.getData=function(){'use strict';return this._data;};da.prototype.getNode=function(){'use strict';return this._node;};da.prototype.getOffset=function(){'use strict';return this._offset||0;};da.prototype.getPlaceholder=function(){'use strict';if(!this._placeholder)this._placeholder=i.create('div');return this._placeholder;};da.prototype.getZIndex=function(){'use strict';if(!this._zIndex)this._zIndex=q(this._node);return this._zIndex;};da.prototype.setOffset=function(ea){'use strict';this._offset=ea;};da.reflow=s.acrossTransitions(function(){y();ca();},100);f.exports=da;},null);