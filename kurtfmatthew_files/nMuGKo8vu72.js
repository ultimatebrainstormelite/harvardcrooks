/*!CK:3708680239!*//*1439791799,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["IhKCr"]); }

__d('StickyController',['CSS','Event','Style','Vector','queryThenMutateDOM'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(n,o,p,q){'use strict';this._element=n;this._marginTop=o;this._onchange=p;this._proxy=q||n.parentNode;this._boundQueryOnScroll=this.shouldFix.bind(this);this._boundMutateOnScroll=this._mutateOnScroll.bind(this);}m.prototype.handleScroll=function(){'use strict';l(this._boundQueryOnScroll,this._boundMutateOnScroll);};m.prototype.shouldFix=function(){'use strict';return k.getElementPosition(this._proxy,'viewport').y<=this._marginTop;};m.prototype._mutateOnScroll=function(){'use strict';var n=this.shouldFix();if(this.isFixed()!==n){j.set(this._element,'top',n?this._marginTop+'px':'');h.conditionClass(this._element,'fixed_elem',n);this._onchange&&this._onchange(n);}};m.prototype.start=function(){'use strict';if(this._event)return;this._event=i.listen(window,'scroll',this.handleScroll.bind(this));setTimeout(this.handleScroll.bind(this),0);};m.prototype.stop=function(){'use strict';this._event&&this._event.remove();this._event=null;};m.prototype.isFixed=function(){'use strict';return h.hasClass(this._element,'fixed_elem');};f.exports=m;},null);
__d('TimelineSideAds',['AdsMouseStateStore','Animation','Arbiter','CSS','DOM','EgoAdsObjectSet','Event','ProfileTabUtils','StickyController','TimelineAdsConfig','TimelineComponentKeys','TimelineConstants','TimelineController','UIPagelet','UITinyViewportAction','URI','Vector','csx','cx','debounce','ge','queryThenMutateDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){if(c.__markCompiled)c.__markCompiled();var da=75,ea='data-height',fa=h.STATES,ga=30000,ha=0,ia=false,ja,ka,la,ma,na,oa,pa=new m(),qa,ra,sa=false,ta,ua=Infinity,va=false,wa=5,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb=false,lb=[],mb;function nb(mc,nc,oc){var pc=0;if(nc)pc+=nc.getHeight();if(!sb()&&!pc)return;mc-=pc;var qc=0;for(var rc=0;rc<oc;rc++)qc+=bc(rc);if(nc)if(mc<qc){mc+=nc.fold(qc-mc);}else if(mc>qc)mc-=nc.unfold(mc-qc);return mc;}function ob(){var mc=ka.cloneNode(true);mc.id='';var nc=new m();nc.init(l.scry(mc,'div.ego_unit'));var oc=true;nc.forEach(function(pc){if(oc){oc=false;}else l.remove(pc);});k.addClass(mc,'fixed_elem');return mc;}function pb(){oa=undefined;if(!o.tabHasScrubber(qa)){tb(wa);wb();}else if(cb){ub(ka,false);var mc=db;db&&l.remove(db);db=ob();if(mc)hc();tb(t.sidebarInitialized()&&sa?ab:za);wb();if(!ta){var nc=t.getCurrentScrubber();if(nc)gc(nc.getRoot(),nc.getOffset());}ta&&ta.start();}else lc.adjustAdsToFit();}function qb(){if(db){l.remove(db);db=null;}if(ta){ta.stop();ta=null;}var mc=o.tabHasScrubber(qa);k.conditionClass(ka,'fixed_elem',!cb&&(sb()||mc));k.conditionClass(ka,"_31wm",!mc);k.conditionClass(ka,"_5r9k",mc);}function rb(mc){var nc=x.getViewportDimensions().y,oc=t.getCurrentScrubber(),pc=oc?oc.getOffset():s.SCRUBBER_DEFAULT_OFFSET,qc=nc-pc-da;if(oc||sb())return nb(qc,oc,mc);}function sb(){return o.tabHasFixedAds(qa);}function tb(mc){na=Math.min(mc,pa.getCount());pa.forEach(function(nc,oc){ub(nc,oc>=na);});ub(ka,na===0);}function ub(mc,nc){k.conditionClass(mc,"_22r",nc);mc.setAttribute('aria-hidden',nc?'true':'false');}function vb(mc){var nc=l.find(pa.getUnit(mc),"div._4u8"),oc=nc.getAttribute('data-ad');return JSON.parse(oc).adid;}function wb(){yb();xb();}function xb(){var mc;if(oa!==undefined){mc=pa.getHoldoutAdIDsForSpace(oa,cc);}else mc=pa.getHoldoutAdIDsForNumAds(na);if(mc)mc.forEach(zb);}function yb(){if(!eb)return;for(var mc=na-1;mc>=0;--mc){if(ta&&ta.isFixed()&&(mc!==0||db&&!k.shown(db)))continue;var nc=vb(mc);if(!eb[nc])return;zb(nc);}}function zb(mc){if(!eb[mc])return;var nc=l.create('iframe',{src:new w('/ai.php').addQueryData({aed:eb[mc]}),width:0,height:0,frameborder:0,scrolling:'no',className:'fbEmuTracking'});nc.setAttribute('aria-hidden','true');l.appendContent(ka,nc);delete eb[mc];}function ac(mc){var nc=0;for(var oc=0;oc<wa;oc++){var pc=bc(oc);mc-=pc;if(mc>0&&pc>0)nc++;}return nc;}function bc(mc){var nc=pa.getUnit(mc);if(!nc)return 0;return cc(nc);}function cc(mc){if(!mc.getAttribute(ea))dc(mc);return parseInt(mc.getAttribute(ea),10);}function dc(mc){mc.setAttribute(ea,mc.offsetHeight);}function ec(){for(var mc=0;mc<pa.getCount();mc++){var nc=pa.getUnit(mc);if(!nc)continue;dc(nc);}}function fc(){var mc=l.scry(ka,'div.ego_unit');pa.init(mc);var nc=mc.length;if(!nc)return;k.addClass(pa.getUnit(0),'ego_unit_no_top_border');pb();setTimeout(function(){mc.forEach(dc);lc.adjustAdsToFit();ua=Date.now();},0);}function gc(mc,nc){ta=new p(mc,nc,function(oc){if(oc){hc();}else{l.remove(db);wb();}});if(db)ta.start();}function hc(){l.insertAfter(ka,db);ic();}function ic(){k.conditionShow(db,bc(0)<=rb(1)&&!v.isTiny());}function jc(){if(ra){var mc=ba(la);l.find(mc,'.ego_column').appendChild(ra);}if(q.fade)new i(ba(la)).from('opacity',0).to('opacity',1).duration(600).go();}function kc(mc){return !!l.scry(mc,'div.fbEmuHidePoll')[0];}var lc={init:function(mc,nc,oc){if(ia)return;wa=oc.max_ads;ja=oc.refresh_delay;ga=oc.refresh_threshold;xa=oc.min_ads;ya=oc.min_ads_wide;za=oc.min_ads_short;ab=oc.min_ads_short_wide;ia=true;ma=nc;ka=mc;h.updateRhcID(l.getID(ka));lc.adjustAdsType(t.shouldShowWideAds());fb=j.subscribe(['UFI/CommentAddedActive','UFI/CommentDeletedActive','UFI/LikeActive','Curation/Action','ProfileBrowser/LoadMoreContent','Ads/NewContentDisplayed'],lc.loadAdsIfEnoughTimePassed);gb=j.subscribe('TimelineSideAds/refresh',lc.forceReloadAds);hb=j.subscribe('ProfileQuestionAnswered',lc.forceReloadAdsWithCallback);ib=j.subscribe('Ads/displayPoll',lc.displayAdsPoll);jb=j.subscribe('Ads/hidePoll',lc.hideAdsPoll);mb=aa(lc.loadAdsIfEnoughTimePassed,ja,this,true);if(oc.mouse_move){lb.push(n.listen(window,'mousemove',mb));lb.push(n.listen(window,'scroll',mb));lb.push(n.listen(window,'resize',mb));lb.push(n.listen(ka,'mouseenter',function(){va=true;}));lb.push(n.listen(ka,'mouseleave',function(){va=false;}));}t.register(r.ADS,lc);},setShortMode:function(mc){cb=mc;},start:function(mc){eb=mc;bb=null;fc();},updateCurrentKey:function(mc){if(mc==qa)return;qa=mc;qb();},loadAds:function(mc){if(bb)return;ua=Infinity;bb=u.loadFromEndpoint('WebEgoPane',ka.id,{pid:33,data:[ma,'timeline_'+mc,cb?ab:wa,++ha,false]},{crossPage:true,bundle:false,handler:jc});},registerScrubber:function(mc){if(cb)gc(mc.getRoot(),mc.getOffset());!bb&&lc.adjustAdsToFit();},intentShown:function(){if(!q.stateRefresh)return false;switch(h.getState()){case fa.HOVER:case fa.INTENT:default:return true;case fa.NO_INTENT:return false;case fa.STATIONARY:return !q.refreshOnStationary;}},loadAdsIfEnoughTimePassed:function(){if(ga&&Date.now()-ua>=ga&&!v.isTiny()&&(!ta||ta.isFixed())&&(!eb||!eb[vb(0)])&&!lc.intentShown()&&!va)lc.loadAds(qa);lc.adjustAdsToFit();},forceReloadAdsWithCallback:function(mc,nc){ra=nc;la=l.getID(ka);lc.loadAds(qa);},forceReloadAds:function(){lc.loadAds(qa);},adjustAdsType:function(mc){if(mc!=sa){k.conditionClass(ka,"_22q",!mc);k.conditionClass(ka,"_35q",!mc);db&&k.conditionClass(db,"_22q",!mc);db&&k.conditionClass(db,"_35q",!mc);sa=mc;ec();lc.adjustAdsToFit();var nc=ba('rightColContent');if(nc)k.conditionClass(nc,'fbTimelineWideRightCol',mc);}},displayAdsPoll:function(){var mc=-1;for(var nc=0;nc<pa.getCount();nc++){var oc=pa.getUnit(nc);if(!oc)continue;if(mc===-1&&kc(oc))mc=nc;dc(oc);}lc.adjustAdsToFit();if(mc===na&&mc>0){ub(pa.getUnit(mc-1),true);ub(pa.getUnit(mc),false);}},hideAdsPoll:function(){ec();lc.adjustAdsToFit();},adjustAdsToFit:function(){if(!ka||kb)return;kb=true;var mc;if(cb){mc=sa?ab:za;if(ta&&db){ta.handleScroll();if(ta.isFixed()){k.conditionShow(db,bc(0)<=rb(1)&&!v.isTiny());}else tb(mc);wb();}kb=false;return;}mc=sa?ya:xa;var nc=0;ca(function(){var oc=rb(mc);if(oc!==undefined){oa=oc;nc=ac(oc);}},function(){if(nc>0){tb(nc);wb();kb=false;}});},reset:function(){ta&&ta.stop();bb&&bb.cancel();pa=new m();sa=false;ka=null;ta=null;bb=null;ha=0;cb=null;db=null;qa=null;ua=Infinity;ia=false;fb&&j.unsubscribe(fb);fb=null;gb&&j.unsubscribe(gb);gb=null;hb&&j.unsubscribe(hb);ib&&j.unsubscribe(ib);jb&&j.unsubscribe(jb);hb=null;va=false;lb.forEach(function(mc){mc.remove();});lb=[];mb&&mb.reset();}};f.exports=b.TimelineSideAds||lc;},null);
__d('TimelineStickyHeader',['Animation','Arbiter','BlueBar','Bootloader','CSS','DOM','ProfileTabConst','ProfileTabUtils','Style','TimelineComponentKeys','TimelineController','Vector','ViewportBounds','ge','queryThenMutateDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=200,x=false,y=false,z,aa,ba,ca,da,ea,fa={},ga={VISIBLE:'TimelineStickyHeader/visible',ADJUST_WIDTH:'TimelineStickyHeader/adjustWidth',init:function(ha){if(x)return;x=true;z=ha;aa=m.find(ha,'div.name');ba=m.find(ha,'div.actions');y=l.hasClass(ha,'fbTimelineStickyHeaderVisible');var ia,ja=false;v(function(){var ka=j.getBar();if(ka.offsetTop&&!u('page_admin_panel')&&r.getCurrentKey()!==n.TIMELINE){ia=s.tElementDimensions(ka).y;ja=true;}},function(){if(ja){k.loadModules(["StickyController"],function(ka){new ka(ha,ia).start();});}else l.addClass(ha,'fixed_elem');v(function(){da=ha.offsetTop;ea=ha.scrollHeight;},function(){ca=t.addTop(function(){return y?da+ea:0;});},'TimelineStickyHeader/init');r.register(q.STICKY_HEADER,ga);},'TimelineStickyHeader/init');},reset:function(){x=false;y=false;z=null;aa=null;ba=null;fa={};ca.remove();ca=null;},handleTabChange:function(ha){if(!o.tabHasStickyHeader(ha)){this.toggle(false,function(){return l.hide(z);});return;}l.show(z);},toggle:function(ha,ia){if(ha===y){ia&&ia();return;}var ja=ha?da-ea:da,ka=ha?da:da-ea;p.set(z,'top',ja+'px');l.addClass(z,'fbTimelineStickyHeaderAnimating');var la=m.getID(z);fa[la]&&fa[la].stop();fa[la]=new h(z).from('top',ja).to('top',ka).duration(w).ondone(function(){fa[la]=null;v(null,function(){l.conditionClass(z,'fbTimelineStickyHeaderHidden',!ha);z.setAttribute('aria-hidden',ha?'false':'true');l.removeClass(z,'fbTimelineStickyHeaderAnimating');p.set(z,'top','');i.inform(ga.VISIBLE,ha);ia&&ia();});}).go();y=ha;if(y)ga.adjustWidth();},adjustWidth:function(){i.inform(ga.ADJUST_WIDTH,aa,i.BEHAVIOR_STATE);},getRoot:function(){return z;},setActions:function(ha){if(x&&ha){m.setContent(ba,ha);ba=ha;}}};f.exports=b.TimelineStickyHeader||ga;},null);
__d('ButtonGroup',['CSS','DataStore','Parent','createArrayFromMixed'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='firstItem',m='lastItem';function n(s,t){var u=j.byClass(s,t);if(!u)throw new Error('invalid use case');return u;}function o(s){return h.shown(s)&&k(s.childNodes).some(h.shown);}function p(s){var t,u,v;k(s.childNodes).forEach(function(w){v=o(w);h.removeClass(w,l);h.removeClass(w,m);h.conditionShow(w,v);if(v){t=t||w;u=w;}});t&&h.addClass(t,l);u&&h.addClass(u,m);h.conditionShow(s,t);}function q(s,t){var u=n(t,'uiButtonGroupItem');s(u);p(u.parentNode);}function r(s){'use strict';this._root=n(s,'uiButtonGroup');i.set(this._root,'ButtonGroup',this);p(this._root);}r.getInstance=function(s){'use strict';var t=n(s,'uiButtonGroup'),u=i.get(t,'ButtonGroup');return u||new r(t);};Object.assign(r.prototype,{hideItem:q.bind(null,h.hide),showItem:q.bind(null,h.show),toggleItem:q.bind(null,h.toggle)});f.exports=r;},null);
__d('TimelineStickyHeaderNav',['Arbiter','BlueBar','ButtonGroup','CSS','DataStore','DateStrings','DOM','Event','Parent','SelectorDeprecated','Style','SubscriptionsHandler','TimelineComponentKeys','TimelineConstants','TimelineController','TimelineLegacySections','UITinyViewportAction','URI','Vector','queryThenMutateDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba=false,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na={},oa={},pa=[],qa=false,ra=[],sa=[],ta,ua=80;function va(){var ib=q.getSelectorMenu(ga);ta.addSubscriptions(o.listen(ib,'click',wa),h.subscribe(u.SECTION_REGISTERED,ab));}function wa(event){var ib=p.byTag(event.getTarget(),'a'),jb=ib&&l.get(ib,'key');if(jb){v.stickyHeaderNavWasClicked(jb);v.navigateToSection(jb);event.prevent();}}function xa(ib,jb){var kb=q.getValue(jb);if(kb==='allStories')w.get(ib).expandSubSections();if(kb!=='activityLog')ya(jb);}function ya(ib){gb(ib,'highlights');gb(ib,'allStories');var jb=n.find(ib,'li.separator');k.conditionShow(jb,jb.previousSibling);}function za(ib){if(la===ib&&ja[ib]&&!da.custom_subsection_menu){eb(ib);}else bb();v.adjustStickyHeaderWidth();}function ab(ib,jb){var kb=jb.section,lb=kb.getParentKey();if(!lb)return;var mb=db(lb),nb=v.getCurrentScrubber(),ob=kb.getScrubberKey(),pb=nb?nb.getLabelForSubnav(lb,ob):pb=cb(ob);if(pb){ja[lb]=true;fb(mb,{key:ob,label:pb});za(lb);}}function bb(){ea.hideItem(ha);}function cb(ib){var jb=ib.split('_');return m.getMonthName(parseInt(jb.pop(),10));}function db(ib){var jb=ia[ib];if(!jb){jb=ia[ib]=ha.cloneNode(true);var kb=n.scry(jb,'li.activityLog a')[0];if(kb)kb.href=new y(kb.href).addQueryData({key:ib});ta.addSubscriptions(q.listen(jb,'change',xa.bind(null,ib,jb)),o.listen(jb,'click',wa));}return jb;}function eb(ib){var jb=db(ib);n.insertAfter(ha,jb);k.hide(ha);for(var kb in ia){var lb=ia[kb];k.conditionShow(lb,lb===jb);}ea.showItem(ha);}function fb(ib,jb){var kb=n.create('a',{href:'#',rel:'ignore',className:'itemAnchor',tabIndex:0},n.create('span',{className:'itemLabel fsm'},jb.label));kb.setAttribute('data-key',jb.key);kb.setAttribute('aria-checked',false);var lb=n.create('li',{className:'uiMenuItem uiMenuItemRadio uiSelectorOption'},kb);lb.setAttribute('data-label',jb.label);var mb=n.find(ib,'ul.uiMenuInner'),nb=n.create('option',{value:jb.key},jb.label),ob=n.find(ib,'select');if(jb.key==='recent'){n.prependContent(mb,lb);n.insertAfter(ob.options[0],nb);}else{n.appendContent(mb,lb);n.appendContent(ob,nb);}}function gb(ib,jb){var kb=n.scry(ib,'li.uiMenuItem');if(!kb)return;for(var lb=0;lb<kb.length;lb++){var mb=kb[lb];if(k.hasClass(mb,jb)||mb.firstChild.getAttribute('data-key')==jb){n.remove(mb);break;}}var nb=n.find(ib,'select'),ob=n.scry(nb,'option');for(lb=0;lb<ob.length;lb++)if(ob[lb].value===jb){n.remove(ob[lb]);return;}}var hb={init:function(ib,jb){if(ba)return;ba=true;ca=ib;da=jb||{};fa=n.find(ca,'div.pageMenu');ga=n.find(ca,'div.sectionMenu');ha=n.find(ca,'div.subsectionMenu');ma=n.find(fa,'li.uiMenuSeparator');ea=j.getInstance(fa);ta=new s();ia={};ja={};ka={};hb.adjustMenuHeights();va();v.register(t.STICKY_HEADER_NAV,hb);sa.forEach(function(kb){kb();});},reset:function(){ba=false;da={};pa=[];na={};oa={};qa=false;ra=[];ca=null;fa=null;ga=null;ha=null;ma=null;ia={};ja={};ka={};ta.release();},addTimePeriod:function(ib){var jb=v.getCurrentScrubber();if(!jb)return;var kb=jb.getLabelForNav(ib);if(!kb)return;fb(ga,{key:ib,label:kb});var lb=n.find(ga,'ul.uiMenuInner');if(ib==='recent'||lb.children.length<2)q.setSelected(ga,ib,true);},updateSection:function(ib,jb){if(jb){var kb=db(ib);q.setSelected(kb,jb);ya(kb);}else ka[ib]=true;la=ib;q.setSelected(ga,ib,true);za(ib);},adjustMenuHeights:function(){var ib='';aa(function(){if(!x.isTiny()){ib=z.getViewportDimensions().y-z.getElementDimensions(i.getBar()).y-ua;ib+='px';}},function(){[fa,ga].map(function(jb){r.set(n.find(jb,'ul.uiMenuInner'),'maxHeight',ib);});});},initPageMenu:function(ib,jb){if(!ba){sa.push(hb.initPageMenu.bind(null,ib,jb));return;}function kb(lb,mb){lb.forEach(function(nb){var ob=oa[nb]=n.create('li');k.hide(ob);mb?n.insertBefore(ma,ob):n.appendContent(n.find(fa,'ul.uiMenuInner'),ob);});}kb(ib,true);kb(jb,false);na.info=n.scry(fa,'li')[0];pa=jb;qa=true;if(ra.length)ra.forEach(function(lb){hb.registerPageMenuItem(lb.key,lb.item);});},registerPageMenuItem:function(ib,jb){if(!qa){ra.push({key:ib,item:jb});return;}if(oa[ib]){n.replace(oa[ib],jb);na[ib]=jb;delete oa[ib];if(pa.indexOf(ib)>=0)k.show(ma);}},removeTimePeriod:function(ib){gb(ga,ib);},hideSectionMenu:function(){ba&&k.hide(ga);}};f.exports=hb;},null);
__d('TimelineScrubber',['CSS','DOM','Event','Focus','Keys','Parent','ProfileTabUtils','TimelineComponentKeys','TimelineController','Vector','cx','getElementText'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t="_3rrn";function u(v){'use strict';this.$TimelineScrubber1=v;this.$TimelineScrubber2={};this.$TimelineScrubber3={};this.$TimelineScrubber4={};this.$TimelineScrubber5={};var w=v.childNodes;this.$TimelineScrubber6=w[0];for(var x=0;x<w.length;x++){var y=w[x].getAttribute('data-key');this.$TimelineScrubber2[y]=w[x];var z=i.scry(w[x],'ul');this.$TimelineScrubber3[y]={};if(z.length){var aa=z[0].childNodes;for(var ba=0;ba<aa.length;ba++)this.$TimelineScrubber3[y][aa[ba].getAttribute('data-key')]=aa[ba];}var ca=w[x].getAttribute('data-rollup');if(ca){this.$TimelineScrubber4[ca]=this.$TimelineScrubber4[ca]||[];this.$TimelineScrubber4[ca].push(w[x]);}}this.$TimelineScrubber7=j.listen(this.$TimelineScrubber1,'click',this.$TimelineScrubber8.bind(this));this.$TimelineScrubber9=j.listen(this.$TimelineScrubber1,'keydown',this.$TimelineScrubber10.bind(this));this.$TimelineScrubber11=i.scry(this.$TimelineScrubber1,'a')[0];h.show(this.$TimelineScrubber1);var da=q.getViewportDimensions().y-this.SCRUBBER_NO_ADS_VERTICAL_BUFFER,ea=this.getHeight();if(ea>da)this.fold(ea-da);p.register(o.SCRUBBER,this);p.scrubberHasLoaded(this);}u.prototype.reset=function(){'use strict';this.$TimelineScrubber7&&this.$TimelineScrubber7.remove();this.$TimelineScrubber9&&this.$TimelineScrubber9.remove();this.$TimelineScrubber1=null;this.$TimelineScrubber2={};this.$TimelineScrubber3={};this.$TimelineScrubber4={};this.$TimelineScrubber5={};};u.prototype.getRoot=function(){'use strict';return this.$TimelineScrubber1;};u.prototype.getNav=function(v){'use strict';return this.$TimelineScrubber2[v];};u.prototype.getSubnav=function(v,w){'use strict';var x=this.$TimelineScrubber3[v];return x&&x[w];};u.prototype.getHeight=function(){'use strict';return this.$TimelineScrubber1.offsetHeight;};u.prototype.getLabelForNav=function(v){'use strict';var w=this.getNav(v);return w&&s(i.scry(w,'a')[0]);};u.prototype.getLabelForSubnav=function(v,w){'use strict';var x=this.getSubnav(v,w);return x&&s(i.scry(x,'a')[0]);};u.prototype.fold=function(v){'use strict';return this.$TimelineScrubber12(v,true);};u.prototype.unfold=function(v){'use strict';return this.$TimelineScrubber12(v,false);};u.prototype.handleTabChange=function(v){'use strict';h.conditionShow(this.$TimelineScrubber1,n.tabHasScrubber(v));};u.prototype.getOffset=function(){'use strict';return this.OFFSET+(h.hasClass(document.body,'hasVoiceBar')?26:0)+(h.hasClass('rightColContent','pagesTimelineRightColumn')?48:0);};u.prototype.updateSection=function(v,w){'use strict';if(!this.$TimelineScrubber2[v])return;var x=this.$TimelineScrubber2[v].getAttribute('data-rollup');if(this.$TimelineScrubber13&&this.$TimelineScrubber13!=x){h.removeClass(this.$TimelineScrubber13,t);h.removeClass(i.scry(this.$TimelineScrubber13,'ul')[0],'loaded');delete this.$TimelineScrubber13;}if(x&&this.$TimelineScrubber5[x]){var y=this.$TimelineScrubber5[x];if(y.getAttribute('data-rollup')){this.$TimelineScrubber13=y;h.addClass(this.$TimelineScrubber13,t);h.addClass(i.scry(this.$TimelineScrubber13,'ul')[0],'loaded');}}this.$TimelineScrubber6&&h.removeClass(this.$TimelineScrubber6,t);this.$TimelineScrubber14&&h.removeClass(this.$TimelineScrubber14,t);this.$TimelineScrubber6=null;this.$TimelineScrubber14=null;if(this.$TimelineScrubber2[v]){this.$TimelineScrubber6=this.$TimelineScrubber2[v];h.addClass(this.$TimelineScrubber6,t);if(this.decadesAreSelectable&&this.$TimelineScrubber2[w]){this.$TimelineScrubber14=this.$TimelineScrubber2[w];h.addClass(this.$TimelineScrubber14,t);}else if(w&&this.$TimelineScrubber3[v][w]){this.$TimelineScrubber14=this.$TimelineScrubber3[v][w];h.addClass(this.$TimelineScrubber14,t);}}};u.prototype.$TimelineScrubber15=function(v){'use strict';var w=this.$TimelineScrubber6,x=w&&w.getAttribute('data-rollup'),y=this.KEY_HEIGHT*(this.$TimelineScrubber4[v].length-1);if(v==x){y+=this.SUBKEY_HEIGHT*i.scry(w,'li').length;y-=this.SUBKEY_HEIGHT*(this.$TimelineScrubber4[v].length-1);}return y;};u.prototype.$TimelineScrubber12=function(v,w){'use strict';var x=v,y=Object.keys(this.$TimelineScrubber4);while(v>0&&y.length){var z=y[w?'pop':'shift']();if(!w==!this.$TimelineScrubber5[z])continue;var aa=this.$TimelineScrubber15(z);if(aa<=0)continue;if(!w&&aa>v)break;var ba;if(w){ba=this.$TimelineScrubber16(z);}else ba=this.$TimelineScrubber17(z);if(ba)v-=aa;}return x-v;};u.prototype.$TimelineScrubber16=function(v){'use strict';var w=this.$TimelineScrubber4[v];if(!w||w.length<2||this.$TimelineScrubber5[v])return false;var x=w[0].previousSibling,y=w[0],z=i.create('a',{href:y.firstChild.href,rel:'ignore',tabindex:'-1'},[v]),aa=i.create('ul',{className:'clearfix'});for(var ba=0;ba<w.length;ba++)aa.appendChild(w[ba]);var ca=i.create('li',null,[z,aa]);if(this.decadesAreSelectable){var da=w[w.length-1],ea=y.getAttribute('data-key')+da.getAttribute('data-key');ca.setAttribute('data-start',da.getAttribute('data-start'));ca.setAttribute('data-end',y.getAttribute('data-end'));ca.setAttribute('data-key',ea);this.$TimelineScrubber2[ea]=ca;}else ca.setAttribute('data-key',y.getAttribute('data-key'));ca.setAttribute('data-rollup',v);if(x){i.insertAfter(x,ca);}else i.prependContent(this.$TimelineScrubber1,ca);this.$TimelineScrubber5[v]=ca;this.$TimelineScrubber18();this.$TimelineScrubber19();return true;};u.prototype.$TimelineScrubber17=function(v){'use strict';if(!this.$TimelineScrubber5[v])return false;var w=this.$TimelineScrubber5[v],x=i.scry(w,'ul')[0],y=document.createDocumentFragment();while(x.childNodes.length)y.appendChild(x.firstChild);i.replace(w,y);this.$TimelineScrubber5[v]=false;this.$TimelineScrubber18();return true;};u.prototype.$TimelineScrubber18=function(){'use strict';if(this.$TimelineScrubber6){var v=this.$TimelineScrubber14&&this.$TimelineScrubber14.getAttribute('data-key');this.updateSection(this.$TimelineScrubber6.getAttribute('data-key'),v);}};u.prototype.$TimelineScrubber8=function(event){'use strict';var v=event.getModifiers();if(event.isMiddleClick()||v.access||v.meta)return true;var w=m.byTag(event.getTarget(),'a'),x=w&&m.byAttribute(w,'data-key');if(x){p.scrubberWasClicked(x.getAttribute('data-key'));p.navigateToSection(x.getAttribute('data-key'));return event.prevent();}};u.prototype.$TimelineScrubber19=function(){'use strict';while(!(this.$TimelineScrubber11.offsetHeight||this.$TimelineScrubber11.offsetWidth)){this.$TimelineScrubber11.tabIndex=-1;var v=m.byTag(m.byTag(this.$TimelineScrubber11,'li'),'li'),w=i.scry(v,'a')[0];if(w===this.$TimelineScrubber11)return;this.$TimelineScrubber11=w;this.$TimelineScrubber11.tabIndex=0;}};u.prototype.$TimelineScrubber10=function(event){'use strict';if(event.getModifiers().any)return;var v=j.getKeyCode(event);if(v===l.UP||v===l.DOWN){var w=i.scry(this.$TimelineScrubber1,'a').filter(function(z){return z.offsetHeight||z.offsetWidth;}),x=w.indexOf(this.$TimelineScrubber11);if(x!=-1){var y=w[x+(v===l.UP?-1:1)];if(y){y.tabindex=0;k.set(y);this.$TimelineScrubber11.tabindex=-1;this.$TimelineScrubber11=y;event.prevent();}}}};Object.assign(u.prototype,{KEY_HEIGHT:23,SUBKEY_HEIGHT:16,OFFSET:38,SCRUBBER_NO_ADS_VERTICAL_BUFFER:125});f.exports=u;},null);
__d('TimelineMainScrubber',['Arbiter','CSS','DOMQuery','TimelineConstants','TimelineController','TimelineScrubber'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;n=m;o=n&&n.prototype;Object.assign(p,n);p.prototype=Object.create(n.prototype);p.prototype.constructor=p;p.__superConstructor__=n;function p(q){'use strict';o.constructor.call(this,q);this.$TimelineMainScrubber1=h.subscribe(k.SECTION_LOADED,(function(r,s){var t=this.getNav(s.key),u=t&&j.scry(t,'ul')[0];if(u){i.addClass(u,'loaded');l.scrubberHasChangedState();if(s.hideSubSections)i.hide(u);}}).bind(this));}p.prototype.reset=function(){'use strict';o.reset.call(this);this.$TimelineMainScrubber1&&this.$TimelineMainScrubber1.unsubscribe();};f.exports=p;},null);
__d('ButtonGroupMonitor',['ContextualDialog','ContextualLayer','CSS','Layer','Parent','SelectorDeprecated','DataStore'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();function o(p,q){var r=l.byClass(p,'bg_stat_elem')||l.byClass(p,'uiButtonGroup');if(!r&&q)r=n.get(q,'toggleElement',null);if(r){q&&n.set(q,'toggleElement',r);j.toggleClass(r,'uiButtonGroupActive');}}k.subscribe(['hide','show'],function(p,q){if(q instanceof i||q instanceof h)o(q.getCausalElement(),q);});m.subscribe(['close','open'],function(p,q){o(q.selector);});},null);