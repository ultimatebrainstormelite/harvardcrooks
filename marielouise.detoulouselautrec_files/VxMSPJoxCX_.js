/*!CK:2287607602!*//*1439789315,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["AxLK8"]); }

__d("TimelineAppSectionConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={collectionTabKeyToAppTabKey:{friends_recent:"friends",friends_all:"friends",friends_mutual:"friends",photos_of:"photos",photos_all:"photos",photos_albums:"photos",likes_recent:null,info_all:"about",music_my_music:"music",music_favs:"music",music_playlists:"music",books_read:"books",books_favorite:"books",books_want:"books",recent_places:null,fitness_overview:"fitness",friends_featured:null,places_want:null,info_contact:null,fitness_running:"fitness",fitness_cycling:"fitness",friends_followers:"friends",friends_following:"friends",music_radio:"music",info_history:null,recent_games:"games",products_want:null,photos_archive:"photos",notes_my_notes:"notes",notes_drafts:"notes",notes_about_me:"notes",video_movies_watch:"movies",video_tv_shows_watch:"tv",music_saved:"music",video_movies_want:"movies",video_tv_shows_want:"tv",video_movies_favorite:"movies",video_tv_shows_favorite:"tv",friends_high_school:"friends",friends_college:"friends",friends_work:"friends",friends_suggested:"friends",apps_like:"games",upcoming_events:"events",past_events:"events",likes_people:"likes",likes_sports:null,fitness_report:null,groups_member:"groups",music_heavy_rotation:"music",photos_album:"photos",photos_untagged:"photos",music_mutual:"music",likes_restaurants:"likes",likes_clothing:null,info_insights:null,apps_used:"games",games_play:"games",games_apps_saved:"games",video_movies_suggestions:null,video_tv_shows_suggestions:null,books_suggestions:null,saved_books:"saved",saved_movies:"saved",saved_tv_shows:"saved",saved_music:"saved",places_saved:"map",saved_links:"saved",sports_teams:"sports",likes_all:"likes",saved_places:"saved",saved_all:"saved",sports_athletes:"sports",sports_activities:null,saved_events:"saved",saved_archived:"saved",places_recent:"map",places_visited:"map",reviews_written:"reviews",likes_section_movies:"likes",likes_section_tv_shows:"likes",likes_section_books:"likes",likes_section_music:"likes",likes_section_sports_teams:"likes",place_visits_by_place_tag:null,places_cities:"map",place_visits_by_city:null,topic_visit_counts:"map",place_visits_by_topic:null,place_visit_stories:null,places_map:"map",likes_section_apps_and_games:"likes",likes_section_sports_athletes:"likes",places_cities_desktop:"map",saved_videos:"saved",saved_pages:"saved",friends_with_upcoming_birthdays:"friends",friends_current_city:"friends",friends_hometown:"friends",at_work_contact:null,place_reviews_written:"reviews",movie_reviews_written:"reviews",tv_show_reviews_written:"reviews",book_reviews_written:"reviews",photos_all_expanded:"photos",videos_by_user:"videos",videos_user_tagged:"videos",external_videos_for_user:"videos",friends_map:"friends",videos_user_all:"videos",saved_posts:"saved",saved_photo_posts:"saved",saved_products:"saved",info_about:null,info_all_relationships:null,info_contact_basic:null,info_edu_work:null,info_overview:null,info_places:null,info_at_work:null,info_year_overviews:null,followers:"friends",following:"friends",media_set:"photos",photos_stream:"photos",photos_synced:"photos",apps:"games",videos_by:"videos",videos_of:"videos"}};},null,{});
__d('SubscriptionLevels',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={ALL:'162318810514679',DEFAULT:'271670892858696',TOP:'266156873403755'};f.exports=h;},null);
__d('EditSubscriptions',['Arbiter','AsyncRequest','CSS','DOM','Event','FeedBlacklistButton','MenuDeprecated','Parent','SubscriptionLevels','arrayContains','cx','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=45,u=[p.ALL,p.DEFAULT,p.TOP],v={},w={},x={},y={},z={},aa={},ba={},ca={},da={},ea={},fa={},ga="/ajax/follow/follow_profile.php",ha="/ajax/follow/unfollow_profile.php",ia="/ajax/settings/notifications/notify_me.php",ja={},ka={},la={},ma=null,na=false,oa={};function pa(nb){return q(u,nb);}function qa(nb,ob,pb,qb){var rb=o.byClass(qb,'uiMenuItem')||o.byClass(qb,"_54ni"),sb=k.getID(nb);if(!rb||!k.contains(nb,rb)){return;}else if(j.hasClass(rb,'SubscribeMenuSubscribeCheckbox')){if(x[ob]){va(sb,ob);}else ua(sb,ob);return false;}else if(j.hasClass(rb,'SubscribeMenuUnsubscribe')){va(sb,ob);return false;}else if(j.hasClass(rb,'SubscribeMenuSettingsItem')){hb(nb,true);return false;}else if(j.hasClass(rb,'SubscriptionMenuGoBack')){hb(nb,false);return false;}else if(j.hasClass(rb,'SubscriptionMenuItem')){sa(nb,ob,pb,rb);return false;}else if(j.hasClass(rb,'SubscribeMenuNotifyMeCheckbox')){ra(nb,ob);return false;}}function ra(nb,ob){if(y[ob]){lb(nb,ob);}else kb(nb,ob);}function sa(nb,ob,pb,qb){if(j.hasClass(qb,'SubscriptionMenuLevel')){if(n.isItemChecked(qb))return;fb(nb,ob,ya(qb),true,pb);}else if(j.hasClass(qb,'SubscriptionMenuCategory')){cb(ob,qb,!n.isItemChecked(qb),true,pb);}else if(j.hasClass(qb,'SubscriptionAppStory'))eb(ob,qb,!n.isItemChecked(qb),pb);}function ta(nb){return oa[nb]?oa[nb]:0;}function ua(nb,ob){var pb={profile_id:ob};h.inform('FollowingUser',pb);h.inform(m.UNBLACKLIST,pb);new i().setURI(ga).setMethod('POST').setData({profile_id:ob,location:ta(nb)}).setErrorHandler(h.inform.bind(null,'FollowUserFail',pb)).send();}function va(nb,ob){var pb={profile_id:ob};h.inform('UnfollowingUser',pb);h.inform(m.BLACKLIST,pb);new i().setURI(ha).setMethod('POST').setData({profile_id:ob,location:ta(nb)}).setErrorHandler(h.inform.bind(null,'UnfollowUserFail',pb)).send();}function wa(nb,ob,pb){var qb={profile_id:nb,level:ca[nb],custom_categories:da[nb],location:pb};new i().setURI('/ajax/follow/manage_subscriptions.php').setData(qb).send();}function xa(nb,ob){var pb=da[ob]||[],qb=n.getItems(nb);qb.forEach(function(rb){if(j.hasClass(rb,'SubscriptionMenuCategory')){var sb=ya(rb);if(q(pb,sb)){ab(rb);}else bb(rb);}else if(j.hasClass(rb,'SubscriptionAppStory')){var tb=ya(rb);if(la[ob]&&la[ob][tb]){ab(rb);}else bb(rb);}});fb(nb,ob,ca[ob],false);}function ya(nb){var ob=k.scry(nb,'input')[0];return ob&&ob.value;}function za(nb){return k.find(nb,'a.itemAnchor');}function ab(nb){j.addClass(nb,'checked');za(nb).setAttribute('aria-checked',true);}function bb(nb){j.removeClass(nb,'checked');za(nb).setAttribute('aria-checked',false);}function cb(nb,ob,pb,qb,rb){if(pb){ab(ob);}else bb(ob);var sb=ya(ob);if(pa(sb)){pb&&db(nb,sb);}else if(pb){if(!q(da[nb],sb))da[nb].push(sb);}else{var tb=da[nb].indexOf(sb);if(tb!==-1)da[nb].splice(tb,1);}if(qb)wa(nb,sb,rb);}function db(nb,ob){ca[nb]=ob;h.inform('SubscriptionLevelUpdated',{profile_id:nb,level:ob});}function eb(nb,ob,pb,qb){var rb='/ajax/feed/filter_action/',sb=ya(ob),tb={actor_id:nb,app_id:sb};if(pb){ab(ob);rb+='resubscribe_user_app/';tb.action='resubscribe_user_app';if(!la[nb])la[nb]={};la[nb][sb]=true;}else{bb(ob);rb+='unsubscribe_user_app_checkbox/';tb.action='unsubscribe_user_app_checkbox';if(la[nb])la[nb][sb]=false;}new i().setURI(rb).setData(tb).send();}function fb(nb,ob,pb,qb,rb){var sb=k.scry(nb,'.SubscriptionMenuLevel'),tb=null;sb.forEach(function(ub){if(ya(ub)==pb){tb=ub;}else if(n.isItemChecked(ub))cb(ob,ub,false,false);});tb&&cb(ob,tb,true,qb,rb);}function gb(nb,ob,pb){x[ob]=pb;j.conditionClass(nb,'isUnsubscribed',!pb);var qb=k.scry(nb,'li.SubscribeMenuSubscribeCheckbox');if(qb.length!==0){var rb=qb[0];if(pb){ab(rb);}else bb(rb);}}function hb(nb,ob){j.conditionClass(nb,'subscriptionMenuOpen',ob);}function ib(nb,ob,pb){var qb=k.find(nb,".FriendListSubscriptionsMenu"),rb=k.find(qb,".uiMenuInner");if(ma!=null)ma.forEach(function(sb){rb.removeChild(sb);});pb.forEach(function(sb){rb.appendChild(sb);});ma=pb;}h.subscribe('UnfollowUser',function(nb,ob){if(ea[ob.profile_id]){db(ob.profile_id,ea[ob.profile_id]);da[ob.profile_id]=fa[ob.profile_id].slice();}});h.subscribe('UpdateSubscriptionLevel',function(nb,ob){var pb=ob.profile_id+'',qb=ob.level+'';db(pb,qb);var rb;for(rb in v)if(v[rb]===pb){var sb=s(rb);sb&&fb(sb,pb,qb,false);}});h.subscribe('listeditor/close_editor',function(){var nb;for(nb in v){var ob=s(nb);ob&&hb(ob,false);}});function jb(nb,ob,pb){y[ob]=pb;var qb=ka[ob];if(qb){if(pb){qb.select();}else qb.deselect();return;}var rb=aa[ob]&&!na,sb=k.scry(nb,'li.SubscribeMenuNotifyMeCheckbox');if(sb.length!==0){var tb=sb[0];j.conditionShow(tb,!rb);var ub=k.scry(nb,'li.SubscribeMenuNotifyMeCheckboxSeparator');if(ub.length>0)j.conditionShow(ub[0],!rb);if(pb){ab(tb);}else bb(tb);}}function kb(nb,ob){var pb={profile_id:ob};h.inform('EnableNotifsForUser',pb);new i().setURI(ia).setMethod('POST').setData({notifier_id:ob,enable:true}).setErrorHandler(h.inform.bind(null,'EnableNotifsForUserFail',pb)).send();}function lb(nb,ob){var pb={profile_id:ob};h.inform('DisableNotifsForUser',pb);new i().setURI(ia).setMethod('POST').setData({notifier_id:ob,enable:false}).setErrorHandler(h.inform.bind(null,'DisableNotifsForUserFail',pb)).send();}var mb={init:function(nb,ob,pb){var qb=k.getID(nb);oa[qb]=pb;if(!v[qb])l.listen(nb,'click',function(rb){return qa(nb,v[qb],pb,rb.getTarget());});if(pb===t&&ja[ob].length)ib(nb,ob,ja[ob]);if(ca[ob])xa(nb,ob);v[qb]=ob;j.conditionClass(nb,'NonFriendSubscriptionMenu',!w[ob]);j.conditionClass(nb,'cannotSubscribe',!z[ob]);j.conditionClass(nb,'noSubscriptionLevels',aa[ob]&&!ba[ob]);j.conditionClass(nb,'noSubscribeCheckbox',!w[ob]&&!aa[ob]);gb(nb,ob,x[ob]);jb(nb,ob,y[ob]);h.subscribe(['FollowUser','FollowingUser','UnfollowUserFail'],(function(rb,sb){if(sb.profile_id==ob)gb(nb,ob,true);}).bind(this));h.subscribe(['UnfollowUser','UnfollowingUser','FollowUserFail'],(function(rb,sb){if(sb.profile_id==ob){h.inform('SubMenu/Reset');gb(nb,ob,false);}}).bind(this));h.subscribe(['EnableNotifsForUser','DisableNotifsForUserFail'],(function(rb,sb){if(sb.profile_id==ob)jb(nb,ob,true);}).bind(this));h.subscribe(['DisableNotifsForUser','EnableNotifsForUserFail'],(function(rb,sb){if(sb.profile_id==ob)jb(nb,ob,false);}).bind(this));h.subscribe('listeditor/friend_lists_changed',(function(rb,sb){if(sb.notify_state){var tb=sb.added_uid?sb.added_uid:sb.removed_uid;jb(nb,tb,sb.notify_state.is_notified);}}).bind(this));},getSubscriptions:function(nb){return {level:ca[nb],custom_categories:da[nb]};},registerTimelineNotifySelector:function(nb,ob){var pb=nb.getInitialMenu(),qb=nb.getContentRoot();pb.forEachItem(function(rb){var sb=rb.getRoot();if(j.hasClass(sb,'SubscribeMenuNotifyMeCheckbox')){ka[ob]=rb;jb(qb,ob,y[ob]);}});pb.subscribe('itemclick',function(rb,sb){if(sb.item===ka[ob])ra(qb,ob);return true;});},setSubscriptions:function(nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb){db(nb,tb+'');w[nb]=ob;x[nb]=pb;z[nb]=qb;aa[nb]=rb;ba[nb]=sb;ea[nb]=vb+'';da[nb]=ub.map(String);fa[nb]=wb.map(String);ja[nb]=zb;y[nb]=xb;na=yb;}};f.exports=b.EditSubscriptions||mb;},null);
__d('legacy:EditSubscriptions',['SubscriptionLevels','EditSubscriptions'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();b.SubscriptionLevels=c('SubscriptionLevels');b.EditSubscriptions=c('EditSubscriptions');},3);
__d('DynamicFriendListEducation',['Event','Arbiter','AsyncRequest','Dialog','PageTransitions','arrayContains','createArrayFromMixed','removeFromArray'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p,q,r,s,t,u;function v(){r&&r.hide();s&&s.hide();}function w(z){o(q,z);v();t({accept_tag_education:true});}function x(){v();t({nux_cancel:true});}var y={init:function(z,aa){p=z;q=n(aa).map(String);l.registerHandler(function(){v();p=false;t=undefined;q=[];});},showDialog:function(z,aa,ba){if(p&&m(q,z)){v();i.inform('DynamicFriendListEducation/dialogOpen',{uid:aa,flid:z});t=ba;r=new k().setAsync(new j('/ajax/friends/lists/smart_list_education.php').setMethod('GET').setData({flid:z,uid:aa}).setReadOnly(true)).setHandler(w.bind(this,z)).setCloseHandler(function(){i.inform('DynamicFriendListEducation/dialogClosed',{uid:aa,flid:z});}).setCancelHandler(function(){i.inform('DynamicFriendListEducation/dialogCancel',{uid:aa,flid:z});}).show();}else ba();},showContextualDialog:function(z,aa,ba,ca){if(p&&m(q,z)){v();u=ba;t=ca;new j('/ajax/friends/lists/smart_list_contextual_education.php').setMethod('GET').setData({flid:z,uid:aa}).setReadOnly(true).send();}else ca();},setContextualDialog:function(z,aa,ba,ca){s=z;s.setContext(u);s.show();h.listen(aa,'click',w.bind(this,ca));h.listen(ba,'click',x);}};f.exports=y;},null);
__d('FriendStatus',['Arbiter','AsyncRequest','SubscribeButton','arrayContains','createArrayFromMixed','forEachObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();function n(r,s,t){this.id=r;this.update(s,t);}Object.assign(n.prototype,{update:function(r,s){r&&(this.status=r);if(s){this.lists=l(s).map(String);this._informListChange();}},isComplete:function(){return !!this.lists;},addToList:function(r){if(this.lists&&!k(this.lists,r))this.lists.push(r);this._informListChange();},removeFromList:function(r){if(this.lists){var s=this.lists.indexOf(r);s!==-1&&this.lists.splice(s,1);}this._informListChange();},updateList:function(r,s){s?this.addToList(r):this.removeFromList(r);},_informListChange:function(){h.inform('FriendListMembershipChange',{uid:this.id,lists:this.lists});}});Object.assign(n,{ARE_FRIENDS:1,INCOMING_REQUEST:2,OUTGOING_REQUEST:3,CAN_REQUEST:4});var o={},p={};function q(r,s,t){if(!o[t.uid]){o[t.uid]=new n(t.uid,r);}else o[t.uid].update(r);h.inform('FriendRequest/change',{uid:t.uid,status:r});}h.subscribe(['FriendRequest/cancel','FriendRequest/unfriend'],function(r,s){s.profile_id=s.uid;s.connected=false;h.inform(j.UNSUBSCRIBED,s);});h.subscribe(['FriendRequest/cancel','FriendRequest/unfriend','FriendRequest/sendFail'],q.bind(null,n.CAN_REQUEST));h.subscribe(['FriendRequest/confirmFail'],q.bind(null,n.INCOMING_REQUEST));h.subscribe(['FriendRequest/cancelFail','FriendRequest/sent','FriendRequest/sending'],q.bind(null,n.OUTGOING_REQUEST));h.subscribe(['FriendRequest/confirm','FriendRequest/confirming'],q.bind(null,n.ARE_FRIENDS));Object.assign(n,{CLOSE_FRIENDS:null,ACQUAINTANCES:null,getFriend:function(r,s){if(o[r]&&o[r].isComplete()){s(o[r]);}else if(p[r]){p[r].push(s);}else{p[r]=[s];new i().setURI("/ajax/friends/status.php").setData({friend:r}).setHandler(function(t){var u=t.getPayload();setTimeout(n.initFriend.bind(n,r,u.status,u.lists),0);}).send();}},initFriend:function(r,s,t){var u=o[r]||new n(r);u.update(u.status||s,u.lists||t);o[r]=u;p[r]&&p[r].forEach(function(v){v(u);});p[r]=null;},setSpecialLists:function(r){var s=n.CLOSE_FRIENDS===null;n.CLOSE_FRIENDS=r.close+'';n.ACQUAINTANCES=r.acq+'';if(s)m(o,function(t,u){t._informListChange();});}});f.exports=n;},null);
__d('FriendEditLists',['Arbiter','AsyncRequest','CSS','DOMQuery','DynamicFriendListEducation','EditSubscriptions','Event','FriendStatus','MenuDeprecated','Parent','ScrollableArea','URI','$','arrayContains','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=5,x={},y='/ajax/profile/removefriendconfirm.php',z='/ajax/friends/requests/cancel.php',aa='/ajax/choose/',ba='/profile.php',ca,da,ea,fa,ga=null,ha={profile_browser:43,fbx_top_bar:1,hovercard:5};function ia(ta,ua,va){var wa=x[ta.id],xa=function(ya){var za={action:va?'add_list':'del_list',to_friend:wa.id,friendlists:[ua],source:ca};if(ya)Object.assign(za,ya);wa.updateList(ua,va);var ab;if(va&&ua==o.CLOSE_FRIENDS){ab=la(ta,o.ACQUAINTANCES);if(p.isItemChecked(ab)){p.toggleItem(ab);ia(ta,o.ACQUAINTANCES,false);}}else if(va&&ua==o.ACQUAINTANCES){ab=la(ta,o.CLOSE_FRIENDS);if(p.isItemChecked(ab)){p.toggleItem(ab);ia(ta,o.CLOSE_FRIENDS,false);}}var bb={flid:ua,uid:wa.id},cb=va?'FriendListHovercard/add':'FriendListHovercard/remove';h.inform(cb,bb);new i().setURI('/ajax/add_friend/action.php').setData(za).send();};if(va){l.showDialog(ua,wa.id,xa);}else xa();}function ja(ta){var ua=k.scry(ta,'input')[0];return ua&&ua.value;}function ka(ta,ua,va){if(j.hasClass(va,'async_saving'))return;var wa={uid:ua.id};new i().setURI(z).setMethod('POST').setData({friend:ua.id,cancel_ref:ea,floc:fa}).setHandler(h.inform.bind(h,'FriendRequest/cancel',wa)).setErrorHandler(h.inform.bind(h,'FriendRequest/cancelFail',wa)).setStatusElement(va).send();}function la(ta,ua){var va=p.getItems(ta);for(var wa=0;wa<va.length;wa++)if(ja(va[wa])==ua)return va[wa];return null;}function ma(ta,ua){var va=p.getItems(ta);va.forEach(function(wa){var xa=ja(wa),ya=u(ua.lists,xa);if(p.isItemChecked(wa)!==ya)p.toggleItem(wa);});}function na(ta){var ua=p.getItems(ta),va=!j.hasClass(ta,'followButtonFlyout')&&!j.hasClass(ta,'likeButtonFlyout'),wa=[],xa=[],ya=0,za=0;ua.forEach(function(eb){if(j.hasClass(eb,'neverHide')){j.removeClass(eb,'underShowMore');ya++;}else if(p.isItemChecked(eb)){wa.push(eb);}else if(j.hasClass(eb,'neverShow')||j.hasClass(eb,'FriendListCreateTrigger')||!va&&j.hasClass(eb,'friendOptionsOnly')){j.addClass(eb,'underShowMore');za++;}else xa.push(eb);});var ab=w-ya,bb=wa.concat(xa),cb=za;bb.forEach(function(eb){if(j.hasClass(eb,'ShowMoreItem')){ab--;return;}if(ab){j.removeClass(eb,'underShowMore');ab--;}else{j.addClass(eb,'underShowMore');cb=true;}});j.conditionClass(ta,'hasMoreFriendListItems',cb);var db=k.scry(ta,'.FriendListMenuShowMore');db.forEach(function(eb){j.removeClass(eb,'FriendListMenuShowMore');});}function oa(ta,ua){j.conditionClass(ta,'FriendListMemorializedUser',ua);}function pa(ta,ua){j.conditionClass(ta,'FriendListCannotSuggestFriends',!ua);}function qa(ta,ua){var va=k.scry(ta,'.FriendListUnfriend')[0],wa=k.scry(ta,'.FriendListCancel')[0],xa=k.scry(ta,'.FriendListSuggestFriends')[0],ya=k.scry(ta,'.FriendListFriendship')[0];if(wa)j.conditionShow(wa,ua.status==o.OUTGOING_REQUEST);if(va){j.conditionShow(va,ua.status==o.ARE_FRIENDS);var za=k.find(va,'a');za.setAttribute('ajaxify',new s(y).addQueryData({uid:ua.id,unref:da,floc:fa}).toString());if(!ga)ga=n.listen(za,'click',function(ab){var bb=q.byClass(ab.getTarget(),'FriendListUnfriend');if(!bb)return;var cb=new s(k.find(bb,'a').getAttribute('ajaxify')).getQueryData();});}else j.conditionClass(ta,'NoFriendListActionSeparator',!wa||ua.status!=o.OUTGOING_REQUEST);if(xa)k.find(xa,'a').setAttribute('href',new s(aa).addQueryData({type:'suggest_friends',newcomer:ua.id,ref:'profile_others_dropdown'}).toString());if(ya){j.conditionShow(ya,ua.status==o.ARE_FRIENDS);k.find(ya,'a').setAttribute('href',new s(ba).addQueryData({and:ua.id}).toString());}}function ra(ta,ua,va){var wa=k.scry(ta,'div.FriendListSubscriptionsMenu');if(wa.length!==0)m.init(ta,ua,va);}h.subscribe('FriendRequest/change',function(ta,ua){for(var va in x){var wa=v(va),xa=x[va];if(wa&&xa&&xa.id==ua.uid){ma(wa,xa);qa(wa,xa);na(wa);}}});p.subscribe('select',function(ta,ua){if(j.hasClass(ua.item,'ShowMoreItem')&&j.hasClass(ua.menu,'FriendListMenu')){j.addClass(ua.menu,'FriendListMenuShowMore');r.poke(ua.item);}});var sa={init:function(ta,ua,va,wa,xa,ya,za,ab){ta=t(ta);ca=va;da=ya;ea=za;fa=ab;var bb=ha[va]||45;if(!x[ta.id])p.subscribe('select',function(cb,db){if(k.contains(ta,db.item))if(q.byClass(db.item,'FriendListItem')){p.toggleItem(db.item);var eb=ja(db.item);ia(ta,eb,p.isItemChecked(db.item));}else if(q.byClass(db.item,'FriendListCancel')){ka(ta,x[ta.id],db.item);}else if(q.byClass(db.item,'FriendListUnfriend'))h.inform('FriendEditLists/unfriend');});j.addClass(ta,'async_saving');o.getFriend(ua,(function(cb){oa(ta,wa);pa(ta,xa);ma(ta,cb);qa(ta,cb);x[ta.id]=cb;na(ta);ra(ta,ua,bb);j.removeClass(ta,'async_saving');}).bind(this));}};f.exports=b.FriendEditLists||sa;},null);
__d('FriendListFlyoutController',['Event','Arbiter','AsyncRequest','Button','ContextualLayer','CSS','DataStore','Dialog','DOM','DOMQuery','FriendEditLists','FriendStatus','Keys','Layer','LayerHideOnEscape','LayerTabIsolation','MenuDeprecated','Parent','ScrollableArea','Style','TabbableElements','UserAgent_DEPRECATED','cx','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){if(c.__markCompiled)c.__markCompiled();var fa,ga,ha,ia=null,ja=null,ka,la,ma,na,oa,pa,qa=1500,ra,sa=false,ta=['uiButtonConfirm','uiButtonSpecial',"_42gz","_42g-","_4jy2","_51tl","_4jy1"],ua={init:function(yb,zb){ua.init=ea;fa=yb;fa.subscribe('mouseenter',db);fa.subscribe('mouseleave',function(){if(!sa)tb();});fa.subscribe('hide',fb);fa.enableBehavior(w);fa.enableBehavior(v);ra=zb;if(ia)p.setContent(fa.getContent(),[ia,ja]);var ac=function(cc){var dc=y.byClass(cc.getTarget(),'enableFriendListFlyout');if(dc){sa=true;if(ka!==dc){ha&&vb();sb(dc);}}else if(sa)vb();},bc=function(cc){var dc=y.byClass(cc.getTarget(),'enableFriendListFlyout');if(dc)if(ka===dc){clearTimeout(na);}else{ha&&vb();sb(dc);}};h.listen(document.documentElement,{click:ac,mouseover:bc,keydown:function(event){var cc=event.getTarget();if(event.getModifiers().any)return;if(!ha||q.isNodeOfType(cc,['input','textarea']))return;var dc=h.getKeyCode(event),ec;switch(dc){case t.UP:case t.DOWN:var fc=cb();ec=ab(fc);ya(fc[ec+(dc===t.UP?-1:1)]);return false;case t.SPACE:var gc=za(cc);if(gc){va(gc);event.prevent();}break;default:var hc=String.fromCharCode(dc).toLowerCase(),ic=cb();ec=ab(ic);var jc=ec,kc=ic.length;while(~ec&&(jc=(++jc)%kc)!==ec||!~ec&&(++jc)<kc){var lc=x.getItemLabel(ic[jc]);if(lc&&lc.charAt(0).toLowerCase()===hc){ya(ic[jc]);return false;}}}}});i.subscribe('FriendEditLists/unfriend',vb);i.subscribe('FriendRequest/cancel',vb);i.subscribe('DynamicFriendListEducation/dialogOpen',function(){pa=true;});i.subscribe('DynamicFriendListEducation/dialogClosed',function(){pa=false;tb();});},initContent:function(yb){p.appendContent(document.body,yb);gb(yb);setTimeout(function(){if(!ia){ia=yb;fa&&p.setContent(fa.getContent(),[ia,ja]);m.show(ia);h.listen(ia,'click',wb);ha&&pb(ka);}else{p.remove(yb);yb=null;}},0);},initNux:function(yb){if(ja)return;ja=yb;fa&&p.setContent(fa.getContent(),[ia,ja]);},show:function(yb){qb(yb);},hide:function(yb){yb===false?vb():tb();},setActiveNode:function(yb){ha&&vb();ka=yb;la=h.listen(yb,'mouseleave',function(){ka=null;la&&la.remove();});},setCloseListener:function(yb,zb){n.set(yb,'flfcloselistener',zb);if(ka!=yb)n.set(yb,'flfcloselistenertimeout',setTimeout(xb.bind(null,yb),qa));},setCloseListenerTimeout:function(yb){qa=yb;}};function va(yb){ca.firefox()&&xa(yb).blur();x.inform('select',{menu:wa(yb),item:yb});}function wa(yb){if(m.hasClass(yb,'uiMenuContainer'))return yb;return y.byClass(yb,'uiMenu');}function xa(yb){return q.find(yb,'a.itemAnchor');}function ya(yb){if(yb&&bb(yb)){x._removeSelected(fa.getContent());m.addClass(yb,'selected');xa(yb).focus();}}function za(yb){return y.byClass(yb,'uiMenuItem');}function ab(yb){if(document.activeElement){var zb=za(document.activeElement);return yb.indexOf(zb);}return -1;}function bb(yb){return !m.hasClass(yb,'disabled')&&aa.get(yb,'display')!=='none'&&aa.get(y.byClass(yb,'uiMenu'),'display')!=='none';}function cb(){return x.getItems(fa.getContent()).filter(bb);}function db(){clearTimeout(na);}function eb(yb){for(var zb=0;zb<ta.length;zb++)if(m.hasClass(yb,ta[zb]))return false;return true;}function fb(){if(ka){if(eb(ka)){m.removeClass(ka,"_52nd");if(m.hasClass(ka,'uiButton')||m.hasClass(ka,"_42fu"))m.removeClass(ka,'selected');}if(n.get(ka,'flfcloselistener')){var yb=ka;n.set(ka,'flfcloselistenertimeout',setTimeout(xb.bind(null,yb),qa));}}ha=false;ob();ka=null;}function gb(yb){var zb=q.scry(yb,'[tabindex="0"]');zb.forEach(function(ac){ac.tabIndex='-1';});zb[0]&&(zb[0].tabIndex='0');}function hb(yb){if(q.isNodeOfType(yb,'label')&&m.hasClass(yb,'uiButton'))yb=k.getInputElement(yb);return yb;}function ib(yb){return n.get(hb(yb),'profileid');}function jb(yb){return n.get(hb(yb),'memorialized')==='true';}function kb(yb){return n.get(hb(yb),'cansuggestfriends')==='true';}function lb(yb){return n.get(hb(yb),'unref');}function mb(yb){return n.get(hb(yb),'cancelref');}function nb(yb){return n.get(hb(yb),'floc');}function ob(){la&&la.remove();la=null;oa&&u.unsubscribe(oa);oa=null;na&&clearTimeout(na);na=null;}function pb(yb){var zb=ib(yb),ac=jb(yb),bc=kb(yb),cc=n.get(yb,'flloc'),dc=lb(yb),ec=mb(yb),fc=nb(yb);r.init(ia,zb,cc,ac,bc,dc,ec,fc);m.conditionClass(ia,'followButtonFlyout',m.hasClass(yb,'profileFollowButton'));m.conditionClass(ia,'friendButtonFlyout',m.hasClass(yb,'FriendRequestFriends')||m.hasClass(yb,'FriendRequestIncoming')||m.hasClass(yb,'FriendRequestOutgoing'));m.conditionClass(ia,'likeButtonFlyout',m.hasClass(yb,'profileLikeButton'));var gc=q.scry(ia,'div.uiScrollableArea')[0];gc&&z.poke(gc);var hc=ba.find(ia)[0];hc&&hc.focus();}function qb(yb){if(!fa||ha)return;fa.setContext(yb);fa.setCausalElement(yb);yb.setAttribute('aria-expanded','true');if(eb(yb)){m.addClass(yb,"_52nd");if(m.hasClass(yb,'uiButton')||m.hasClass(yb,"_42fu"))m.addClass(yb,'selected');}fa.show();ka=yb;ha=true;var zb=null;if(ia){zb='show';pb(yb);}else{zb='init_show';new j().setURI('/ajax/friends/lists/flyout_content.php').setStatusElement(fa.getContent()).send();}ob();la=h.listen(yb,'mouseleave',tb);oa=u.subscribe('show',rb);if(n.get(yb,'flfcloselistener'))clearTimeout(n.remove(yb,'flfcloselistenertimeout'));var ac=ib(yb);s.getFriend(ac,function(bc){if(bc.status==s.ARE_FRIENDS)new j().setURI('/ajax/friends/lists/flyout_log.php').setData({target_id:ib(yb),unref:lb(yb),action:zb}).send();if(!ja)return;if(bc.status==s.OUTGOING_REQUEST){m.show(ja);j.bootstrap('/ajax/friends/lists/nux_flyout.php',null,true);}else m.hide(ja);});if(!ga||yb.id!==ga.id){i.inform('listeditor/close_editor');i.inform('friend-list/close_editor');}ga=yb;}function rb(yb,zb){if(!(zb instanceof l)||!q.contains(ka,zb.getContext()))tb();}function sb(yb){ka=yb;ma=setTimeout(qb.bind(null,yb),ra);la=h.listen(yb,'mouseleave',function(){clearTimeout(ma);ka=null;la&&la.remove();});}function tb(){na=setTimeout(vb,150);}function ub(){var yb=o.getCurrent(),zb=yb&&yb.getBody();return !!(zb&&q.scry(zb,'.friendListDialogTourCarousel')[0]);}function vb(){if(pa||ub())return;sa=false;if(fa){fa.hide();var yb=fa.getCausalElement();yb&&yb.setAttribute('aria-expanded','false');}}function wb(event){var yb=y.byTag(event.getTarget(),'a');if(yb&&m.hasClass(yb,'FriendListActionItem'))tb();}function xb(yb){var zb=n.remove(yb,'flfcloselistener');zb&&zb();}f.exports=b.FriendListFlyoutController||ua;},null);
__d('AddFriendButton',['Event','Animation','Arbiter','AsyncRequest','AsyncResponse','collectDataAttributes','CSS','DOMQuery','FriendListFlyoutController','FriendStatus','ge','goURI','Style','SubscribeButton','URI','XPubcontentChainedSuggestionsController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x={ERROR_ALREADY_ADDED:1431005,init:function(y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma){var na=y.id,oa=null,pa=o.scry(y,'.addButton')[0],qa=o.scry(y,'.addFriendText')[0],ra=o.scry(y,'.outgoingButton')[0],sa=o.scry(y,'.incomingButton')[0],ta=o.scry(y,'.friendButton')[0],ua=o.scry(y.parentNode,'.suggestFriendsButton')[0];function va(cb,db,eb){var fb=new v(pa.getAttribute('ajaxify')),gb=m(y,['ft','gt']);new k().setURI(da).setData({to_friend:z,action:cb,how_found:ba,ref_param:ca,link_data:gb,outgoing_id:ra.id,xids:fb.getQueryData().xids,logging_location:ea,no_flyout_on_click:fa,ego_log_data:ga,http_referer:ia,floc:ka,frefs:la}).setErrorHandler(db).setServerDialogCancelHandler(eb).setRelativeTo(ra).send();if(ja&&cb==='add_friend'){var hb=w.getURIBuilder().setInt('friendid',z).getURI();new k().setURI(hb).send();}j.inform(u.SUBSCRIBED,{profile_id:z.toString(),connected:true,chaining:false});}function wa(cb,db){if(qa){n.hide(qa);}else if(pa){if(ma)n.hide(ma);n.hide(pa);}ra&&n.hide(ra);sa&&n.hide(sa);ta&&n.hide(ta);if(cb){n.show(cb);if(ma&&'Requestable'===db)n.show(ma);}if('Outgoing'==db&&oa!=db&&ha)new i(cb).from('backgroundColor','#FFF8CC').to('backgroundColor','transparent').from('borderColor','#FFE222').to('borderColor',t.get(cb,'borderLeftColor')).duration(2000).go();if('Requestable'==db&&oa!=db)ua&&n.hide(ua);oa&&n.removeClass(y,'fStatus'+oa);oa=db;n.addClass(y,'fStatus'+db);}function xa(cb){if(n.hasClass(cb,'enableFriendListFlyout')){p.show(cb);}else p.hide();}var ya=j.subscribe('FriendRequest/change',function(cb,db){bb();if(db.uid!=z)return;switch(db.status){case q.ARE_FRIENDS:return wa(ta,'Friends');case q.INCOMING_REQUEST:return wa(sa,'Incoming');case q.OUTGOING_REQUEST:return wa(ra,'Outgoing');case q.CAN_REQUEST:return wa(qa?qa:pa,'Requestable');}}),za=j.subscribe('FriendRequest/unfriend',function(cb,db){bb();if(db.uid===z&&db.shouldHideButton===true)n.hide(pa);}),ab;if(aa)ab=j.subscribe('FriendRequest/confirm',function(cb,db){bb();db.uid==z&&s(aa);});pa&&h.listen(pa,'click',function(){j.inform('FriendRequest/sending',{uid:z});if(fa){p.setActiveNode(ra);}else xa(ra);va("add_friend",function(cb){var db=cb.error==x.ERROR_ALREADY_ADDED?'FriendRequest/sent':'FriendRequest/sendFail';j.inform(db,{uid:z});p.hide();l.defaultErrorHandler(cb);},function(cb){j.inform('FriendRequest/sendFail',{uid:z});p.hide();});});function bb(){if(r(na))return;ya&&ya.unsubscribe();ab&&ab.unsubscribe();za&&za.unsubscribe();ya=null;ab=null;za=null;}}};f.exports=x;},null);
__d('FriendButtonIcon',['Arbiter','FriendStatus','Button','arrayContains'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();f.exports={register:function(l,m,n){h.subscribe('FriendListMembershipChange',function(o,p){if(p.uid==n){var q=k(p.lists,i.CLOSE_FRIENDS),r=k(p.lists,i.ACQUAINTANCES);if(q&&!r){j.setIcon(l,m.close);}else if(r&&!q){j.setIcon(l,m.acquaintance);}else j.setIcon(l,m.friend);}});}};},null);
__d("DoublyLinkedListMap",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){"use strict";this._head=null;this._tail=null;this._nodes={};this._nodeCount=0;}h.prototype.get=function(i){"use strict";return this._nodes[i]?this._nodes[i].data:null;};h.prototype.getIndex=function(i){"use strict";for(var j=this._head,k=0;j;j=j.next,k++)if(j.key===i)return k;return null;};h.prototype._insert=function(i,j,k,l){"use strict";k&&!this._nodes[k]&&(k=null);var m=k&&this._nodes[k]||(l?this._head:this._tail),n={data:j,key:i,next:null,prev:null};if(m){this.remove(i);if(l){n.prev=m.prev;m.prev&&(m.prev.next=n);m.prev=n;n.next=m;}else{n.next=m.next;m.next&&(m.next.prev=n);m.next=n;n.prev=m;}}n.prev===null&&(this._head=n);n.next===null&&(this._tail=n);this._nodes[i]=n;this._nodeCount++;return this;};h.prototype.insertBefore=function(i,j,k){"use strict";return this._insert(i,j,k,true);};h.prototype.insertAfter=function(i,j,k){"use strict";return this._insert(i,j,k,false);};h.prototype.prepend=function(i,j){"use strict";return this.insertBefore(i,j,this._head&&this._head.key);};h.prototype.append=function(i,j){"use strict";return this.insertAfter(i,j,this._tail&&this._tail.key);};h.prototype.remove=function(i){"use strict";var j=this._nodes[i];if(j){var k=j.next,l=j.prev;k&&(k.prev=l);l&&(l.next=k);this._head===j&&(this._head=k);this._tail===j&&(this._tail=l);delete this._nodes[i];this._nodeCount--;}return this;};h.prototype.find=function(i){"use strict";for(var j=this._head;j;j=j.next)if(i(j.data))return j.key;return null;};h.prototype.reduce=function(i,j){"use strict";for(var k=this._head;k;k=k.next)j=i(k.data,j);return j;};h.prototype.exists=function(i){"use strict";return !!this._nodes[i];};h.prototype.isEmpty=function(){"use strict";return !this._head;};h.prototype.reset=function(){"use strict";this._head=null;this._tail=null;this._nodes={};this._nodeCount=0;};h.prototype.map=function(i){"use strict";for(var j=this._head;j;j=j.next)i(j.data);};h.prototype.getCount=function(){"use strict";return this._nodeCount;};h.prototype.getHead=function(){"use strict";return this._head&&this._head.data;};h.prototype.getTail=function(){"use strict";return this._tail&&this._tail.data;};h.prototype.getNext=function(i){"use strict";var j=this._nodes[i];if(j&&j.next)return j.next.data;return null;};h.prototype.getPrev=function(i){"use strict";var j=this._nodes[i];if(j&&j.prev)return j.prev.data;return null;};f.exports=h;},null);
__d('Optimus',['Event','Parent'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';var j={};function k(m,n){var o=n.getTarget();if(!o)return;var p=j[m];for(var q in p){var r=i.byAttribute(o,q);if(r)do{var s=p[q][r.getAttribute(q)];if(s&&s.handleOptimus(m,r,n)===false)break;}while(r=i.byAttribute(r.parentNode,q));}}function l(m,n,o,p){if(!j[m]){j[m]={};h.listen(document.documentElement,m,k.bind(null,m));}if(!j[m][n])j[m][n]={};if(!j[m][n][o])j[m][n][o]=p;}f.exports={addRelClick:function(m,n){l('click','rel',m,n);},addEventListener:l};},null);
__d('ProfileActionBarLogger',['FBJSON','MarauderLogger','Optimus'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(){j.addEventListener('mouseup','data-loggable','ProfileHighQualityLogger',{handleOptimus:function(l,m,n){i.log('profile_high_quality_action',null,h.parse(m.getAttribute('data-store')));return false;}});}g.init=k;},null);
__d('ProfileOverviewSection',['Arbiter','DOMScroll','DoublyLinkedListMap','Run','TidyArbiterMixin','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=null;function o(){n=null;}function p(q,r,s){'use strict';this.id=q;this.label=s;this.nodeID=r;this._parentSection=null;this.childSections=new j();this._isLoaded=false;setTimeout((function(){return p.inform('sectionInitialized/'+q,{section:this},h.BEHAVIOR_STATE);}).bind(this),0);}p.prototype.appendSection=function(q){'use strict';this.childSections.append(q.id,q);q._parentSection=this;};p.prototype.freeze=function(){'use strict';this.freezeChildren();};p.prototype.freezeChildren=function(){'use strict';var q=this.childSections.getHead();while(q){!q.isActive()&&q.freeze();q=q.getNext();}};p.prototype.getNext=function(){'use strict';return this._parentSection&&this._parentSection.childSections.getNext(this.id);};p.prototype.getPrev=function(){'use strict';return this._parentSection&&this._parentSection.childSections.getPrev(this.id);};p.prototype.isActive=function(){'use strict';var q=this;while(q){if(q.id===n)return true;q=q._parentSection;}return false;};p.prototype.isLoaded=function(){'use strict';return this._isLoaded;};p.prototype.setIsLoaded=function(q){'use strict';this._isLoaded=q;return this;};p.prototype.scrollTo=function(){'use strict';if(!m(this.nodeID))return;i.scrollTo(this.getNode(),true,false,false,0,i.scrollTo.bind(this).bind(null,this.getNode(),0));};p.prototype.thaw=function(){'use strict';this.thawChildren();};p.prototype.thawChildren=function(){'use strict';var q=this.childSections.getHead();while(q){q.thaw();q=q.getNext();}};p.prototype.getNode=function(){'use strict';throw new Error('This function needs to be implemented in children.');};p.callWithSection=function(q,r){'use strict';this.subscribe('sectionInitialized/'+q,function(s,t){r(t.section);});};p.setActiveSectionID=function(q){'use strict';!n&&k.onLeave(o);n=q;};Object.assign(p,l);f.exports=p;},null);
__d('ProfileEscapeHatch',['CSS','ProfileTabUtils','Run','TimelineComponentKeys','TimelineController'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=[],n=false;function o(p){'use strict';this.$ProfileEscapeHatch1=p;m.push(this);if(!n){l.register(k.ESCAPE_HATCH,o);j.onLeave(function(){m=[];});n=true;}}o.handleTabChange=function(p){'use strict';m.forEach(function(q){h.conditionShow(q.$ProfileEscapeHatch1,i.isTimelineTab(p));});};f.exports=o;},null);
__d('TimelineURI',['BizSiteIdentifier.brands','BusinessURI.brands','ProfileTabConst','TimelineAppSectionConstants','URI','goURI'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={parseURI:function(o){o=new l(o);var p=o.getQueryData(),q=o.getPath(),r=q.split('/').slice(1);if(r[0]=='people'||r[0]=='pages')r=r.slice(2);var s=p.sk||r[1]||j.TIMELINE;if(s==j.WALL)s=j.TIMELINE;var t=null,u=null;if(s==j.TIMELINE){u=parseInt(r[2],10)||null;t=parseInt(r[3],10)||null;}return {path:q,id:p.id||r[0],key:s,viewas:p.viewas?p.viewas:0,filter:p.filter?p.filter:null,year:u,month:t,friendship:!!p.and};},goToProfileID:function(o){if(h.isBizSite()){m(i('/profile.php').addQueryData('id',o),true);}else m(new l('/'+o),true);},getTabKeyFromURI:function(o){var p=n.getSectionKeyFromURI(o);return k.collectionTabKeyToAppTabKey[p]||p;},getSectionKeyFromURI:function(o){return o.getQueryData().sk||o.getPath().split('/')[2];},getVanityFromURI:function(o){if(o.getQueryData().id)return o.getQueryData.id;return o.getPath().split('/')[1];},isVideoPermalink:function(o){return (n.getTabKeyFromURI(o)===j.VIDEOS&&o.getPath().split('/').filter(function(p){return !!p;}).length>2);}};f.exports=n;},null);
__d('ProfileNavigation',['Arbiter','CSS','PageTransitions','ProfileDOMID','ProfileOverviewDOMID','ProfileTabConst','ProfileTabUtils','ScriptPath','TimelineComponentKeys','TimelineController','TimelineDOMID','TimelineURI','UIPagelet','URI','$','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=Object.assign||function(na){for(var oa=1;oa<arguments.length;oa++){var pa=arguments[oa];for(var qa in pa)if(Object.prototype.hasOwnProperty.call(pa,qa))na[qa]=pa[qa];}return na;},y=6,z='/profile_book.php',aa=null,ba=null;function ca(na){var oa=u.getMostRecentURI(),pa=s.getSectionKeyFromURI(oa),qa=s.getTabKeyFromURI(oa),ra=s.getSectionKeyFromURI(na),sa=s.getTabKeyFromURI(na),ta=na.getQueryData();if(ja(oa,na)||ka(sa)||ka(qa)||!!ta.and||s.isVideoPermalink(na))return false;if(ta.hasOwnProperty('theater')){h.subscribeOnce('PhotoSnowlift.CLOSE',la);return false;}if(n.isTimelineTab(qa)&&!n.isTimelineTab(sa)&&ia(ra)){aa=ra;da(ra,'TimelineMedleyView',r.TAB_CONTENT,l.MEDLEY_ROOT,ta);return true;}if(!n.isTimelineTab(qa)&&n.isTimelineTab(sa)){aa=pa;da(m.TIMELINE,'TimelineWallColumn',l.MEDLEY_ROOT,r.TAB_CONTENT,ta);return true;}return false;}function da(na,oa,pa,qa,ra){q.registerCurrentKey(na);i.hide(v(pa));h.inform('save_facebar_query',true);var sa=w(qa);if(sa){i.show(sa);ha(na);}else ea(oa,na,ra);}function ea(na,oa,pa){fa();var qa=x({},ba,{tab_key:oa});if(pa)qa=x({},qa,pa);var ra=function(ta){ga();ta();},sa={append:true,displayCallback:ra,finallyHandler:ha.bind(null,oa),usePipe:true};t.loadFromEndpoint(na,k.MAIN_COLUMN_PERSONAL,qa,sa);}function fa(){i.show(v(k.TAB_LOAD_INDICATOR));}function ga(){i.hide(v(k.TAB_LOAD_INDICATOR));}function ha(na){var oa=z;if(!n.isTimelineTab(na))oa+=':'+na;o.set(oa);j.transitionComplete();}function ia(na){return aa===null||na===aa;}function ja(na,oa){var pa=s.getVanityFromURI(na),qa=na.getQueryData().id,ra=s.getVanityFromURI(oa),sa=oa.getQueryData().id;if(pa&&ra)return pa!==ra;if(qa&&sa)return qa!==sa;return true;}function ka(na){return (n.isActivityLogTab(na)||na===m.MEMORIAL_CONTACT||na===m.POSTS);}function la(){j.registerHandler(ca,y);}var ma={init:function(na){ba=na.profileContextData;q.register(p.ASYNC_NAV,this);la();},reset:function(){ba=null;aa=null;j.removeHandler(ca);}};f.exports=ma;},null);
__d('TimelineNavLight',['CSS','DOM','DOMQuery','Parent','ProfileOverviewDOMID','TimelineAppSectionConstants','TimelineComponentKeys','TimelineController','ProfileOverviewSection','csx','cx','destroyOnUnload','queryThenMutateDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u="_6-7",v="_529n",w="_5215",x="_70k",y="._6-7",z="._6-6";function aa(ba){'use strict';this.$TimelineNavLight1=ba;this.$TimelineNavLight2=j.scry(ba,y)[0];this.$TimelineNavLight3=j.scry(ba,z);this.$TimelineNavLight4();p.subscribe('Medley/transitionToSection',(function(ca,da){this.$TimelineNavLight5(da.slice(l.PREFIX_MEDLEY.length));}).bind(this));o.register(n.COVER_NAV,this);s((function(){this.$TimelineNavLight1=null;this.$TimelineNavLight2=null;this.$TimelineNavLight3=null;}).bind(this));}aa.prototype.handleTabChange=function(ba){'use strict';this.$TimelineNavLight5(ba);};aa.prototype.$TimelineNavLight5=function(ba){'use strict';this.$TimelineNavLight2&&h.removeClass(this.$TimelineNavLight2,u);this.$TimelineNavLight3.some((function(ca){var da=m.collectionTabKeyToAppTabKey[ba]||ba;if(ca.getAttribute('data-tab-key')===da){h.addClass(ca,u);this.$TimelineNavLight2=ca;return true;}}).bind(this));};aa.prototype.$TimelineNavLight4=function(){'use strict';var ba=this.$TimelineNavLight3.length-1,ca=this.$TimelineNavLight3[ba],da,ea,fa,ga=0;t((function(){da=k.byClass(this.$TimelineNavLight1,x).offsetWidth;ea=ca.offsetLeft;fa=ca.offsetWidth;for(var ha=ba;ha>1;ha--){var ia=this.$TimelineNavLight3[ha];if(ia.offsetLeft+ia.offsetWidth>da){ga++;}else break;}}).bind(this),(function(){if(ea+fa>da)h.addClass(this.$TimelineNavLight1,w);for(var ha=ba;ha>ba-ga;ha--)i.remove(this.$TimelineNavLight3[ha]);h.removeClass(k.byClass(this.$TimelineNavLight1,v),v);}).bind(this));};f.exports=aa;},null);
__d('VideoCallButton.react',['FBRTCCallabilityStore','FBRTCCore','Image.react','React','StoreAndPropBasedStateMixin','Tooltip','XUIButton.react','cx','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();'use strict';var q=Object.assign||function(t){for(var u=1;u<arguments.length;u++){var v=arguments[u];for(var w in v)if(Object.prototype.hasOwnProperty.call(v,w))t[w]=v[w];}return t;},r=k.PropTypes,s=k.createClass({displayName:'VideoCallButton',mixins:[l(h)],statics:{calculateState:function(t){return {isCallable:h.isCallable(t.calleeID)};}},propTypes:{calleeID:r.string.isRequired,calleeName:r.string.isRequired},render:function(){var t=h.callButtonTooltip(this.props.calleeID,this.props.calleeName);return (k.createElement(n,q({className:"_4vuc",disabled:!this.state.isCallable,image:k.createElement(j,{src:p('video')}),onClick:this._handleStartCall,size:'large'},m.propsFor(t))));},_handleStartCall:function(t){t.preventDefault();i.startOutgoingCall(this.props.calleeID,'timeline_profile',false);}});f.exports=s;},null);