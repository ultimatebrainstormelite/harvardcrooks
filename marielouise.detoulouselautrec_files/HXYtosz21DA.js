/*!CK:678837000!*//*1439790638,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["wlWU8"]); }

__d("BillingAgreementType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BILLING_AGREEMENT_TYPE_YEARLY:89,BILLING_AGREEMENT_TYPE_MONTHLY:77,BILLING_AGREEMENT_TYPE_WEEKLY:87,BILLING_AGREEMENT_TYPE_DAILY:68};},null,{});
__d("BOFCancellationReason",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CUSTOMER_REQUESTED:1,OUT_OF_STOCK:2,INVALID_ADDRESS:3,SUSPICIOUS_ORDER:4,INCORRECT_PRODUCT_DESCRIPTION:5,CANCEL_REASON_OTHER:6,NO_LONGER_WANT:7,ACCIDENTAL_PURCHASE:8,ORDERED_WRONG_ITEM:9,ORDERED_WRONG_QTY:10,NEED_TO_CHANGE_OR_UPDATE_SHIPPING_INFO:11,NEED_TO_CHANGE_OR_UPDATE_BILLING_INFO:12,FOUND_A_CHEAPER_PRICE:13,CUSTOMER_CANCEL_REASON_OTHER:14,INTERNAL_REASON_OTHER:101,CANCEL_COMPROMISED:102,CANCEL_SFI_FAKE:103,CANCEL_SFI_REAL:104,ASYNC_PAYMENT_FAILED:105,ASYNC_PAYMENT_FAILED_UNKNOWN:106};},null,{});
__d("BOFCommunicationCode",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMUNICATION_CODE_DELIVERY_ISSUE:1,COMMUNICATION_CODE_ORDER_ISSUE:2,COMMUNICATION_CODE_CHANGE_ORDER:3,COMMUNICATION_CODE_RETURN_REFUND:4,COMMUNICATION_CODE_EXCHANGE:5,COMMUNICATION_CODE_OTHER:0};},null,{});
__d("BOFOrderState",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOF_ORDER_STATE_RISK_QUEUED:82,BOF_ORDER_STATE_NOT_FULFILLED:78,BOF_ORDER_STATE_FULFILLED:70,BOF_ORDER_STATE_CANCELED:67,BOF_ORDER_STATE_CUSTOMER_CANCELED:85,BOF_ORDER_STATE_RISK_QUEUED_PROCESSING:81,BOF_ORDER_STATE_NOT_FULFILLED_PROCESSING:87,BOF_ORDER_STATE_FULFILLED_PROCESSING:68,BOF_ORDER_STATE_CANCELED_PROCESSING:88,BOF_ORDER_STATE_CUSTOMER_CANCELED_PROCESSING:69,BOF_ORDER_STATE_AUTH_PENDING_PROCESSING:65,BOF_ORDER_STATE_AUTH_PENDING:80};},null,{});
__d("BundleState",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BUNDLE_STATE_UNKNOWN:85,BUNDLE_STATE_AUTH_PENDING:71,BUNDLE_STATE_AUTH_COMPLETED:68,BUNDLE_STATE_AUTH_FAILED:88,BUNDLE_STATE_DISCARDED:83,BUNDLE_STATE_CAPTURE_READY:82,BUNDLE_STATE_CAPTURE_PENDING:80,BUNDLE_STATE_CAPTURE_COMPLETED:67,BUNDLE_STATE_CAPTURE_FAILED:70};},null,{});
__d("CommerceOrderStates",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NOT_FULFILLED:78,FULFILLED:70,CANCELED:67,UNKNOWN:0};},null,{});
__d("CurrencyUsage",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={RENDER:1,PAYMENT_TYPE_CREDIT_CARD:2,PAYMENT_TYPE_PAYPAL:4,PAYMENT_TYPE_MOBILE:8,PAYMENT_TYPE_DIRECT_DEBIT:16,ANY:31,ALL:72057594037927940,ADS:22,ALL_BUT_DD:72057594037927920};},null,{});
__d("FlowActionConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHANGE_SUBSCRIPTION:"changesubscription",CREATE_SUBSCRIPTION:"createsubscription",MODIFY_SUBSCRIPTION:"modifysubscription",CANCEL_SUBSCRIPTION:"cancelsubscription",REACTIVATE_SUBSCRIPTION:"reactivatesubscription",SETTLE_SUBSCRIPTION:"settlesubscription",PURCHASE_ITEM:"purchaseitem",BUY_CREDITS:"buycredits",EARN_CURRENCY:"earncurrency",EARN_CREDITS:"earncredits",ADS_BILLING:"ads",WATCH_VIDEO:"watchvideo",REDEEM_GIFTCARD:"redeemgiftcard",BOOSTS:"boosts",REDEEM:"redeem",PAYWITHFACEBOOK_PERMISSION:"pwfpermission",FORM_FILL_AD:"formfillad",BRAZIL_TAX_ID:"braziltaxid",DONATION_PAYMENTS:"donation",GIFT_PAYMENTS:"giftpayments",NEKO_PAYMENTS:"nekopayments",AIR_MAIL:"airmail",COMMERCE_PAYMENTS:"commercepayments",PAYER_PROMOTION:"payerpromotion"};},null,{});
__d("GiftStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={STARTED:"started",WAITING_TO_FINISH:"waiting_to_finish",FINALIZED:"finalized",PROCESSING:"processing",SHIPPED:"shipped",DELIVERED:"delivered",CANCELED:"canceled"};},null,{});
__d("MessengerPaymentProductType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={P2P:"p2p",MESSENGER_COMMERCE:"messenger_commerce"};},null,{});
__d("P2PChannelType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_CARD_CHANGED:"P2P\/CreditCardChanged",CREDIT_CARD_DELETED:"P2P\/CreditCardDeleted",TRANSFER_STATUS_CHANGED:"P2P\/TransferStatusChanged"};},null,{});
__d("P2PPasswordProtectionStatusTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NOT_SET:0,DISABLED:1,ENABLED:2};},null,{});
__d("P2PPaymentMethodCategory",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_CARD:"credit_card",DEBIT_CARD:"debit_card",PREPAID_CARD:"prepaid_card"};},null,{});
__d("PaymentActionStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PAYMENT_ACTION_STATUS_INITED:73,PAYMENT_ACTION_STATUS_PENDING:80,PAYMENT_ACTION_STATUS_PROCESSING:82,PAYMENT_ACTION_STATUS_WAIT_FOR_REVIEW_PENDING:68,PAYMENT_ACTION_STATUS_WAIT_FOR_REVIEW:77,PAYMENT_ACTION_STATUS_REVIEW_SUCCESS_PENDING:66,PAYMENT_ACTION_STATUS_REVIEW_CANCEL_PENDING:88,PAYMENT_ACTION_STATUS_COMPLETED:67,PAYMENT_ACTION_STATUS_FAILED:70,PAYMENT_ACTION_STATUS_AUTH_PENDING:69,PAYMENT_ACTION_STATUS_AUTH_COMPLETED:65,PAYMENT_ACTION_STATUS_REVERSE_AUTH_PENDING:86,PAYMENT_ACTION_STATUS_CAPTURE_PENDING:84};},null,{});
__d("PaymentDisputeReason",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PDR_NOT_SETTLED:78,PDR_SETTLED_LEGACY_DISPUTE:76,PDR_SETTLED_AUTO_RESOLVED_BY_FB:65,PDR_SETTLED_REFUND:82,PDR_SETTLED_NO_ACTION:85,PDR_SETTLED_IN_GAME:71,PDR_SETTLED_BANNED_USER:66};},null,{});
__d("PaymentDisputeStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PAYMENT_DISPUTE_STATUS_PENDING:80,PAYMENT_DISPUTE_STATUS_RESOLVED:82};},null,{});
__d("PaymentEnv",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PROD:"prod",DEV:"dev",DEV_EXTERNAL:"dev_external",TEST:"test"};},null,{});
__d("PaymentInstrumentType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PI_TYPE_UNKNOWN:0,PI_TYPE_WALLET:1,PI_TYPE_FX:2,PI_TYPE_TAX:3,PI_TYPE_FEE:4,PI_TYPE_DISCOUNT:5,PI_TYPE_GIFTCARD_BALANCE:6,PI_TYPE_CREDITS_BALANCE:7,PI_TYPE_USER_STORED_BALANCE:8,PI_TYPE_CC:100,PI_TYPE_PAYPAL_TOKEN:101,PI_TYPE_DIRECT_DEBIT:102,PI_TYPE_PAYPAL_BA:103,PI_TYPE_DUMMY:104,PI_TYPE_MOBILE:200,PI_TYPE_GIFTCARD:201,PI_TYPE_ALTPAY:202,PI_TYPE_ALTPAY_REDEMPTION:203,PI_TYPE_ASYNC_DUMMY:204,PI_TYPE_ASYNC_HOLD:205,PI_TYPE_ADS_TOKEN:301,PI_TYPE_ADS_XCREDIT:302,PI_TYPE_ADS_XCREDIT_REPAYMENT:303,PI_TYPE_ADS_STORED_BALANCE:304,PI_TYPE_ALT_PAY_REPAYMENT:402,PI_TYPE_PROMOTION:501,PI_TYPE_ATLAS_INVOICE:601,PI_TYPE_CASH_OUT:701};},null,{});
__d("PaymentMethodTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNKNOWN:"unknown",CREDIT_CARD:"credit_card",PAYPAL:"paypal"};},null,{});
__d("PaymentSettingsDateRangeType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={THIS_MONTH:"this_month",LAST_MONTH:"last_month",THIS_YEAR:"this_year",LAST_YEAR:"last_year"};},null,{});
__d("PaymentSettingsEventCategory",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GENERAL:"general",NOTIF:"notif",HISTORY:"history",RECEIPT:"receipt",PAYMENT_METHOD:"payment_method",SHIPPING_ADDRESS:"shipping_address",ACCOUNT_SETTINGS:"account_settings"};},null,{});
__d("PaymentSettingsNotificationType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={P2P:"p2p",EXPIRED_CC:"expired_cc",DPO:"dpo"};},null,{});
__d("PaymentSettingsPaymentStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CANCELLED:"cancelled",PENDING:"pending",COMPLETED:"completed",SHIPPED:"shipped",UNKNOWN:"unknown",RECEIVED:"received",SENT:"sent"};},null,{});
__d("PaymentSettingsPaymentType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GAME:"game",GAME_BUNDLE:"game_bundle",GIFT:"gift",BALANCE_REDEMPTION:"balance_redemption",BOF:"bof",P2P:"p2p"};},null,{});
__d("PaymentSettingsTabID",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HISTORY:"history",SETTINGS:"settings",ADS:"ads"};},null,{});
__d("PaymentSettingsUserAction",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={IMPRESSION:"impression",CLICK_PAYMENT_ROW:"click_payment_row",SELECT_DATE:"select_date",SELECT_STATUS:"select_status",TYPE_SEARCH:"type_search",P2P_ACCEPT_MONEY:"p2p_accept_money",P2P_CONFIRM_INFO:"p2p_confirm_info",ADD_NEW_PAYMENT_METHOD:"add_new_payment_method",ADD_NEW_PAYMENT_METHOD_SUCCESS:"add_new_payment_method_success",ADD_NEW_PAYMENT_METHOD_FAILURE:"add_new_payment_method_failure",UPDATE_PAYMENT_METHOD:"update_payment_method",UPDATE_PAYMENT_METHOD_SUCCESS:"update_payment_method_success",UPDATE_PAYMENT_METHOD_FAILURE:"update_payment_method_failure",REMOVE_PAYMENT_METHOD:"remove_payment_method",REMOVE_PAYMENT_METHOD_SUCCESS:"remove_payment_method_success",REMOVE_PAYMENT_METHOD_FAILURE:"remove_payment_method_failure",ADD_NEW_SHIPPING_ADDRESS:"add_new_shipping_address",UPDATE_SHIPPING_ADDRESS:"update_shipping_address",REMOVE_SHIPPING_ADDRESS:"remove_shipping_address",UPDATE_EXPIRED_CARD:"update_expired_card",UPDATE_EXPIRED_CARD_SUCCESS:"update_expired_card_success",UPDATE_EXPIRED_CARD_FAILURE:"update_expired_card_failure",UPDATE_CURRENCY:"update_currency",UPDATE_CURRENCY_SUCCESS:"update_currency_success",UPDATE_CURRENCY_FAILURE:"update_currency_failure"};},null,{});
__d("XCommerceOrderParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EMAIL:"email",JSON_RESPONSE:"jr",MSG_TO_SELLER:"msg_to_seller",ORDER:"order",ORDER_ID:"order_id",REASON:"reason",OVERALL_SCORE:"overall_score"};},null,{});
__d("XPaymentSettingsShippingAddressMutationType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREATE:"create",UPDATE:"update"};},null,{});
__d('CommerceErrorNotice.react',['React','XUINotice.react','XUIText.react'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=Object.assign||function(o){for(var p=1;p<arguments.length;p++){var q=arguments[p];for(var r in q)if(Object.prototype.hasOwnProperty.call(q,r))o[r]=q[r];}return o;};function l(o,p){var q={};for(var r in o){if(p.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(o,r))continue;q[r]=o[r];}return q;}var m=h.PropTypes,n=h.createClass({displayName:'CommerceErrorNotice',propTypes:{error:m.oneOfType([m.string,m.object])},getDefaultProps:function(){return {error:null};},render:function(){var o=this.props.error;if(!o)return h.createElement('span',null);var p=null;if(o.__html){p=h.createElement(j,{size:'small',display:'block',dangerouslySetInnerHTML:o});}else p=h.createElement(j,{size:'small',display:'block'},o);var q=this.props,r=q.className,s=q.use,t=l(q,['className','use']);return (h.createElement(i,k({use:s||'warn',className:r},t),p));}});f.exports=n;},null);
__d('CommerceMailingAddress.react',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.PropTypes,j=h.createClass({displayName:'CommerceMailingAddress',propTypes:{name:i.string,careOf:i.string,street1:i.string.isRequired,street2:i.string,street3:i.string,city:i.string.isRequired,region:i.string.isRequired,postalCode:i.string.isRequired,country:i.string,phoneNumber:i.string},render:function(){return (h.createElement('div',null,h.createElement('div',null,this.props.name),h.createElement('div',null,this.props.careOf),h.createElement('div',null,this.props.street1),h.createElement('div',null,this.props.street2),h.createElement('div',null,this.props.street3),h.createElement('div',null,this.props.city+', '+this.props.region+' ',this.props.postalCode),h.createElement('div',null,this.props.country),h.createElement('div',null,this.props.phoneNumber)));}});f.exports=j;},null);
__d('CommerceMerchantImageBlock.react',['BackgroundImage.react','ImageBlock.react','InlineBlock.react','Link.react','React','XUIGrayText.react','XUIText.react','cx','fbt','joinClasses','ads-lib-formatters'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=Object.assign||function(w){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var z in y)if(Object.prototype.hasOwnProperty.call(y,z))w[z]=y[z];}return w;},s=c('ads-lib-formatters').createIntlNumberFormatter(0),t=l.PropTypes,u=' \u00b7 ',v=l.createClass({displayName:'CommerceMerchantImageBlock',propTypes:{categoryNames:t.array.isRequired,fanCount:t.number.isRequired,name:t.string.isRequired,profilePicURI:t.string.isRequired,profileURI:t.string.isRequired,size:t.number.isRequired},render:function(){var w=this.props.size;return (l.createElement(i,r({},this.props,{spacing:'large',className:q(this.props.className,"_48_c")}),l.createElement(h,{src:this.props.profilePicURI,width:w,height:w,backgroundSize:'cover',optimizeResizeSpeed:true,loadingIndicatorStyle:'small',className:"_48_d"}),l.createElement(j,{alignv:'middle',height:w},l.createElement(m,{size:'small',shade:'light',weight:'bold',display:'block',className:"_3-94"},p._("Sold by")),l.createElement(k,{href:this.props.profileURI},l.createElement(n,{size:'medium',weight:'bold'},this.props.name)),l.createElement(m,{shade:'light',size:'small',display:'block'},this.props.categoryNames.join(u),u,p._({"*":"{number of likes} Likes"},[p.param('number of likes',s(this.props.fanCount),[0,this.props.fanCount])])))));}});f.exports=v;},null);
__d("XCommerceCustomerOrderCancelController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/commerce\/orders\/{order_id}\/_cancel_order\/",{order_id:{type:"Int",required:true}});},null,{});
__d('CommerceSettingsOrderCancelDialog.react',['AsyncRequest','BOFCancellationReason','CommerceErrorNotice.react','CommerceMerchantImageBlock.react','LayerFadeOnHide','LayerHideOnEscape','React','ReactLayeredComponentMixin','SimpleXUIDialog','XCommerceCustomerOrderCancelController','XCommerceErrorParam','XCommerceOrderParam','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIGrayText.react','XUISelector.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){if(c.__markCompiled)c.__markCompiled();var da=aa.Option,ea=n.PropTypes,fa={LayerFadeOnHide:l,LayerHideOnEscape:m},ga=(function(){var ia={};ia[i.NO_LONGER_WANT]=ca._("I no longer want the item(s)");ia[i.ACCIDENTAL_PURCHASE]=ca._("I made the purchase accidentally");ia[i.ORDERED_WRONG_ITEM]=ca._("I purchased the wrong item(s)");ia[i.ORDERED_WRONG_QTY]=ca._("I purchased the wrong quantity");ia[i.NEED_TO_CHANGE_OR_UPDATE_SHIPPING_INFO]=ca._("I need to change the shipping address");ia[i.NEED_TO_CHANGE_OR_UPDATE_BILLING_INFO]=ca._("I need to change the payment info");ia[i.FOUND_A_CHEAPER_PRICE]=ca._("I found a cheaper price elsewhere");ia[i.CUSTOMER_CANCEL_REASON_OTHER]=ca._("Something else");return ia;})(),ha=n.createClass({displayName:'CommerceSettingsOrderCancelDialog',mixins:[o],propTypes:{order:ea.object.isRequired},getInitialState:function(){return {errors:null,reason:i.NO_LONGER_WANT.toString(),shown:false};},render:function(){return (n.createElement(t,{href:'#',label:ca._("Cancel Order"),className:"_3yyv",onClick:this._showDialog}));},renderLayers:function(){var ia=this.props.order;return {dialog:n.createElement(u,{shown:this.state.shown,behaviors:fa,onToggle:this._onToggle,width:400},n.createElement(y,null,ca._("Cancel Order")),n.createElement(v,{className:"_2y6f"},n.createElement(j,{className:"_3-95",error:this.state.errors}),n.createElement(k,{categoryNames:ia.page.categoryNames,fanCount:ia.page.fanCount,name:ia.page.name,profilePicURI:ia.page.profilePicURI,profileURI:ia.page.profileURI,size:35}),n.createElement(z,{shade:'medium',size:'medium',weight:'bold',className:"_2pid",display:'block'},ca._("Need to Cancel Your Order?")),n.createElement(z,{className:"_2pid",display:'block',shade:'medium',size:'small'},ca._("You can cancel your order within 30 minutes and your card will not be charged.")),n.createElement(z,{className:"_2pid",display:'block',shade:'medium',size:'small'},ca._("Your order #: {order number}",[ca.param('order number',ia.id)])),n.createElement('hr',{className:"_2y6g _3-8n"}),n.createElement(z,{shade:'medium',size:'small',weight:'bold',className:"_3-94",display:'block'},ca._("Why are you cancelling your order?")),n.createElement(aa,{className:"_3-8w",value:this.state.reason,onChange:this._onChangeReason},this._renderReasonOptions())),n.createElement(x,null,n.createElement(w,{action:'cancel',size:'large',label:ca._("Close")}),n.createElement(w,{use:'confirm',action:'confirm',size:'large',label:ca._("Cancel Order"),onClick:this._onSubmit})))};},_renderReasonOptions:function(){var ia=[];for(var ja in ga)ia.push(n.createElement(da,{value:ja},ga[ja]));return ia;},_showDialog:function(ia){this.setState({shown:true});},_onToggle:function(ia){this.setState({shown:ia});if(ia===false)this.setState({errors:null});},_onChangeReason:function(ia){this.setState({reason:ia.value.toString(),errors:null});},_onContactSellerShow:function(){this.setState({shown:false});},_onSubmit:function(ia){var ja=q.getURIBuilder().setInt(s.ORDER_ID,this.props.order.id).getURI(),ka={};ka[s.REASON]=this.state.reason;new h().setURI(ja).setData(ka).setHandler((function(la){var ma=la.payload[r.ERRORS];if(ma){var na=ma[r.GENERAL_ERROR];this.setState({errors:na&&na[r.ERROR_MSG]});}else{this.setState({shown:false});p.show(ca._("Your order ({order number}) from {seller name} is canceled and your card has not been charged. We'll email you a confirmation for your records.",[ca.param('order number','#'+this.props.order.id),ca.param('seller name',this.props.order.page.name)]),ca._("Order Canceled"),function(){window.location.reload();});}}).bind(this)).send();}});f.exports=ha;},null);
__d("XCommerceCustomerOrderContactSellerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/commerce\/orders\/{order_id}\/_contact_seller\/",{order_id:{type:"Int",required:true}});},null,{});
__d('CommerceSettingsOrderContactSellerDialog.react',['AbstractTextArea.react','AsyncRequest','BOFCommunicationCode','CommerceErrorNotice.react','CommerceMerchantImageBlock.react','LayerFadeOnHide','LayerHideOnEscape','React','ReactLayeredComponentMixin','SimpleXUIDialog','XCommerceCustomerOrderContactSellerController','XCommerceErrorParam','XCommerceOrderParam','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIGrayText.react','XUISelector.react','XUITextInput.react','Image.react','ImageBlock.react','InlineBlock.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){if(c.__markCompiled)c.__markCompiled();var ia=ba.Option,ja=o.PropTypes,ka={LayerFadeOnHide:m,LayerHideOnEscape:n},la=(function(){var na={};na[j.COMMUNICATION_CODE_DELIVERY_ISSUE]=ha._("I want to know where my order is");na[j.COMMUNICATION_CODE_ORDER_ISSUE]=ha._("I have an issue with my order");na[j.COMMUNICATION_CODE_CHANGE_ORDER]=ha._("I need to make a change to my order");na[j.COMMUNICATION_CODE_RETURN_REFUND]=ha._("I want to request a return");na[j.COMMUNICATION_CODE_EXCHANGE]=ha._("I want to request an exchange");na[j.COMMUNICATION_CODE_OTHER]=ha._("Something else");return na;})(),ma=o.createClass({displayName:'CommerceSettingsOrderContactSellerDialog',mixins:[p],propTypes:{order:ja.object.isRequired,onShow:ja.func,reason:ja.number,disabled:ja.bool,label:ja.string.isRequired},getDefaultProps:function(){return {disabled:false};},getInitialState:function(){return {email:this.props.order.email,errors:null,msgToSeller:null,reason:this.props.reason?this.props.reason.toString():j.COMMUNICATION_CODE_DELIVERY_ISSUE.toString(),shown:false};},render:function(){return (o.createElement(u,{href:'#',label:this.props.label,className:"_3yyv",disabled:this.props.disabled,onClick:this.props.disabled?null:this._showDialog}));},renderLayers:function(){var na=this.props.order,oa=ha._("Ask your question or explain your issue here. Provide as many details as possible."),pa=na.page.profileURI?o.createElement(l,{categoryNames:na.page.categoryNames,fanCount:na.page.fanCount,name:na.page.name,profilePicURI:na.page.profilePicURI,profileURI:na.page.profileURI,size:56}):o.createElement(ea,{spacing:'large'},o.createElement(da,{src:na.page.profilePicURI,height:50,width:50}),o.createElement(fa,{alignv:'middle',height:50},o.createElement(aa,{size:'small',shade:'light',weight:'bold',display:'block'},ha._("Sold by")),na.page.name));return {dialog:o.createElement(v,{shown:this.state.shown,behaviors:ka,onToggle:this._onToggle,width:400},o.createElement(z,null,ha._("Contact Seller")),o.createElement(w,{className:"_2y6f"},o.createElement(k,{className:"_3-95",error:this.state.errors}),pa,o.createElement(aa,{shade:'medium',size:'small',display:'block',className:"_3-8z _3-95"},ha._("You can ask about an item for sale, a return, or anything else. Just enter a few details below and {merchant name} will email you back.",[ha.param('merchant name',na.page.name)])),o.createElement('hr',{className:"_2y6g _3-8q"}),o.createElement(aa,{shade:'medium',size:'small',weight:'bold',className:"_3-94",display:'block'},ha._("What's your question?")),o.createElement(ba,{value:this.state.reason,onChange:this._onChangeReason},o.createElement(ia,{value:''}),this._renderReasonOptions()),o.createElement(aa,{shade:'medium',size:'small',weight:'bold',className:"_3-94 _3-8z",display:'block'},ha._("What's your email address?")),o.createElement(ca,{className:"_53sm",value:this.state.email,onChange:this._onChangeEmail}),o.createElement(aa,{shade:'medium',size:'small',weight:'bold',className:"_3-94 _3-8z",display:'block'},ha._("Tell {merchant name} what's going on:",[ha.param('merchant name',na.page.name)])),o.createElement('div',{className:"_3-8x"},o.createElement(h,{placeholder:oa,className:"_2y6i",onChange:this._onChangeMsgToSeller}))),o.createElement(y,null,o.createElement(x,{action:'cancel',size:'large',label:ha._("Cancel")}),o.createElement(x,{use:'confirm',action:'confirm',size:'large',label:ha._("Send"),onClick:this._onSubmit})))};},_renderReasonOptions:function(){var na=[];for(var oa in la)na.push(o.createElement(ia,{value:oa},la[oa]));return na;},_showDialog:function(na){this.setState({shown:true});this.props.onShow&&this.props.onShow();},_onToggle:function(na){this.setState({shown:na});if(na===false)this.setState({errors:null});},_onChangeReason:function(na){var oa=null;if(!na.value)oa=ha._("Please select a reason to contact seller");this.setState({reason:na.value.toString(),errors:oa});},_onChangeEmail:function(na){var oa=null;if(!na.target.value)oa=ha._("Please enter an email address");this.setState({email:na.target.value.toString(),errors:oa});},_onChangeMsgToSeller:function(na){var oa=null;if(!na.target.value)oa=ha._("Please enter a reason for contacting the seller");this.setState({msgToSeller:na.target.value.toString(),errors:oa});},_onSubmit:function(na){if(!this.state.errors&&(!this.state.email||!this.state.msgToSeller||!this.state.reason)){this.setState({errors:ha._("Please enter all information for contacting the seller")});return;}if(this.state.errors)return;var oa=r.getURIBuilder().setInt(t.ORDER_ID,this.props.order.id).getURI(),pa={};pa[t.EMAIL]=this.state.email;pa[t.MSG_TO_SELLER]=this.state.msgToSeller;pa[t.REASON]=this.state.reason;new i().setURI(oa).setData(pa).setHandler((function(qa){var ra=qa.payload[s.ERRORS];if(ra){var sa=ra[s.GENERAL_ERROR];this.setState({errors:sa&&sa[s.ERROR_MSG]});}else{this.setState({shown:false});q.show(ha._("Thanks. You should receive a response from {seller name} within 2 business days.",[ha.param('seller name',this.props.order.page.name)]),ha._("Contact Seller"));}}).bind(this)).send();}});f.exports=ma;},null);
__d('XUIDataTableBody.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'XUIDataTableBody',propTypes:{columns:k.array.isRequired,rows:k.array.isRequired,selectedRow:k.object,onRowMouseEnter:k.func,onRowMouseLeave:k.func,onRowClick:k.func},_renderRow:function(m,n){var o=this.props.columns.map(function(t){return m[t.id];}),p=this.props.onRowMouseEnter?this.props.onRowMouseEnter.bind(null,m):null,q=this.props.onRowMouseLeave?this.props.onRowMouseLeave.bind(null,m):null,r=this.props.onRowClick?this.props.onRowClick.bind(null,m):null,s=o.map((function(t,u){return (this._renderCell(t,u,m));}).bind(this));return (h.createElement('tr',{className:j(m.className||null,this.props.selectedRow===m?"_4jpt":''),key:m.key||'row'+n,onMouseEnter:p,onMouseLeave:q,onClick:r},s));},_renderCell:function(m,n,o){var p=this.props.columns[n],q;if(p.cellRenderer){q=p.cellRenderer(m,n,o);}else q=m;var r=!!p.isNumeric?"_54_7":'';return (h.createElement('td',{className:r,key:'cell'+n},q));},render:function(){return (h.createElement('tbody',null,this.props.rows.map(this._renderRow)));}});f.exports=l;},null);
__d('XUIDataTableHead.react',['React','cx','joinClasses','AccessibleTableParts.react'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('AccessibleTableParts.react').HeadRow,l=h.PropTypes,m=h.createClass({displayName:'XUIDataTableHead',propTypes:{columns:l.array.isRequired,columnToSortBy:l.string,onSortSelection:l.func.isRequired,reverseSort:l.bool},_onCellClick:function(n){this.props.onSortSelection(n.id);},_renderHeaderCell:function(n){var o=n.sortable,p=n.id===this.props.columnToSortBy,q=j((!!o?"_54_8":'')+(p?' '+"_54_9":'')+(!!n.isNumeric?' '+"_54_7":'')+(p&&this.props.reverseSort?' '+"_5y6x":''),n.className),r=null;if(!isNaN(parseFloat(n.width))){var s=typeof n.width==='number'?'px':'';r={width:n.width+s};}var t;if(n.headerRenderer){t=n.headerRenderer(n.label);}else t=n.label||null;return (h.createElement('th',{key:n.id,style:r,onClick:o?this._onCellClick.bind(this,n):null,className:q},t));},render:function(){return (h.createElement('thead',null,h.createElement(k,null,this.props.columns.map(this._renderHeaderCell))));}});f.exports=m;},null);
__d('XUIDataTable.react',['React','XUIDataTableBody.react','XUIDataTableHead.react','XUITable.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=h.PropTypes,o=h.createClass({displayName:'XUIDataTable',propTypes:{onSortAttempt:n.func.isRequired,reverseSort:n.bool.isRequired,columnToSortBy:n.string,columns:n.array.isRequired,rows:n.array.isRequired,selectedRow:n.object,outerBorder:n.bool,showHeader:n.bool,viewStart:n.number,viewLength:n.number,onRowMouseEnter:n.func,onRowMouseLeave:n.func,onRowClick:n.func},getDefaultProps:function(){return {showHeader:true,viewStart:0,viewLength:null};},render:function(){var p=null;if(this.props.showHeader)p=h.createElement(j,{columns:this.props.columns,columnToSortBy:this.props.columnToSortBy,onSortSelection:this.props.onSortAttempt,reverseSort:this.props.reverseSort});var q="_54_6";return (h.createElement(k,{outerBorder:this.props.outerBorder,className:m(this.props.className,q)},p,h.createElement(i,{columns:this.props.columns,rows:this.props.rows,selectedRow:this.props.selectedRow,onRowMouseEnter:this.props.onRowMouseEnter,onRowMouseLeave:this.props.onRowMouseLeave,onRowClick:this.props.onRowClick})));}});f.exports=o;},null);
__d('ObjectSort',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={getStringSortFunction:function(j){return function(k,l){var m=k[j],n=l[j];!(typeof m=='string'&&typeof n=='string')?h(0):undefined;return m.toLowerCase().localeCompare(n.toLowerCase());};},getNumericSortFunction:function(j){return function(k,l){return (k[j]||0)-(l[j]||0);};},getReverseNumericSortFunction:function(j){return function(k,l){return -((k[j]||0)-(l[j]||0));};}};f.exports=i;},null);
__d('XUISortableDataTable.react',['ObjectSort','React','XUIDataTable.react','arrayStableSort','emptyFunction','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u))r[u]=t[u];}return r;},o=i.PropTypes;function p(r,s,t){if(s===0&&(t===null||t>=r.length))return r;return r.slice(s,t===null?undefined:s+t);}var q=i.createClass({displayName:'XUISortableDataTable',propTypes:{outerBorder:o.bool,columns:o.array.isRequired,columnToSortBy:o.string,onSort:o.func,reverseSort:o.bool,rows:o.array.isRequired,stickyRows:o.array,showHeader:o.bool,highlightClickedRow:o.bool,viewStart:o.number,viewLength:o.number,onRowMouseEnter:o.func,onRowMouseLeave:o.func,onRowClick:o.func},getDefaultProps:function(){return {onSort:l,showHeader:true,highlightClickedRow:false,reverseSort:false,viewStart:0,viewLength:null,stickyRows:[]};},getInitialState:function(){return {columnToSortBy:this.props.columnToSortBy,selectedRow:null,reverseSort:this.props.reverseSort};},_getSortColumn:function(r){var s=this.props.columns;for(var t=0;t<s.length;t++)if(s[t].id===r)return s[t];},_getFallbackComparator:function(r,s){switch(typeof r){case 'string':return h.getStringSortFunction(s);case 'number':return h.getReverseNumericSortFunction(s);default:throw new Error('No sort comparator available for column '+s+'.'+'Columns not displaying strings or numbers should have custom '+'comparator functions.');}},_getComparator:function(r,s,t){var u=this._getSortColumn(s).comparator;if(u===undefined)u=r.length?this._getFallbackComparator(r[0][s],s):l;if(t)return function(v,w){return -u(v,w);};return u;},_onSortSelection:function(r){var s=r===this.state.columnToSortBy&&!this.state.reverseSort;this.setState({columnToSortBy:r,reverseSort:s});this.props.onSort(r);},_onRowClick:function(r,s){if(this.props.highlightClickedRow)this.setState({selectedRow:r});this.props.onRowClick&&this.props.onRowClick(r,s);},_getSortedRows:function(){var r;if(this.state.columnToSortBy){var s=this._getSortColumn(this.state.columnToSortBy);r=k(this.props.rows,this._getComparator(this.props.rows,this.state.columnToSortBy,this.state.reverseSort));}else r=this.props.rows;r=p(r,this.props.viewStart,this.props.viewLength);return this.props.stickyRows.concat(r);},render:function(){return (i.createElement(j,n({},this.props,{selectedRow:this.state.selectedRow,columnToSortBy:this.state.columnToSortBy,reverseSort:this.state.reverseSort,onSortAttempt:this._onSortSelection,onRowClick:this._onRowClick,rows:this._getSortedRows()})));}});f.exports=q;},null);
__d('MessengerDialogButton.react',['MessengerButton.react','ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=Object.assign||function(q){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)if(Object.prototype.hasOwnProperty.call(s,t))q[t]=s[t];}return q;};function n(q,r){var s={};for(var t in q){if(r.indexOf(t)>=0)continue;if(!Object.prototype.hasOwnProperty.call(q,t))continue;s[t]=q[t];}return s;}var o=j.PropTypes,p=j.createClass({displayName:'MessengerDialogButton',mixins:[i],propTypes:{action:o.oneOf(['button','cancel','confirm'])},render:function(){var q=this.props,r=q.action,s=q.className,t=n(q,['action','className']);return (j.createElement(h,m({className:l(s,"_5ixy"+(r==='button'?' '+"layerButton":'')+(r==='cancel'?' '+"layerCancel":'')+(r==='confirm'?' '+"layerConfirm":''))},t)));}});f.exports=p;},null);
__d('MessengerText.react',['ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=Object.assign||function(o){for(var p=1;p<arguments.length;p++){var q=arguments[p];for(var r in q)if(Object.prototype.hasOwnProperty.call(q,r))o[r]=q[r];}return o;},m=i.PropTypes,n=i.createClass({displayName:'MessengerText',mixins:[h],propTypes:{type:m.oneOf(['primary','secondary']).isRequired,size:m.oneOf(['small'])},render:function(){return (i.createElement('div',l({},this.props,{className:k("_39r5"+(this.props.type==='primary'?' '+"_39r6":'')+(this.props.type==='secondary'?' '+"_39r7":'')+(this.props.size==='small'?' '+"_39r8":''),this.props.className)}),this.props.children));}});f.exports=n;},null);
__d('MNCommerceAgenItemSuggestionReactShape',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i=h.PropTypes,j=i.shape({desc:i.string,display_total_cost:i.string,id:i.string.isRequired,merchant_name:i.string.isRequired,name:i.string.isRequired,payment_id:i.string,raw_amount:i.string,target_url:i.string,thumb_url:i.string,total_cost:i.shape({amount:i.number,currency:i.string})});f.exports=j;},null);
__d('P2PNUXRendererUtils',['MercuryConstants','CurrentUser','ImmutableObject','MercuryAttachmentType','P2PTransferParam','P2PTransferStatus','StoryAttachmentStyle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();'use strict';var o=h.MercurySupportedShareType,p={getTransferFromMessage:function(q){var r,s;if(!q||!q.attachments||!q.attachments.length)return;s=q.attachments[0];if(this.isShareAttachment(s)){r=s.share.target;}else if(s.share_data_type===o.FB_ORION)r=s.metadata;if(r)r=new j(r);return r;},isShareAttachment:function(q){return !!(typeof q!=='string'&&q.attach_type==k.SHARE&&q.share&&q.share.style_list&&q.share.style_list.indexOf(n.ORION)>=0);},doesNUXNeedCreditCards:function(q){var r=i.getID()===q.sender.id;return (!r&&q[l.STATUS]===m.PENDING_RECIPIENT_NUX);},isRecipientActionableStatus:function(q){var r=q[l.STATUS],s=i.getID()===q.sender.id;return (!s&&(r===m.PENDING_RECIPIENT_NUX||r===m.PENDING_RECIPIENT_VERIFICATION||r===m.PENDING_PUSH_FAIL));}};f.exports=p;},null);
__d('P2PButton.react',['CurrentEnvironment','MessengerDialogButton.react','React','XUIButton.react'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=Object.assign||function(n){for(var o=1;o<arguments.length;o++){var p=arguments[o];for(var q in p)if(Object.prototype.hasOwnProperty.call(p,q))n[q]=p[q];}return n;},m=j.createClass({displayName:'P2PButton',render:function(){var n=h.messengerdotcom,o=n?i:k,p=this.props.type;if(!p)p=this.props.use==='confirm'?'primary':'secondary';var q=n?'default':this.props.use,r=l({},this.props,{type:p,use:q});return (j.createElement(o,r,this.props.children));}});f.exports=m;},null);
__d('P2PDialog.react',['CurrentEnvironment','LayerFadeOnHide','MessengerDialog.react','React','XUIDialog.react','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();'use strict';var n=Object.assign||function(q){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)if(Object.prototype.hasOwnProperty.call(s,t))q[t]=s[t];}return q;},o=k.PropTypes,p=k.createClass({displayName:'P2PDialog',propTypes:{onToggle:o.func,shown:o.bool,width:o.number},getDefaultProps:function(){return {onToggle:m,repositionOnUpdate:false,shown:true,width:400};},componentDidUpdate:function(){if(this.props.repositionOnUpdate)setTimeout((function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}).bind(this),0);},render:function(){var q=h.messengerdotcom,r=q?j:l;return (k.createElement(r,n({behaviors:{LayerFadeOnHide:i}},this.props,{ref:'dialog'}),this.props.children));}});f.exports=p;},null);
__d('P2PDialogBody.react',['CurrentEnvironment','MessengerDialogBody.react','React','XUIDialogBody.react'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=j.createClass({displayName:'P2PDialogBody',render:function(){var m=h.messengerdotcom,n=m?i:k;return (j.createElement(n,this.props,this.props.children));}});f.exports=l;},null);
__d('P2PDialogFooter.react',['CurrentEnvironment','MessengerDialogFooter.react','React','XUIDialogFooter.react','cloneWithProps','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();'use strict';var n=j.createClass({displayName:'P2PDialogFooter',render:function(){var o=h.messengerdotcom,p=o?i:k,q,r=this.props.children;if(o){q=j.Children.count(this.props.children);r=j.Children.map(this.props.children,function(s,t){if(!s)return null;return l(s,{className:"_4ec0",type:t===0&&q===2?'secondary':'primary'});});}return (j.createElement(p,this.props,r));}});f.exports=n;},null);
__d('P2PDialogTitle.react',['CurrentEnvironment','MessengerDialogHeader.react','React','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=j.createClass({displayName:'P2PDialogTitle',render:function(){var m=h.messengerdotcom,n=m?i:k;return (j.createElement(n,this.props,this.props.children));}});f.exports=l;},null);
__d('P2PLoadingMask.react',['React','XUISpinner.react','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();'use strict';var k=h.PropTypes,l=h.createClass({displayName:'P2PLoadingMask',propTypes:{visible:k.bool},getDefaultProps:function(){return {visible:false};},render:function(){if(!this.props.visible)return null;return (h.createElement('div',{className:"_3de"},h.createElement(i,{background:'dark',size:'large',className:"_3df"}),h.createElement('div',{className:"_3dg"})));}});f.exports=l;},null);
__d('P2PText.react',['CurrentEnvironment','MessengerText.react','React','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=Object.assign||function(o){for(var p=1;p<arguments.length;p++){var q=arguments[p];for(var r in q)if(Object.prototype.hasOwnProperty.call(q,r))o[r]=q[r];}return o;},m=j.PropTypes,n=j.createClass({displayName:'P2PText',propTypes:{type:m.oneOf(['primary','secondary']).isRequired},render:function(){var o=h.messengerdotcom,p=o?i:k,q=this.props.type,r=this.props;if(!o){r=l({},this.props,{display:this.props.display||'block',shade:q==='primary'?'dark':'light',size:this.props.size||'small'});}else{r=l({},this.props,{size:'small'});delete r.size;}return (j.createElement(p,r,this.props.children));}});f.exports=n;},null);
__d('P2PCreditCard',['CreditCardFormParam','CreditCardTypeEnum','PaymentMethodUtils','P2PPaymentMethodCategory','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();'use strict';var n={visa:{image:m('/images/payments/icons/visa.png'),imageLarge:m('/images/payments/icons/visa-lg.png'),name:'Visa'},mc:{image:m('/images/payments/icons/mc.png'),imageLarge:m('/images/payments/icons/mc-lg.png'),name:'MasterCard'},disc:{image:m('/images/payments/icons/disc.png'),imageLarge:m('/images/payments/icons/disc-lg.png'),name:'Discover'},jcb:{image:m('/images/payments/icons/jcb.png'),imageLarge:m('/images/payments/icons/jcb-lg.png'),name:'JCB'},amex:{image:m('/images/payments/icons/amex.png'),imageLarge:m('/images/payments/icons/amex-lg.png'),name:'American Express'},unknown:{image:m('/images/brands/credit_card/credit_32.png'),imageLarge:m('/images/brands/credit_card/credit_32.png'),name:l._("Unknown Card Type")}};function o(p){this.setCredentialId(p[h.CREDENTIAL_ID]);this.setCardType(p[h.CARD_TYPE]);this.setCreditCardNumber(p[h.CARD_NUMBER]);this.setSelected(p.selected);this.setZipCode(p[h.ZIP]);this.setCSC(p[h.CSC]);this.setExp(p[h.CARD_EXPIRATION]);this.setIsPreset(p.isPreset);this.setIsVerified(p.isVerified);this.setIsMobileVerified(p.isMobileVerified);this.setIsPersonalTransferEligible(p.isPersonalTransferEligible);this.setCategory(p.category);}o.prototype.getCreditCardNumber=function(){return this[h.CARD_NUMBER];};o.prototype.setCreditCardNumber=function(p){p=p.replace(/ /g,'');this.setCardProviderProps(this[h.CARD_TYPE],p);p=p.substr(p.length-4);this[h.CARD_NUMBER]=p;};o.prototype.setCardProviderProps=function(p,q){var r=this.$P2PCreditCard1(p,q);if(n[r]){this.setImage(n[r].image);this.setImageLarge(n[r].imageLarge);this.setName(n[r].name);}};o.prototype.getExp=function(){return this[h.CARD_EXPIRATION];};o.prototype.getExpFormatted=function(){var p=this[h.CARD_EXPIRATION];return p?p[h.MONTH]+'/'+p[h.YEAR]:'';};o.prototype.getExpFormattedShort=function(){var p=this[h.CARD_EXPIRATION],q='';if(p&&p[h.MONTH]&&p[h.YEAR]){q=p[h.MONTH]+'/';if(p[h.YEAR].length===4){q+=p[h.YEAR].substr(2);}else q+=p[h.YEAR];}return q;};o.prototype.setExp=function(p){if(!p)return;var q,r,s={};s[h.MONTH]=p[h.MONTH];s[h.YEAR]=p[h.YEAR];if(s[h.MONTH]&&s[h.MONTH].length===1)s[h.MONTH]='0'+s[h.MONTH];if(s[h.YEAR]&&s[h.YEAR].length===2){q=new Date().getFullYear()+'';r=q.substr(0,2);s[h.YEAR]=r+s[h.YEAR];}this[h.CARD_EXPIRATION]=s;};o.prototype.getCSC=function(){return this[h.CSC];};o.prototype.setCSC=function(p){this[h.CSC]=p;};o.prototype.getZipCode=function(){return this[h.ZIP];};o.prototype.setZipCode=function(p){this[h.ZIP]=p;};o.prototype.getSelected=function(){return this.$P2PCreditCard2;};o.prototype.setSelected=function(p){this.$P2PCreditCard2=p;};o.prototype.getCardType=function(){return this[h.CARD_TYPE];};o.prototype.setCardType=function(p){this[h.CARD_TYPE]=p;this.setCardProviderProps(p,this[h.CARD_NUMBER]);};o.prototype.getCredentialId=function(){return this[h.CREDENTIAL_ID];};o.prototype.setCredentialId=function(p){this[h.CREDENTIAL_ID]=p;};o.prototype.$P2PCreditCard1=function(p,q){var r='default',s,t;if(p){s=Object.keys(i).filter(function(u){return i[u]===p;})[0];r=this.$P2PCreditCard3(s);}else if(q){t=j.getCardType(q);if(t)r=t.name;}return r;};o.prototype.getImage=function(){return this.$P2PCreditCard4||n.unknown.image;};o.prototype.setImage=function(p){this.$P2PCreditCard4=p;};o.prototype.getImageLarge=function(){return this.$P2PCreditCard5||n.unknown.imageLarge;};o.prototype.setImageLarge=function(p){this.$P2PCreditCard5=p;};o.prototype.getName=function(){return this.$P2PCreditCard6||n.unknown.name;};o.prototype.setName=function(p){this.$P2PCreditCard6=p;};o.prototype.getIsPreset=function(){return this.$P2PCreditCard7;};o.prototype.setIsPreset=function(p){this.$P2PCreditCard7=p||false;};o.prototype.$P2PCreditCard3=function(p){switch(p){case 'VISA':p='visa';break;case 'AMERICANEXPRESS':p='amex';break;case 'MASTERCARD':p='mc';break;case 'DISCOVER':p='disc';break;case 'JCB':p='jcb';break;default:p='unknown';break;}return p;};o.prototype.getCreditCardNumberFormatted=function(){return '*'+this[h.CARD_NUMBER];};o.prototype.getDetailsFormatted=function(){return (this.getName()+' '+this.getCreditCardNumberFormatted());};o.prototype.getCreditCardNumberMask=function(){return '**** **** **** '+this[h.CARD_NUMBER];};o.prototype.getMaxCSCLength=function(){var p=this.$P2PCreditCard1(this[h.CARD_TYPE],this[h.CARD_NUMBER]);return p==='amex'?4:3;};o.prototype.getIsVerified=function(){return this.$P2PCreditCard8||false;};o.prototype.setIsVerified=function(p){this.$P2PCreditCard8=p;};o.prototype.getIsMobileVerified=function(){return this.$P2PCreditCard9||false;};o.prototype.setIsMobileVerified=function(p){this.$P2PCreditCard9=p;};o.prototype.getIsPersonalTransferEligible=function(){return !!this.$P2PCreditCard10;};o.prototype.setIsPersonalTransferEligible=function(p){this.$P2PCreditCard10=p;};o.prototype.getCategory=function(){return this.$P2PCreditCard11;};o.prototype.setCategory=function(p){this.$P2PCreditCard11=p;};o.prototype.getCategoryName=function(){switch(this.$P2PCreditCard11){case k.DEBIT_CARD:return l._("Debit");case k.CREDIT_CARD:return l._("Credit");case k.PREPAID_CARD:return l._("Prepaid");default:return '';}};o.prototype.isExpired=function(){var p=this.getExp();if(!p)return false;var q=p.month,r=p.year,s=new Date(),t=s.getFullYear()+'',u=s.getMonth()+1+'';u=u.length===1?'0'+u:u;return r<t||t===r&&q<u;};f.exports=o;},null);
__d('P2PChooseCreditCardForm.react',['CurrentEnvironment','Image.react','P2PCreditCard','React','XUIRadioList.react','XUIGrayText.react','cx','emptyFunction','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();'use strict';var r=l.Item,s=k.PropTypes,t='add_debit_card',u=h.messengerdotcom,v=k.createClass({displayName:'P2PChooseCreditCardForm',propTypes:{addCardOptionText:s.string,creditCards:s.arrayOf(s.instanceOf(j)),selectedCard:s.instanceOf(j).isRequired},getDefaultProps:function(){return {addCardOptionText:p._("New Debit Card"),creditCards:[],selectedCard:null,onChange:o,onAddDebitCardOptionSelected:o,showAddDebitCardOption:false};},getInitialState:function(){return {selectedCard:this.props.selectedCard};},getSelectedCard:function(){return this.state.selectedCard;},onChange:function(w){var x;if(w===t){this.props.onAddDebitCardOptionSelected();}else{x=this.props.creditCards.filter(function(y){return y.getCredentialId()===w;})[0];this.setState({selectedCard:x});this.props.onChange(x);}},renderCardItem:function(w,x){return (k.createElement(r,{className:"_2x6n",key:'item-'+x,value:w.getCredentialId()},k.createElement(m,{className:"_3-8r _2jp9",shade:'dark',weight:'bold'},w.getName()+' '+w.getCategoryName()),k.createElement(m,{shade:'dark',weight:'normal'},w.getCreditCardNumberFormatted()),k.createElement(i,{className:"_2x6p",height:24,src:w.getImage(),width:36})));},renderAddDebitCardRadioItem:function(){return (k.createElement(r,{className:"_2x6n _1gri",key:'item-'+this.props.creditCards.length,value:t},k.createElement(m,{className:"_3-8r _2jpa",shade:'dark'},this.props.addCardOptionText)));},getRadioListItems:function(){var w=this.props.creditCards,x=w.map(this.renderCardItem);if(this.props.showAddDebitCardOption)x.push(this.renderAddDebitCardRadioItem());return x;},render:function(){return (k.createElement(l,{selectedValue:this.state.selectedCard.getCredentialId(),className:q(this.props.className,"_2x6r"+(u?' '+"_2jpb":'')),onValueChange:this.onChange},this.getRadioListItems()));}});f.exports=v;},null);
__d('P2PCreditCardFormFieldMixin.react',['React','ReactInputSelection','XUITextInput.react','cx','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();'use strict';var m=49,n=h.PropTypes,o={propTypes:{onChange:n.func,reference:n.string,saveError:n.string,focused:n.bool,value:n.string,isMasked:n.bool,showFocusOutline:n.bool,showIcon:n.bool,showPlaceholder:n.bool},getDefaultProps:function(){return {onChange:l,saveError:'',focused:false,value:'',isMasked:false,showFocusOutline:true,showIcon:true,showPlaceholder:true};},getInitialState:function(){return {isValid:null,value:'',oldValue:'',focused:false,lastKeyCode:m,modified:false,cursorPosition:0,errorMessage:null};},getInputElement:function(){return this.refs.ccFormFieldInput.refs.textInput.getTextFieldDOM();},restoreCursorPosition:function(){if(!this.getUpdatedCursorPosition)return;if(this.state.oldValue===this.state.value)return;var p=this.getUpdatedCursorPosition(this.state.value,this.state.oldValue,this.state.cursorPosition);i.setSelection(this.getInputElement(),{start:p});},setAndValidate:function(p,q){var r,s=this.state.value,t=i.getSelection(this.getInputElement()),u=this.formatValue?this.formatValue(p,s,q):p;r=this.validate(u);this.setState({modified:true,value:u,oldValue:p,isValid:r,cursorPosition:t.start},this.restoreCursorPosition);this.triggerChange(u,r);},triggerChange:function(p,q){this.props.onChange(this.props.reference,p,q);},componentDidMount:function(){if(this.props.focused)setTimeout((function(){if(this.isMounted())this.focus();}).bind(this),100);this.initializeFormValue();},initializeFormValue:function(){var p;if(this.props.value){p=this.props.isMasked?true:this.validate(this.props.value);this.setState({isValid:p,modified:true,value:this.props.value});this.triggerChange(this.props.value,p);}},handleBlur:function(p){var q=this.getInputElement().value;if(q&&q!==this.state.value)this.setAndValidate(q,m);this.setState({focused:false});},handlePaste:function(p){this.setState({lastKeyCode:m});},handleChange:function(p){this.setAndValidate(p.target.value,this.state.lastKeyCode);},handleOnKeyDown:function(p){var q=p.keyCode;if(q>=96&&q<=105)q=q-48;this.setState({lastKeyCode:q});},handleFocus:function(p){this.setState({focused:true});},focus:function(){h.findDOMNode(this.refs.ccFormFieldInput).focus();},shouldShowIsValidError:function(){if(!this.state.isValid&&this.state.modified)return !this.state.focused||this.isValAtLimit();return false;},isDisabled:function(){return this.props.isMasked;},render:function(){var p=this.shouldShowIsValidError()||this.props.saveError||this.state.errorMessage;return (h.createElement('div',{className:"_2wac"+(p?' '+"_5bqn":'')+(this.props.showFocusOutline&&!p&&this.state.focused?' '+"_5bqo":''),onClick:this.focus},this.props.showIcon?this.getIcon():null,h.createElement(j,{autoComplete:this.getAutocompleteName(),ref:'ccFormFieldInput',defaultValue:this.props.defaultValue,value:this.state.value,onChange:this.handleChange,onPaste:this.handlePaste,onKeyDown:this.handleOnKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,placeholder:this.props.showPlaceholder?this.getPlaceholder():'',disabled:this.isDisabled(),className:"_5bqq"+(!this.props.showIcon?' '+"_46tf":''),xuiError:this.state.errorMessage}),h.createElement('div',{className:"_5br4"})));}};f.exports=o;},null);
__d('P2PCreditCardCVCFormField.react',['CreditCardFormParam','React','P2PCreditCardFormFieldMixin.react','PaymentMethodUtils','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();'use strict';var n=i.createClass({displayName:'P2PCreditCardCVCFormField',mixins:[j],getIcon:function(){return (i.createElement('div',{className:"_31_w _5wcr"}));},getAutocompleteName:function(){return 'cc-csc';},isValAtLimit:function(){var o=this.state.value;return o.length===this.getLimit();},getLimit:function(){var o,p=this.props.cscMaxLength;if(!p){o=k.getCardType(this.props[h.CARD_NUMBER]);p=o.name==='amex'?4:3;}return p;},formatValue:function(o,p,q){var r=this.getLimit();o=o.replace(/\D/g,'');o=o.slice(0,r);return o;},getPlaceholder:function(){return m._("CVV");},validate:function(o){return o.length===this.getLimit();}});f.exports=n;},null);
__d('P2PCreditCardZipCodeFormField.react',['React','P2PCreditCardFormFieldMixin.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=h.createClass({displayName:'P2PCreditCardZipCodeFormField',mixins:[i],getIcon:function(){return (h.createElement('div',{className:"_31_w _3oce"}));},getAutocompleteName:function(){return 'postal-code';},isValAtLimit:function(){var m=this.state.value;return m.length===this.getLimit();},getLimit:function(){return 5;},getPlaceholder:function(){return k._("Billing ZIP Code");},formatValue:function(m,n,o){var p=this.getLimit();m=m.replace(/\D/g,'');m=m.slice(0,p);return m;},validate:function(m){return m.length===this.getLimit();}});f.exports=l;},null);
__d('P2PErrorNotice.react',['React','XUINotice.react','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'P2PErrorNotice',propTypes:{error:k.object},getDefaultProps:function(){return {error:null};},renderErrorContent:function(){var m=this.props.error;if(m.message.__html){return h.createElement('span',{dangerouslySetInnerHTML:m.message});}else return h.createElement('span',null,m.message);},render:function(){return (h.createElement(i,{className:"_3-8n",use:'warn'},this.renderErrorContent()));}});f.exports=l;},null);
__d('P2PMoneypennyPaymentItem.react',['BackgroundImage.react','LineClamp.react','Link.react','MNCommerceAgenItemSuggestionReactShape','P2PText.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();'use strict';var o=m.PropTypes,p=m.createClass({displayName:'P2PMoneypennyPaymentItem',propTypes:{item:k.isRequired,size:o.oneOf(['small'])},render:function(){var q=this.props.item,r,s,t=this.props.size||'medium';if(q.thumb_url)r=m.createElement('div',{className:"_5i3y"},m.createElement(j,{href:q.target_url,target:'_blank'},m.createElement(h,{backgroundSize:'cover',height:72,src:q.thumb_url,width:72})));if(q.desc)s=m.createElement(l,{className:"_5i3_",shade:'light',size:'small',type:'secondary'},m.createElement(i,{lines:2},q.desc));return (m.createElement('div',{className:"_5i40"},r,m.createElement('div',{className:"_5i41"},m.createElement(l,{className:"_5i42",shade:'dark',size:t,type:'primary',weight:'bold'},q.name),s,m.createElement(l,{className:"_5i43",shade:'light',size:'small',type:'secondary'},q.merchant_name))));}});f.exports=p;},null);
__d('P2PAcceptMoneyDialog.react',['BootloadedComponent.react','Bootloader','CurrentEnvironment','P2PDialog.react','P2PLoadingMask.react','JSResource','React','Run','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();'use strict';var q=Object.assign||function(u){for(var v=1;v<arguments.length;v++){var w=arguments[v];for(var x in w)if(Object.prototype.hasOwnProperty.call(w,x))u[x]=w[x];}return u;},r=n.PropTypes,s=j.messengerdotcom,t=n.createClass({displayName:'P2PAcceptMoneyDialog',propTypes:{creditCards:r.array.isRequired,useRedesignForm:r.bool,onClose:r.func,transfer:r.object},statics:{preload:function(){o.onAfterLoad(function(){i.loadModules(["P2PAcceptMoneyDialogImpl.react"],function(){});});}},render:function(){return (n.createElement(h,q({bootloadLoader:m('P2PAcceptMoneyDialogImpl.react'),bootloadPlaceholder:this._renderPlaceholder()},this.props)));},_renderPlaceholder:function(){return (n.createElement(k,{className:"_309"+(s?' '+"_5ktw":''),layerHideOnBlur:false,repositionOnUpdate:true,shown:true,width:s?350:300},n.createElement('div',{className:"_3w2b"},n.createElement(l,{visible:true}))));}});f.exports=t;},null);
__d('P2PVerifyCreditCardDialog.react',['CreditCardFormParam','CurrentEnvironment','P2PAPI','P2PAPIUtils','P2PCreditCard','P2PErrorNotice.react','P2PLoadingMask.react','React','P2PButton.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PCreditCardCVCFormField.react','P2PCreditCardZipCodeFormField.react','P2PDialogTitle.react','P2PText.react','cx','emptyFunction','fbt','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba=Object.assign||function(ea){for(var fa=1;fa<arguments.length;fa++){var ga=arguments[fa];for(var ha in ga)if(Object.prototype.hasOwnProperty.call(ga,ha))ea[ha]=ga[ha];}return ea;},ca=o.PropTypes,da=o.createClass({displayName:'P2PVerifyCreditCardDialog',propTypes:{asyncRequestState:ca.object,creditCard:ca.instanceOf(l),onCancel:ca.func,onConfirm:ca.func,isPurchasing:ca.bool,isSending:ca.bool,purchaseName:ca.string,saveButtonText:ca.string,showCancelButton:ca.bool},getDefaultProps:function(){return {asyncRequestState:{},creditCard:null,isPurchasing:false,isSending:true,onCancel:y,onError:y,onSuccess:y,purchaseName:'',saveButtonText:z._("Confirm"),showCancelButton:true,width:i.messengerdotcom?320:300};},getInitialState:function(){var ea={};ea[h.CSC]={};ea[h.CSC].valid=false;if(this.shouldShowZIPInput()){ea[h.ZIP]={};ea[h.ZIP].valid=false;}return {isValid:false,loading:false,requestID:'',saveError:null,fields:ea};},componentWillReceiveProps:function(ea){var fa=ea.asyncRequestState?ea.asyncRequestState[this.state.requestID]:null;if(fa){this.setState({requestID:''});if(fa.error){this.handleOnSaveError(fa.error);}else this.handleOnSaveSuccess(fa);}},handleOnSaveSuccess:function(ea){this.props.onSuccess(ea);},handleOnSaveError:function(ea){this.setState({loading:false,saveError:ea});},clearSaveError:function(){this.setState({saveError:null});},handleCancelClick:function(){this.props.onCancel();},handleConfirmClick:function(){var ea={},fa=k.genRequestID();ea[h.CREDENTIAL_ID]=this.props.creditCard.getCredentialId();ea[h.CSC]=this.state.fields[h.CSC].value;if(this.state.fields[h.ZIP])ea[h.ZIP]=this.state.fields[h.ZIP].value;this.clearSaveError();this.setState({loading:true,requestID:fa});j.verifyCreditCard(ba({requestID:fa},ea));},handleFormValueChange:function(ea,fa,ga){var ha=this.state.fields;ha[ea].value=fa;ha[ea].valid=ga;this.setState({fields:ha});this.validateForm();},validateForm:function(){var ea=true,fa=this.state.fields;ea=!aa(fa).some(function(ga){return !ga.valid;});this.setState({isValid:ea});},handleToggle:function(ea){if(!ea)this.props.onCancel();},shouldShowZIPInput:function(){var ea=!!this.props.creditCard.getZipCode();return !ea;},renderError:function(){var ea;if(this.state.saveError)ea=o.createElement(m,{error:this.state.saveError});return ea;},renderCVCFormField:function(){return (o.createElement(t,{cscMaxLength:this.props.creditCard.getMaxCSCLength(),focused:true,onChange:this.handleFormValueChange,reference:'csc',showIcon:false,showPlaceholder:false,showFocusOutline:false}));},renderZIPFormField:function(){return (o.createElement(u,{onChange:this.handleFormValueChange,reference:'zip',showIcon:false,showPlaceholder:false,showFocusOutline:false}));},getMessage:function(){var ea=this.props.creditCard.getName(),fa=this.props.creditCard.getCreditCardNumber();if(this.props.isPurchasing){if(this.shouldShowZIPInput()){return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} and Billing ZIP Code to get {Purchase item}.",[z.param('credit card issuer',ea),z.param('credit card number last 4 digits',fa),z.param('Purchase item',this.props.purchaseName)])));}else return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} to get {Purchase item}.",[z.param('credit card issuer',ea),z.param('credit card number last 4 digits',fa),z.param('Purchase item',this.props.purchaseName)])));}else if(this.props.isSending){if(this.shouldShowZIPInput()){return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} and Billing ZIP Code to send this payment.",[z.param('credit card issuer',ea),z.param('credit card number last 4 digits',fa)])));}else return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} to send this payment.",[z.param('credit card issuer',ea),z.param('credit card number last 4 digits',fa)])));}else if(this.shouldShowZIPInput()){return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} and Billing ZIP Code to accept this payment.",[z.param('credit card issuer',ea),z.param('credit card number last 4 digits',fa)])));}else return (o.createElement(w,{type:'primary'},z._("Enter the security code on the back of your {credit card issuer} ending in {credit card number last 4 digits} to accept this payment.",[z.param('credit card issuer',ea),z.param('credit card number last 4 digits',fa)])));},getInputs:function(){var ea,fa=o.createElement('div',{className:"_3yfa"},o.createElement(w,{className:"_197h",type:'primary'},z._("Security Code")),o.createElement('div',{className:"_197i"},this.renderCVCFormField()));if(this.shouldShowZIPInput())ea=o.createElement('div',{className:"_3yfb"},o.createElement(w,{className:"_197h",type:'primary'},z._("Billing ZIP Code")),o.createElement('div',{className:"_197i"},this.renderZIPFormField()));return (o.createElement('div',null,fa,ea));},render:function(){var ea;if(this.props.showCancelButton)ea=o.createElement(p,{use:'default',size:'medium',label:z._("Cancel"),disabled:this.state.loading,onClick:this.props.onCancel});return (o.createElement(q,{behaviors:this.props.behaviors,className:i.messengerdotcom?"_4ypw":'',layerHideOnBlur:false,onToggle:this.handleToggle,ref:'dialog',repositionOnUpdate:true,shown:true,width:this.props.width},o.createElement(v,null,z._("Enter Security Code")),o.createElement(r,null,o.createElement('div',{className:"_197f"},this.getMessage()),this.renderError(),o.createElement('div',{className:"_197g"},this.getInputs())),o.createElement(s,null,ea,o.createElement(p,{label:this.props.saveButtonText,onClick:this.handleConfirmClick,disabled:!this.state.isValid||this.state.loading,use:'confirm'})),o.createElement(n,{visible:this.state.loading})));}});f.exports=da;},null);
__d('P2PSettingsPasswordProtectionSelector.react',['Arbiter','P2PAPI','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PPasswordProtectionParam','P2PPasswordProtectionStatusTypes','React','XUISelector.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=Object.assign||function(u){for(var v=1;v<arguments.length;v++){var w=arguments[v];for(var x in w)if(Object.prototype.hasOwnProperty.call(w,x))u[x]=w[x];}return u;},s=p.Option,t=o.createClass({displayName:'P2PSettingsPasswordProtectionSelector',passwordCancelSubscribeToken:null,getInitialState:function(){return {passwordProtectionSettingValue:n.DISABLED,passwordProtectionSettingValueFetched:false,prevPasswordProtectionSettingValue:null,loading:false,saveError:false};},componentWillMount:function(){i.getPasswordProtectionSetting({success:this.handleGetPasswordProtectionSettingSuccess,error:this.handleGetPasswordProtectionSettingError});},log:function(u,v){j.log(u,r({www_event_flow:l.UI_FLOW_P2P_SETTINGS},v));},handleGetPasswordProtectionSettingSuccess:function(u){if(u.status!==n.NOT_SET)this.setState({passwordProtectionSettingValue:u.status});this.setState({passwordProtectionSettingValueFetched:true});},handleGetPasswordProtectionSettingError:function(){this.setState({passwordProtectionSettingValueFetched:true});},componentWillUnmount:function(){if(this.passwordCancelSubscribeToken){h.unsubscribe(this.passwordCancelSubscribeToken);this.passwordCancelSubscribeToken=null;}},onChange:function(u){var v=u.value;this.setState({loading:true,saveError:false,passwordProtectionSettingValue:v,prevPasswordProtectionSettingValue:this.state.passwordProtectionSettingValue});this.setPasswordProtection(v);if(v===n.ENABLED){this.log(k.UI_ACTN_ENABLED_PASSWORD_PROTECTION_SETTING);}else this.log(k.UI_ACTN_DISABLED_PASSWORD_PROTECTION_SETTING);},setPasswordProtection:function(u){var v={};v[m.STATUS]=u;this.passwordCancelSubscribeToken=h.subscribeOnce('PasswordReauthDialogCancelClick',this.handlePasswordReauthDialogCancelClick);i.setPasswordProtectionSetting({formData:v,success:this.handleOnSaveSuccess,error:this.handleOnSaveError});},handlePasswordReauthDialogCancelClick:function(){if(this.state.loading){this.passwordCancelSubscribeToken=null;this.setState({loading:false,passwordProtectionSettingValue:this.state.prevPasswordProtectionSettingValue});}},handleOnSaveSuccess:function(){this.setState({loading:false});},handleOnSaveError:function(){this.setState({loading:false,passwordProtectionSettingValue:this.state.prevPasswordProtectionSettingValue,saveError:true});},render:function(){if(this.state.passwordProtectionSettingValueFetched)return (o.createElement(p,{disabled:this.state.loading,onChange:this.onChange,name:'password_protection_selector',value:this.state.passwordProtectionSettingValue},o.createElement(s,{key:'on',value:n.ENABLED},q._("On")),o.createElement(s,{key:'off',value:n.DISABLED},q._("Off"))));return null;}});f.exports=t;},null);
__d('P2PVerificationFlowHelper',['AsyncDialog','AsyncRequest','P2PAPI','P2PTransferParam','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=null,n=null,o=null,p={startVerificationFlow:function(q,r,s){m=q;n=r;o=s||l;h.send(new i('/p2p/verify/dialog/?id='+q));},setupFlowExitHandler:function(q,r,s,t){var u=function(x){o(x);m=null;n=null;o=null;q.destroy();r.destroy();};if(s){q.subscribe('hide',function(){u(t);});}else{var v=false,w=false;q.subscribe('confirm',function(){v=true;});q.subscribe('hide',function(){if(v){q.destroy();r.destroy();}else if(n){r.show();}else u(false);});r.subscribe('confirm',function(){w=true;var x={};x[k.TRANSFER_ID]=m;j.cancelTransaction({formData:x});u(false);});r.subscribe('hide',function(){if(!w)q.show();});}}};f.exports=p;},null);
__d('P2PCreditCardStore',['P2PActionConstants','Arbiter','CreditCardFormParam','ChannelConstants','EventEmitter','ImmutableObject','MessengerPaymentProductType','P2PActions','P2PAPI','P2PChannelType','P2PCreditCard','P2PDispatcher'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';var v,w,x,y,z,aa,ba,ca;function da(ga,ha){if(ga)ca[ga]=new m(ha);}function ea(ga,ha){if(ga)ca[ga]={error:ha};}t=l;u=t&&t.prototype;Object.assign(fa,t);fa.prototype=Object.create(t.prototype);fa.prototype.constructor=fa;fa.__superConstructor__=t;function fa(){u.constructor.call(this);z=false;aa=false;x=[];ba=true;ca={};y=s.register(this.onEventDispatched.bind(this));v=i.subscribe(k.getArbiterType(q.CREDIT_CARD_CHANGED),this.handleChannelCreditCardChanged.bind(this));w=i.subscribe(k.getArbiterType(q.CREDIT_CARD_DELETED),this.handleChannelCreditCardDeleted.bind(this));}fa.prototype.onEventDispatched=function(ga){var ha=ga.data,ia=ga.type;switch(ia){case h.CREDIT_CARDS_UPDATED:this.handleCreditCardsUpdated(ha);this.emit('change');break;case h.CHANNEL_EVENTS_ALLOWED:this.handleChannelEventsAllowed();break;case h.CHANNEL_EVENTS_IGNORED:this.handleChannelEventsIgnored();break;case h.CREDIT_CARD_ADDED:this.handleCreditCardAdded(ha);this.emit('change');break;case h.CREDIT_CARD_ADDED_ERROR:this.handleCreditCardAddedError(ha);this.emit('change');break;case h.CREDIT_CARD_DELETED:this.handleCreditCardDeleted(ha);this.emit('change');break;case h.CREDIT_CARD_DELETED_ERROR:this.handleCreditCardDeletedError(ha);this.emit('change');break;case h.CREDIT_CARD_UPDATED:this.handleCreditCardUpdated(ha);this.emit('change');break;case h.CREDIT_CARD_UPDATED_ERROR:this.handleCreditCardUpdatedError(ha);this.emit('change');break;case h.PRESET_CREDIT_CARD_UPDATED:this.handlePresetCreditCardUpdated(ha);this.emit('change');break;case h.PRESET_CREDIT_CARD_UPDATED_ERROR:this.handlePresetCreditCardUpdatedError(ha);this.emit('change');break;case h.CREDIT_CARD_VERIFIED:this.handleCreditCardVerified(ha);this.emit('change');break;case h.CREDIT_CARD_VERIFIED_ERROR:this.handleCreditCardVerifiedError(ha);this.emit('change');break;case h.BIN_NUMBER_VALIDATED:this.handleBINNumberValidated(ha);this.emit('change');break;case h.BIN_NUMBER_VALIDATED_ERROR:this.handleBINNumberValidatedError(ha);this.emit('change');break;}};fa.prototype.getAsyncRequestState=function(){return ca;};fa.prototype.isCreditCardsFetchComplete=function(){return z;};fa.prototype.handleCreditCardsUpdated=function(ga){z=true;x=ga.map(function(ha){return new r(ha);});};fa.prototype.handleCreditCardAdded=function(ga){da(ga.requestID,ga);if(!this.getCreditCardByCredentialID(ga[j.CREDENTIAL_ID]))x.push(new r(ga));};fa.prototype.handleChannelEventsIgnored=function(){ba=false;};fa.prototype.handleChannelEventsAllowed=function(){ba=true;};fa.prototype.handleChannelCreditCardChanged=function(ga,ha){if(ba&&!this.getCreditCardByCredentialID(ha[j.CREDENTIAL_ID]))p.getAllCreditCards();};fa.prototype.handleCreditCardAddedError=function(ga){ea(ga.requestID,ga.errors);};fa.prototype.handleCreditCardDeleted=function(ga){var ha=ga[j.CREDENTIAL_ID];da(ga.requestID,ga);x=x.filter(function(ia){return ia.getCredentialId()!==ha;});};fa.prototype.handleChannelCreditCardDeleted=function(ga,ha){ha=ha.obj;o.deleteCreditCard(ha);};fa.prototype.handleCreditCardDeletedError=function(ga){ea(ga.requestID,ga.error);};fa.prototype.handleCreditCardUpdated=function(ga){da(ga.requestID,ga);var ha=this.getCreditCardByCredentialID(ga[j.CREDENTIAL_ID]);if(ha){ha.setExp(ga[j.CARD_EXPIRATION]);ha.setZipCode(ga[j.ZIP]);}};fa.prototype.handleCreditCardUpdatedError=function(ga){ea(ga.requestID,ga.errors);};fa.prototype.handlePresetCreditCardUpdated=function(ga){var ha=ga[j.CREDENTIAL_ID];da(ga.requestID,ga);var ia=x.filter(function(ka){return ka.getIsPreset();})[0];if(ia)ia.setIsPreset(false);var ja=this.getCreditCardByCredentialID(ha);if(ja)ja.setIsPreset(true);};fa.prototype.handlePresetCreditCardUpdatedError=function(ga){ea(ga.requestID,ga.error);};fa.prototype.handleCreditCardVerified=function(ga){da(ga.requestID,ga);var ha=this.getCreditCardByCredentialID(ga[j.CREDENTIAL_ID]);if(ha)ha.setIsVerified(true);};fa.prototype.handleCreditCardVerifiedError=function(ga){ea(ga.requestID,ga.error);};fa.prototype.handleBINNumberValidated=function(ga){da(ga.requestID,ga);};fa.prototype.handleBINNumberValidatedError=function(ga){ea(ga.requestID,ga.error);};fa.prototype.getAll=function(ga){ga=ga===undefined?n.P2P:ga;if(!aa){aa=true;p.getAllCreditCards();}return x.filter(function(ha){if(ga===n.P2P)return ha.getIsPersonalTransferEligible();return ha;});};fa.prototype.getCreditCardByCredentialID=function(ga){return x.filter(function(ha){return ha.getCredentialId()===ga;})[0];};f.exports=new fa();},null);
__d('P2PTransferStore',['Arbiter','P2PActionConstants','ChannelConstants','CurrentUser','CreditCardFormParam','EventEmitter','ImmutableObject','P2PActions','P2PAPI','P2PChannelType','P2PCreditCard','P2PDispatcher','P2PNUXRendererUtils','P2PTransferParam','P2PTransferStatus','Set','MercuryThreadInformer'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x,y;'use strict';var z=c('MercuryThreadInformer').get(),aa,ba,ca,da,ea,fa,ga,ha,ia=false,ja=false,ka=new w();function la(oa,pa){if(oa)ha[oa]=new n(pa);}function ma(oa,pa){if(oa)ha[oa]={error:pa};}x=m;y=x&&x.prototype;Object.assign(na,x);na.prototype=Object.create(x.prototype);na.prototype.constructor=na;na.__superConstructor__=x;function na(){y.constructor.call(this);aa=false;ca=[];ha={};ea=h.subscribe(j.getArbiterType(q.TRANSFER_STATUS_CHANGED),this.handleChannelTransferStatusChanged.bind(this));fa=z.subscribe('messages-received',this.handleMessageReceived.bind(this));da=s.register(this.onEventDispatched.bind(this));}na.prototype.onEventDispatched=function(oa){var pa=oa.data,qa=oa.type;switch(qa){case i.TRANSFERS_UPDATED:this.handleTransfersUpdated(pa);this.emit('change');break;case i.TRANSFERS_UPDATED_ERROR:this.handleTransfersUpdatedError(pa);this.emit('change');break;case i.NUX_TRANSFERS_UPDATED:this.handleNUXTransfersUpdated(pa);this.emit('change');break;case i.TRANSFER_ADDED:this.handleTransferAdded(pa);this.emit('change');break;case i.TRANSFER_UPDATED:this.handleTransferUpdated(pa);this.emit('change');break;case i.TRANSFER_ACCEPTED:this.handleTransferAccepted();this.emit('change');break;case i.TRANSFER_DECLINED:this.handleTransferDeclined(pa);this.emit('change');break;case i.EXTENSIVE_TRANSFER_DETAILS_UPDATED:this.handleTransferWithExtensiveDetails(pa);this.emit('change');break;}};na.prototype.getAsyncRequestState=function(){return ha;};na.prototype.handleTransfersUpdated=function(oa){ga=null;ia=true;ca=oa.map((function(pa){var qa={},ra=this.getTransferByID(pa.transfer_id),sa={};if(pa.creditCard){qa[l.CREDENTIAL_ID]=pa.creditCard[l.CREDENTIAL_ID];qa[l.CARD_NUMBER]=pa.creditCard[l.CARD_NUMBER];qa[l.CARD_TYPE]=pa.creditCard[l.CARD_TYPE];pa.creditCard=new r(qa);}if(ra)for(var ta in ra)sa[ta]=pa[ta]!==null?pa[ta]:ra[ta];return new n(pa,sa);}).bind(this));};na.prototype.handleTransfersUpdatedError=function(oa){ga=oa.error;ma(oa.requestID,oa.error);};na.prototype.handleNUXTransfersUpdated=function(oa){if(!ia)this.handleTransfersUpdated(oa);};na.prototype.handleTransferAdded=function(oa){var pa=null;la(oa.requestID,oa);pa=ca.filter(function(qa){return (qa[u.TRANSFER_ID]===oa[u.TRANSFER_ID]);})[0];if(pa)return;ca.push(new n(oa));ca=ca.sort(function(qa,ra){return ra.creationTime-qa.creationTime;});};na.prototype.handleTransferAddedError=function(oa){ma(oa.requestID,oa.errors);};na.prototype.handleChannelTransferStatusChanged=function(oa,pa){pa=pa.obj;o.transferUpdated(pa);};na.prototype.handleMessageReceived=function(oa,pa){for(var qa in pa)if(pa.hasOwnProperty(qa)){var ra=pa[qa];for(var sa=0;sa<ra.length;sa++)if(ra[sa].attachments&&ra[sa].attachments.length){var ta=t.getTransferFromMessage(ra[sa]);if(ta){if(!this.hasReceived()&&ta.receiver.id===k.getID())p.getBannerStates();o.transferAdded(ta);return;}}}};na.prototype.handleTransferUpdated=function(oa){for(var pa=0,qa=ca.length;pa<qa;pa++)if(ca[pa][u.TRANSFER_ID]===oa[u.TRANSFER_ID])ca[pa]=n.set(ca[pa],oa);};na.prototype.handleTransferAccepted=function(){var oa;for(var pa=0,qa=ca.length;pa<qa;pa++)if(ca[pa][u.STATUS]===v.PENDING_RECIPIENT_NUX){oa={};oa[u.STATUS]=v.COMPLETED;ca[pa]=n.set(ca[pa],oa);}ja=true;};na.prototype.handleTransferDeclined=function(oa){var pa;for(var qa=0,ra=ca.length;qa<ra;qa++)if(ca[qa][u.TRANSFER_ID]===oa[u.TRANSFER_ID]&&ca[qa][u.STATUS]===v.PENDING_RECIPIENT_NUX){pa={};pa[u.STATUS]=v.CANCELED_DECLINED;ca[qa]=n.set(ca[qa],pa);break;}};na.prototype.handleTransferUpdatedError=function(oa){ma(oa.requestID,oa.errors);};na.prototype.getTransferByID=function(oa){return ca.filter(function(pa){return oa===pa[u.TRANSFER_ID];})[0];};na.prototype.getAll=function(oa){if(!aa){aa=true;p.getTransactions(oa);}return ca;};na.prototype.getNUXTransfer=function(){var oa=ca.filter(function(pa){return t.isRecipientActionableStatus(pa);})[0];if(!oa&&!ba&&!aa){ba=true;p.getNUXTransactions();}return oa;};na.prototype.hasTransfers=function(){return ca.length>0;};na.prototype.hasAccepted=function(){return ja;};na.prototype.hasReceivedFromSender=function(oa){for(var pa=0,qa=ca.length;pa<qa;pa++)if(ca[pa].sender.id===oa)return true;return false;};na.prototype.hasReceived=function(){for(var oa=0,pa=ca.length;oa<pa;oa++)if(ca[oa].receiver.id===k.getID())return true;return false;};na.prototype.getTransferFetchError=function(){return ga;};na.prototype.getTransferWithExtensiveDetailsByID=function(oa){if(!ka.has(oa)){ka.add(oa);p.getExtensiveTransferDetailsByID(oa);}};na.prototype.handleTransferWithExtensiveDetails=function(oa){if(this.getTransferByID(oa.transfer_id)){this.handleTransferUpdated(oa);}else this.handleTransferAdded(oa);};na.prototype.getAllLocal=function(){return ca;};f.exports=new na();},null);
__d("XPaymentReceiptDownloadController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payment_receipt\/download\/",{id:{type:"Int",required:true}});},null,{});
__d("XPaymentSettingsGetP2PPasswordProtectionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payment\/settings\/p2p_password_protection\/",{});},null,{});
__d("XPaymentSettingsGetPaymentMethodsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payments\/settings\/payment_methods\/",{});},null,{});
__d("XPaymentSettingsGetPaymentsHistoryController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payments\/settings\/payment_history\/",{env:{type:"String",defaultValue:""}});},null,{});
__d("XPaymentSettingsGetShippingAddressesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payments\/settings\/shipping_addresses\/",{});},null,{});
__d("XPaymentSettingsGetSubscriptionsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payments\/settings\/subscriptions\/",{});},null,{});
__d("XPaymentSettingsGetUserCurrencyController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payments\/settings\/user_currency\/",{});},null,{});
__d("XPaymentSettingsRemovePaymentMethodController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payments\/settings\/remove_card\/",{});},null,{});
__d("XPaymentSettingsRemoveShippingAddressController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payments\/settings\/remove_shipping_address\/",{});},null,{});
__d("XPaymentSettingsSetUserCurrencyController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payments\/settings\/set_user_currency\/",{});},null,{});
__d("XPaymentSettingsShippingAddressMutatorController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payments\/shipping_address\/mutate\/",{});},null,{});