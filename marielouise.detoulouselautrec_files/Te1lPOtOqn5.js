/*!CK:2305846253!*//*1439179210,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["7002l"]); }

__d("ComposerXAjaxEndpoint",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADS_MEDIA_UPLOAD:"\/ajax\/ads\/create\/composerx\/attachment\/media\/upload\/",ADS_ATTACHMENT_STATUS:"\/ajax\/ads\/create\/composerx\/attachment\/status\/",MEDIA_UPLOAD:"\/ajax\/composerx\/attachment\/media\/upload\/",VIDEO_UPLOAD:"\/ajax\/composerx\/attachment\/video\/upload\/"};},null,{});
__d("ComposerXContextConfig",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={propertyNames:{actorID:"ACTOR_ID",postID:"POST_ID"},propertyValues:{ACTOR_ID:"actorID",POST_ID:"postID"}};},null,{});
__d("PrivacyRemindersLoggingTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ONLY_ME_IMPRESSION:"only_me_impression",ONLY_ME_CONVERSION:"only_me_conversion",EVERYONE_IMPRESSION:"everyone_impression",EVERYONE_CONVERSION:"everyone_conversion",EVERYONE_TESTS_IMPRESSION:"everyone_tests_impression",EVERYONE_TESTS_CONVERSION:"everyone_tests_conversion",PUBLIC_POSTING_FILTER_NUX_IMPRESSION:"public_posting_filter_nux_impression",PUBLIC_POSTING_FILTER_NUX_CONVERSION:"public_posting_filter_nux_conversion",DELTA_EVERYONE_IMPRESSION:"delta_everyone_impression",DELTA_EVERYONE_CONVERSION:"delta_everyone_conversion",DELTA_EVERYONE_OK_BUTTON_CLICKED:"delta_everyone_ok_button_clicked",DELTA_EVERYONE_CHANGE_BUTTON_CLICKED:"delta_everyone_change_button_clicked"};},null,{});
__d("PUWMethods",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DRAGDROP:"dragdrop",FILE_SELECTOR:"file_selector",VAULT:"vault",RECENT_PHOTOS:"recent_photos",PHOTOS_OF_YOU:"photos_of_you",METHOD_EDITOR:"editor",SUGGESTIONS:"suggestions",CAMERA:"camera",COPYPASTE:"copypaste"};},null,{});
__d("SuggestionConfig",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GROUP_POST_COMPOSER:"grouppostcomposer",OG_SUGGESTION_BY_INPUT:"ogsuggestionbyinput",COMPOSER_ENTRY_BOOTSTRAP:"composerentrybootstrap",MTOUCH_COMPOSER_ENTRY_BOOTSTRAP:"mtouchcomposerentrybootstrap",MTOUCH_COMPOSER_LOAD_VERBS:"mtouchcomposerloadverbs"};},null,{});
__d("SuggestionUIPresentation",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FLYOUT:1,TAGGER_BADGE:2,ADD_TAG:3,SEMI_INLINE:4,TOP_OF_VERBS:5};},null,{});
__d('ComposerXAttachmentBootstrap',['CSS','Form','Parent','URI','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=[],n={bootstrap:function(o){n.load(j.byTag(o,'form'),o.getAttribute('data-endpoint'));},load:function(o,p,q){var r=new k(p).addQueryData({composerurihash:n.getURIHash(p)});h.conditionClass(o,"_fu",q);var s=j.byClass(o,"_2_4");h.removeClass(s,'async_saving');i.setDisabled(o,false);o.action=r.toString();i.bootstrap(o);},getURIHash:function(o){if(o==='initial')return 'initial';var p=m.indexOf(o);if(p!==-1){return p+'';}else{p=m.length;m[p]=o;return p+'';}}};f.exports=n;},null);
__d('ComposerXContext',['ComposerXContextConfig','invariant'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=function(l){return h.propertyNames[l];};function k(l){'use strict';this.$ComposerXContext1={};for(var m in l)this.setProperty(m,l[m]);}k.prototype.getProperty=function(l){'use strict';!j(l)?i(0):undefined;return this.$ComposerXContext1[l];};k.prototype.setProperty=function(l,m){'use strict';!j(l)?i(0):undefined;this.$ComposerXContext1[l]=m;return this;};k.PROPERTIES=h.propertyValues;f.exports=k;},null);
__d('ComposerXSessionIDInserter',['ComposerXSessionIDs','DOM','DOMQuery','Event','Parent','csx','cx','onEnclosingPageletDestroy'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p={init:function(q){var r=k.listen(q,'submit',p._onSubmit);o(q,function(){r.remove();});},_onSubmit:function(q){p.insertSessionInput(q.getTarget());},insertSessionInput:function(q){var r=l.byClass(q,"_119");if(!r)return;var s=h.getSessionID(r.id);if(!s)return;var t=j.scry(q,"._5r_b")[0];if(!t){i.prependContent(q,h.createSessionIDInput(s));}else t.value=s;}};f.exports=p;},null);
__d('DynamicIconSelector',['Button','CSS','DOM','SelectorDeprecated'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={swapIcon:function(m){var n=k.getSelectedOptions(m)[0],o=n&&j.scry(n,'.itemIcon')[0],p=k.getSelectorButton(m);if(o){h.setIcon(p,o.cloneNode(true));}else{var q=j.scry(p,'.img')[0];q&&j.remove(q);}i.conditionClass(p,'uiSelectorChevronOnly',!o);}};k.subscribe('change',function(m,n){var o=n.selector;if(i.hasClass(o,'dynamicIconSelector'))l.swapIcon(o);});f.exports=l;},null);
__d('PrivacySelectorOption',['Arbiter','AudienceSelectorTags','CSS','CurrentUser','DOM','DynamicIconSelector','Parent','PrivacyConst','SelectorDeprecated','csx','fbt','intlList'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();function t(u,v){if(!u)throw new Error("there's no DOM option. Config data: ",v);this._elem=u;this._selector=n.byClass(this._elem,'audienceSelector');if(!this._selector)return;this._priv_base_val=v.priv_base_val;this._audienceCount=v.audience_count||"";this._hasRestricted=v.has_restricted||false;this._isCustom=v.is_custom||false;this._includedAudience=v.included||"";this._excludedAudience=v.excluded||{};this._excludedTaggees={};this._tagExpansionBehavior=v.tag_expansion_behavior||o.TagExpansion.NONE;this._plusLabel=l.scry(u,'.plusLabel')[0];this._audienceCountLabel=l.scry(u,'.audienceCountLabel')[0];this._taggedIDs=[];this._tags=[];this._recalculateTooltipAndLabel();this._updateOptionCountLabel();this._updateSelector();h.subscribe('Composer/changedtags',(function(w,x){var y=j.hasClass(this._selector,'composerAudienceSelector');if(!this._getChangedData()||!y)return;this._tags=[];this._taggedIDs=[];for(var z=0;z<x.withTags.length;z++){var aa=x.withTags[z].info;if(aa.uid!=k.getID()){this._tags.push(aa.text);this._taggedIDs.push(aa.uid);}}for(z in x.mention)if(x.mention[z].type=='user'&&x.mention[z].uid!=k.getID()){this._tags.push(x.mention[z].text);this._taggedIDs.push(x.mention[z].uid);}var ba=l.scry(document.body,"._5l7q")[0];ba&&!!this._taggedIDs.length&&j.hide(ba);this._updateOptionCountLabel();var ca=this._recalculateTooltipAndLabel();if(ca&&p.isOptionSelected(this._elem)){this._updateSelector();h.inform('SelectedPrivacyOption/changed',this._getChangedData());}}).bind(this));p.listen(this._selector,'change',this._updateSelector.bind(this));}Object.assign(t.prototype,{updateOption:function(u,v,w,x,y){this._priv_base_val=u;this._includedAudience=v;this._excludedAudience=w;this._tagExpansionBehavior=x;this._audienceCount=y;this._recalculateTooltipAndLabel();this._updateOptionCountLabel();return {label:this._label,tooltip:this._tooltip};},_recalculateTooltipAndLabel:function(){var u=this._label;this._label=this._getNewSelectorLabel();var v=this._tooltip;this._tooltip=this._getNewTooltip();return v!=this._tooltip||u!=this._label;},_getNewTooltip:function(){if(this._isCustom)return this._recalcCustomTooltip();switch(this._priv_base_val){case o.FriendsValue.ALL_FRIENDS:return this._recalcFriendsTooltip();case o.FriendsValue.FRIENDS_MINUS_ACQUAINTANCES:return this._recalcFriendsMinusTooltip();case o.FriendsValue.SELF:var u=this._getTagExpansionText();return u?u:this._getIncludedAudience();default:return this._recalcCustomTooltip();}},_getNewSelectorLabel:function(){var u=this._elem.getAttribute('data-label').replace(/\(.*\)/,"");if(this._showAudienceCount()){var v=' ('+this._audienceCount+')';u+=v;}if(this._isTagExpanded())u+=' (+)';return u;},_updateOptionCountLabel:function(){if(this._audienceCountLabel){if(this._showAudienceCount()){var u=' ('+this._audienceCount+')';l.setContent(this._audienceCountLabel,u);}j.conditionShow(this._audienceCountLabel,this._showAudienceCount());}this._plusLabel&&j.conditionShow(this._plusLabel,this._isTagExpanded());},_getChangedData:function(){return {tags:this._taggedIDs,privacy:this._priv_base_val};},_showAudienceCount:function(){return this._audienceCountLabel&&this._audienceCount&&this._audienceCount.length>0;},_isTagExpanded:function(){var u=this._getTagExpansionBehavior(),v=!!this._taggedIDs.length||this._alreadyHasTags();return v&&u!=o.TagExpansion.NONE;},_alreadyHasTags:function(){var u=l.scry(this._selector,'*[data-oid]')[0];u=u&&u.getAttribute('data-oid');return u&&i.hasTags(u);},_updateSelector:function(){if(!this._isSharedAlbum()&&p.isOptionSelected(this._elem)){var u=j.hasClass(this._selector,'composerAudienceSelector');u&&p.setButtonLabel(this._selector,this._label);p.setButtonTooltip(this._selector,this._tooltip);m.swapIcon(this._selector);return false;}return true;},_isSharedAlbum:function(){var u=l.scry(this._selector,'*[data-shared-album]')[0];return u&&u.getAttribute('data-shared-album');},_getTagExpansionBehavior:function(){if(this._tagExpansionBehavior)return this._tagExpansionBehavior;var u=this._priv_base_val===o.FriendsValue.SELF,v=this._priv_base_val===o.FriendsValue.EVERYONE;if(u&&this._isSharedAlbum()||v){return o.TagExpansion.NONE;}else if(this._priv_base_val<o.FriendsValue.ALL_FRIENDS)return o.TagExpansion.TAGGEES;return o.TagExpansion.FRIENDS_OF_TAGGEES;},_getTagExpansionText:function(){var u=this._getTagExpansionBehavior();if(!!this._taggedIDs.length||this._alreadyHasTags()){if(u==o.TagExpansion.FRIENDS_OF_TAGGEES){return r._("friends of anyone tagged");}else if(u==o.TagExpansion.TAGGEES)return r._("Anyone tagged");return '';}return '';},_getIncludedAudience:function(){if(this._includedAudience)return this._includedAudience;var u=this._priv_base_val===o.FriendsValue.SELF;if(u&&!this._isSharedAlbum())return r._("Only Me");return this._elem.getAttribute('data-label');},_getCombinedSentence:function(u,v){if(!v)return u;return r._("{list of people who can see this}; Except: {list of people who cannot see this}",[r.param('list of people who can see this',u),r.param('list of people who cannot see this',v)]);},_recalcFriendsTooltip:function(){var u=this._tags.length;if(u>2){return this._hasRestricted?r._("Your friends and friends of anyone tagged; Except: Restricted"):r._("Your friends and friends of anyone tagged");}else if(u==2){if(this._hasRestricted){return r._("Your friends, {user}'s friends and {user2}'s friends; Except: Restricted",[r.param('user',this._tags[0]),r.param('user2',this._tags[1])]);}else return r._("Your friends, {user}'s friends and {user2}'s friends",[r.param('user',this._tags[0]),r.param('user2',this._tags[1])]);}else if(u==1){if(this._hasRestricted){return r._("Your friends and {user}'s friends; Except: Restricted",[r.param('user',this._tags[0])]);}else return r._("Your friends and {user}'s friends",[r.param('user',this._tags[0])]);}else return this._hasRestricted?r._("Your friends; Except: Restricted"):r._("Your friends");},_recalcFriendsMinusTooltip:function(){var u=this._tags.length;if(u>0||this._alreadyHasTags()){var v=r._("friends of anyone tagged"),w=r._("{people who can see this}, {list of more people who can see this}",[r.param('people who can see this',r._("Your friends")),r.param('list of more people who can see this',v)]),x=r._("Acquaintances");if(this._hasRestricted)x=r._("{Name of Acquaintances friend list}, {restricted}",[r.param('Name of Acquaintances friend list',x),r.param('restricted',r._("Restricted"))]);return this._getCombinedSentence(w,x);}else{if(this._hasRestricted)return r._("Friends; Except: Acquaintances, Restricted");return r._("Friends except Acquaintances");}},_recalcCustomTooltip:function(){var u=this._getIncludedAudience(),v=this._getTagExpansionText();if(v)u=r._("{list of people who can see this}, {list of additional people who can see this}",[r.param('list of people who can see this',u),r.param('list of additional people who can see this',v)]);for(var w=0;w<this._taggedIDs.length;w++){x=this._taggedIDs[w];if(x in this._excludedAudience){delete this._excludedAudience[x];this._excludedTaggees[x]=this._tags[w];break;}}for(var x in this._excludedTaggees)if(this._excludedTaggees.hasOwnProperty(x))if(this._taggedIDs.indexOf(x)===-1){this._excludedAudience[x]=this._excludedTaggees[x];delete this._excludedTaggees[x];break;}var y=[];for(w in this._excludedAudience)if(this._excludedAudience.hasOwnProperty(w))y.push(this._excludedAudience[w]);return this._getCombinedSentence(u,s(y));}});f.exports=t;},null);
__d('CustomPrivacyOptionController',['Arbiter','AsyncDialog','AsyncRequest','DOM','Event','Form','Parent','PrivacyConst','PrivacySelectorOption','SelectorDeprecated','XPrivacyCustomDialogController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=Object.assign||function(u){for(var v=1;v<arguments.length;v++){var w=arguments[v];for(var x in w)if(Object.prototype.hasOwnProperty.call(w,x))u[x]=w[x];}return u;};function t(u,v){if(!u)return;setTimeout((function(){this._selector=n.byClass(u,'audienceSelector');if(!this._selector)return;this.initCustomState(u,v.option_id,v.id);var w={priv_base_val:v.base_audience_value,audience_count:v.audience_count,is_custom:true,included:v.included_audience,excluded:v.excluded_audience,tag_expansion_behavior:v.tag_expansion_behavior};this._optionJSInstance=new p(u,w);l.listen(u,'click',(function(event){this.openCustomDialog(event,v.option_id,v.explain_tags,v.autosave,v.limit_community,v.limit_facebook,v.limit_fof,v.limit_tagexpand,v.source);}).bind(this));q.listen(this._selector,'select',(function(x){if(x.option._id!=this._id)this.clearCustomState();}).bind(this));}).bind(this),0);}Object.assign(t,{_instances:{},update:function(u,v,w,x,y,z,aa,ba,ca){var da=t._instances[u];da._update(v,w)._updateOption(w,y,z,aa,ba,ca);h.inform('Form/change',{node:da._container});},getData:function(u){var v=t._instances[u];return v&&v._privacyData;},setPrivacyData:function(u,v,w){t._instances[u]._update(v,w);}});Object.assign(t.prototype,{_updateOption:function(u,v,w,x,y,z){var aa=q.getOption(this._selector,u)||q.getOption(this._selector,o.BaseValue.CUSTOM+''),ba=this._optionJSInstance.updateOption(v,w,x,y,z);h.inform('CustomPrivacyOptionController/update',{selector:this._selector,option:aa,tooltip:ba.tooltip,label:ba.label});return this;},_update:function(u,v){var w=v==o.BaseValue.CUSTOM||!q.getOption(this._selector,v),x=this._selector.getAttribute('data-name');this.updateCustomState(u,w,x);return this;},initCustomState:function(u,v,w){t._instances[v]=this;this._container=k.find(u,'.customPrivacyInputs');this._id=w;this._privacyData={};var x=m.serialize(this._container);if(x.audience)this._privacyData=x.audience[w];return u;},openCustomDialog:function(event,u,v,w,x,y,z,aa,ba){var ca=r.getURIBuilder().setString('option_id',u).setString('id',this._id).setString('privacy_data',JSON.stringify(this._privacyData)).setBool('explain_tags',v).setBool('autosave',w).setBool('limit_community',x).setBool('limit_facebook',y).setBool('limit_fof',z).setBool('limit_tagexpand',aa).setBool('is_new_privacy_selector',false).setString('source',ba).getURI(),da=new j(ca);da.setRelativeTo(event.getTarget());i.send(da,(function(ea){ea.subscribe('cancel',(function(){h.inform('CustomPrivacyOptionController/cancel',{selector:this._selector});}).bind(this));}).bind(this));},updateCustomState:function(u,v,w){this.clearCustomState();this._privacyData=s({},u);if(v)if(w){w=w.slice(0,-'[value]'.length);var x={};x[w]=u;m.createHiddenInputs(x,this._container,null,true);}},clearCustomState:function(){this._privacyData={};k.empty(this._container);}});f.exports=t;},null);
__d('AudienceSelector',['Arbiter','AsyncRequest','AudienceSelectorTags','CSS','CustomPrivacyOptionController','DOM','DynamicIconSelector','PrivacyConst','SelectorDeprecated'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q={};p.subscribe('select',function(s,t){if(!k.hasClass(t.selector,'audienceSelector'))return;var u=p.getOptionValue(t.option);t.value=u;h.inform('AudienceSelector/changed',t);if(u==o.BaseValue.CUSTOM&&!k.hasClass(t.option,'noDialog')){p.toggle(t.selector);return false;}h.inform('AudienceSelector/changedNonCustomDialogButton',t);if(k.hasClass(t.selector,'dataTooltip')){var v=m.find(t.option,'.itemAnchor').getAttribute('data-tooltip');p.setButtonTooltip(t.selector,v||null);}if(!k.hasClass(t.option,'specialOption'))return;var w=m.find(t.option,'a').getAttribute('data-type');if(k.hasClass(t.option,'moreOption')){k.addClass(t.selector,w);k.addClass(t.selector,'showSecondaryOptions');return false;}else if(k.hasClass(t.option,'returnOption')){k.removeClass(t.selector,'showSecondaryOptions');k.removeClass(t.selector,'friendList');return false;}});var r={keepSynchronized:function(s,t){q[s]||(q[s]={});q[s][t.id]=t;},setHasTags:function(s){j.setHasTags(s);},getComposerInstance:function(){var s=q['PrivacyLiteNav/audience'];if(s){var t;for(var u in s){t=s[u];return t;}}return null;},forceAndKeepSynchronized:function(s,t){r.keepSynchronized(s,t);h.inform('AudienceSelector/update',{option:p.getSelectedOptions(t)[0],selector:t});},get:function(s){if(k.hasClass(s,'audienceSelector'))return s;var t=m.scry(s,'div.audienceSelector');if(t.length!=1)return;return t[0];},setAudience:function(s,t){var u=r.get(s);p.loadMenu(u,function(v){p.setSelected(u,t.toString());n.swapIcon(u);var w=p.getSelectedOptions(u),x=w[0]&&m.find(w[0],'a');if(x&&x.getAttribute('ajaxify'))i.bootstrap(x.getAttribute('ajaxify'),x,true);h.inform('AudienceSelector/changed',{option:w[0],selector:u});});}};h.subscribe('CustomPrivacyOptionController/update',function(s,t){if(!k.hasClass(t.selector,'audienceSelector'))return;p.setSelected(t.selector,p.getOptionValue(t.option));n.swapIcon(t.selector);var u=k.hasClass(t.selector,'composerAudienceSelector'),v=k.hasClass(t.selector,'inlineAudienceWidget');if(u||v)p.setButtonLabel(t.selector,t.label);p.setButtonTooltip(t.selector,t.tooltip);h.inform('AudienceSelector/update',t);});h.subscribe(['AudienceSelector/changed','AudienceSelector/update'],function(event,s){var t=p.getOptionValue(s.option),u={};if(t==o.BaseValue.CUSTOM){if(event=='AudienceSelector/changed')return;u=l.getData(s.option.id);if(!u)return;}else if(k.hasClass(s.selector,'inlineAudienceWidget'))p.setButtonLabel(s.selector,s.option.innerText);for(var v in q){var w=q[v];if(w[s.selector.id]){h.inform('AudienceSelector/syncNonSelectorIcon',{category:v});for(var x in w){var y=w[x];if(!y||s.selector===y)continue;if(p.getValue(y)!==t){p.setSelected(y,t);n.swapIcon(y);}if(t==o.BaseValue.CUSTOM){var z=p.getOption(y,o.BaseValue.CUSTOM+'');if(z){l.setPrivacyData(z.id,u,t);p.setButtonTooltip(y,s.tooltip);}}}}}});f.exports=r;},null);
__d("XStickyComposerChangeController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/sticky_composer\/change\/",{privacyx:{type:"String"},logging_source:{type:"String"}});},null,{});
__d('PrivacySelector',['Arbiter','ArbiterMixin','AsyncRequest','AudienceSelector','CSS','DOM','PrivacyConst','DataStore','PrivacySelectorNewDispatcher','Run','SelectorDeprecated','SubscriptionsHandler','XStickyComposerChangeController','cx','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w,x;w=v(i);x=w&&w.prototype;Object.assign(y,w);y.prototype=Object.create(w.prototype);y.prototype.constructor=y;y.__superConstructor__=w;function y(z,aa){'use strict';x.constructor.call(this);this.$PrivacySelector1=aa;if(aa){this.$PrivacySelector2=z;}else this.$PrivacySelector3=z;this.$PrivacySelector4=null;this.$PrivacySelector5=new s();this.$PrivacySelector6=new s();if(this.$PrivacySelector1){this.$PrivacySelector7();}else this.$PrivacySelector8();q.onLeave(this.cleanup.bind(this));}y.prototype.select=function(z,aa,ba){'use strict';if(!z||!aa)throw new Error('PrivacySelector.select: you must pass in privacyParam '+'and privacyBase');if(this.$PrivacySelector1){if(ba)this.$PrivacySelector5.addSubscriptions(this.$PrivacySelector2.subscribeOnce('changed',function(ca,da){ba('changed',{post_param:da.post_param});}));this.$PrivacySelector2.selectOption(z);}else{if(ba)this.$PrivacySelector6.addSubscriptions(h.subscribe('AudienceSelector/changed',(function(ca,da){if(this.$PrivacySelector9(da.selector)){var ea=r.getOptionValue(da.option);ba('changed',{privacy_base:ea});}}).bind(this)));k.setAudience(this.$PrivacySelector3,aa);}};y.prototype.expandFull=function(z){'use strict';if(this.$PrivacySelector1){this.$PrivacySelector2.openSelectorExpanded(z);}else this.expand(z);};y.prototype.expandFullAndShowFlyout=function(z){'use strict';this.expandFull(this.showFlyoutOnMenu.bind(this,z));};y.prototype.expand=function(z){'use strict';if(this.$PrivacySelector1){this.$PrivacySelector2.openSelector(z);}else{var aa=r.getSelectorMenu(this.$PrivacySelector3);if(!aa){r.loadMenu(this.$PrivacySelector3,function(){z&&z();});}else this.$PrivacySelector6.addSubscriptions(r.listen(this.$PrivacySelector3,'open',(function(){z&&z();this.$PrivacySelector9(this.$PrivacySelector3);}).bind(this)));r.toggle(this.$PrivacySelector3,z);}};y.prototype.showFlyoutOnMenu=function(z){'use strict';this.$PrivacySelector10&&this.$PrivacySelector10.hide();this.$PrivacySelector10=z;var aa;if(this.$PrivacySelector1){aa=this.$PrivacySelector2.getMenuElement();z.setOffsetY(85);}else{aa=m.scry(this.$PrivacySelector3,'div.uiSelectorMenuWrapper')[0];z.setOffsetY(13);}z.setContext(aa);z.show();};y.prototype.setOnClose=function(z){'use strict';this.$PrivacySelector4=z;};y.prototype.cleanup=function(){'use strict';this.$PrivacySelector5.release();this.$PrivacySelector5=new s();this.$PrivacySelector6.release();this.$PrivacySelector6=new s();this.$PrivacySelector10&&this.$PrivacySelector10.hide();this.$PrivacySelector10=null;this.$PrivacySelector4=null;};y.get=function(z){'use strict';if(!z)return;var aa=o.get(z,'selector');if(!aa){z=y.getDOMFromStory(z);if(!z)return;aa=o.get(z,'selector');}if(aa)return new y(aa,true);return new y(z,false);};y.getAdamaSelectorInstance=function(z){'use strict';if(!z)return;var aa=o.get(z,'selector');if(!aa){z=y.getDOMFromStory(z);if(!z)return;aa=o.get(z,'selector');}return aa;};y.getDOMFromStory=function(z){'use strict';if(!z)return;var aa=m.scry(z,"._43_1")[0];if(aa)return aa;return k.get(z);};y.getIconFromSelectorDOM=function(z){'use strict';return m.scry(z,'i.img')[0];};y.setComposerPrivacy=function(z,aa,ba){'use strict';var ca=t.getURIBuilder().setString('privacyx',z);ba&&ca.setString('logging_source',ba);new j(ca.getURI()).send();p.handleUpdateFromSelector({selector_type:n.PrivacyField.CURRENT_COMPOSER,post_param:z,unique_value:'_updateStickyComposerPrivacy'});var da=k.getComposerInstance(aa);if(da)k.setAudience(da,aa);};y.prototype.$PrivacySelector7=function(){'use strict';this.$PrivacySelector5.addSubscriptions(this.$PrivacySelector2.subscribe('changed',(function(z,aa){this.inform('changed',{post_param:aa.post_param});}).bind(this)),this.$PrivacySelector2.subscribe('selectorFinished',(function(){this.$PrivacySelector4&&this.$PrivacySelector4();}).bind(this)));};y.prototype.$PrivacySelector8=function(){'use strict';this.$PrivacySelector5.addSubscriptions(h.subscribe('AudienceSelector/update',(function(z,aa){if(this.$PrivacySelector3!==aa.selector)return;var ba=r.getOptionValue(aa.option);this.inform('changed',{privacy_base:ba});}).bind(this)),h.subscribe('AudienceSelector/changed',(function(z,aa){if(this.$PrivacySelector3!==aa.selector)return;if(l.hasClass(aa.option,'moreOption')||l.hasClass(aa.option,'returnOption'))return;if(aa.value!=n.BaseValue.CUSTOM){this.inform('changed',{privacy_base:aa.value});}else if(aa.value==n.BaseValue.CUSTOM)this.$PrivacySelector11=true;}).bind(this)),r.listen(this.$PrivacySelector3,'close',(function(){if(this.$PrivacySelector11){this.$PrivacySelector11=false;return;}this.$PrivacySelector4&&this.$PrivacySelector4();}).bind(this)),h.subscribe('CustomPrivacyOptionController/cancel',(function(z,aa){if(this.$PrivacySelector3!==aa.selector)return;this.$PrivacySelector4&&this.$PrivacySelector4();}).bind(this)));};y.prototype.$PrivacySelector9=function(z){'use strict';if(z!=this.$PrivacySelector3)return false;this.$PrivacySelector6.release();this.$PrivacySelector6=new s();return true;};f.exports=y;},null);
__d('ComposerX',['ActorURI','Arbiter','ComposerXAttachmentBootstrap','ComposerXContext','ComposerXMarauderLogger','ComposerXSessionIDs','ComposerXSessionIDInserter','ComposerXStore','CSS','DOM','DOMQuery','PrivacyConst','PrivacySelector','PrivacySelectorNewDispatcher','URI','SubscriptionsHandler','arrayContains','csx','cx','getObjectValues','removeFromArray'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){if(c.__markCompiled)c.__markCompiled();var ca='any';function da(ea){'use strict';this._root=ea;this._composerID=ea.id;this._attachments={};this._context=new k({});m.resetSessionID(this._composerID);n.init(this._root);this._subscriptionsHandler=new w();this._subscriptionsHandler.addSubscriptions(i.subscribe(['composer/publish','composer/close'],(function(fa,ga){if(ga.composer_id===this._composerID)this.reset();}).bind(this)));this._subscriptionsHandler.addSubscriptions.apply(this._subscriptionsHandler,l.listenForPostEvents(this._composerID,this._getContent()));this._attachmentFetchForm=r.find(ea,"._2_4");}da.prototype.getAttachment=function(ea,fa,ga){'use strict';ea=this._augmentURI(ea);var ha=j.getURIHash(ea);this._endpointHashToShow=ha;var ia=this._attachments[ha];if(ia){this._showAttachmentAfterComponentsLoaded(ha,ga);}else this.fetchAttachmentData(ea,fa);};da.prototype.fetchAttachmentData=function(ea,fa){'use strict';ea=this._augmentURI(ea);var ga=j.getURIHash(ea);if(this._attachments[ga])return;if(!x(this._currentFetchEndpoints,ga)){j.load(this._attachmentFetchForm,ea,fa);this._currentFetchEndpoints.push(ga);}};da.prototype.setAttachment=function(ea,fa,ga,ha){'use strict';ba(this._currentFetchEndpoints,ea);this._setupAttachment(ea,fa,ga,ha);this._showAttachmentAfterComponentsLoaded(ea,false);};da.prototype.setInitialAttachment=function(ea,fa,ga,ha,ia){'use strict';if(ia)this._context=ia;ea=this._augmentURI(ea);var ja=j.getURIHash(ea);this._setupAttachment(ja,fa,ga,ha);this._initialAttachmentEndpoint=ea;if(!this._currentInstance)this._showAttachmentAfterComponentsLoaded(ja,true);};da.prototype.setComponent=function(ea,fa){'use strict';if(!o.get(this._composerID,ea)){o.set(this._composerID,ea,fa);q.appendContent(this._attachmentFetchForm,q.create('input',{type:'hidden',name:'loaded_components[]',value:ea}));}};da.prototype.reset=function(){'use strict';if(this._currentInstance){this._currentInstance.cleanup();this._currentInstance=null;}m.resetSessionID(this._composerID);for(var ea in this._attachments)this._attachments[ea].instance.reset();var fa=o.getAllForComposer(this._composerID);aa(fa).forEach(function(ja){if(ja.reset)ja.reset(ja);});var ga=t.getAdamaSelectorInstance(q.scry(this._root,"div._1lo2")[0]),ha=o.get(this._composerID,'mainprivacywidget'),ia=ha&&ha.instance&&ha.instance.getInstance();if(ga){ia.setInstance(ga);}else ga=ia&&ia.getInstance();if(ga&&ga.shouldReplaceOnPost())if(ga.isComposerWithDefault()){ga.selectDefaultOption();u.handleUpdateFromSelector({selector_type:s.PrivacyField.DEFAULT_COMPOSER.toString(),post_param:'',unique_id:'_reloadDefaultSelectors',reload:true});}else u.handleUpdateFromSelector({selector_type:s.PrivacyField.CURRENT_COMPOSER.toString(),post_param:'',unique_id:'_reloadStickySelectors',reload:true});this.getAttachment(this._initialAttachmentEndpoint,false,true);i.inform('composer/reset');};da.prototype.destroy=function(){'use strict';this._subscriptionsHandler.release();};da.prototype.addPlaceholders=function(ea,fa){'use strict';var ga;for(var ha in this._attachments){ga=this._attachments[ha];if(ga.instance===ea){fa.forEach(function(ia){ga.placeholders.push(ia);ga.required_components.push(ia.component_name);});break;}}if(this._currentInstance===ea)this._fillPlaceholders(fa);};da.prototype.hasAttachmentWithClassName=function(ea){'use strict';return r.scry(this._root,'.'+ea).length>0;};da.prototype.showAttachmentThrobber=function(){'use strict';p.addClass(this._attachmentFetchForm,'async_saving');};da.prototype.hideAttachmentThrobber=function(){'use strict';p.removeClass(this._attachmentFetchForm,'async_saving');};da.prototype.getContext=function(){'use strict';return this._context;};da.prototype.getID=function(){'use strict';return this._composerID;};da.prototype._setupAttachment=function(ea,fa,ga,ha){'use strict';fa.setComposerID(this._composerID);this._attachments[ea]={instance:fa,placeholders:ga,required_components:ha};var ia=this._getContent(),ja=fa.getRoot();if(ja.parentNode!==ia){p.hide(ja);q.appendContent(ia,ja);}};da.prototype._getContent=function(){'use strict';return r.find(this._root,"div._55d0");};da.prototype._showAttachment=function(ea,fa,ga,ha){'use strict';if(this._currentInstance===ea)return;if(this._endpointHashToShow===ca){this._endpointHashToShow=null;}else if(this._endpointHashToShow!==fa)return;if(this._currentInstance){if(!this._currentInstance.canSwitchAway())return;this._currentInstance.cleanup();}this._currentInstance=ea;var ia=this._getContent().childNodes,ja=ea.getRoot();for(var ka=0;ka<ia.length;ka++)if(ia[ka]!==ja)p.hide(ia[ka]);p.show(ja);this._fillPlaceholders(ga);ea.initWithComponents(ha);this._setAttachmentSelectedClass(ea.attachmentClassName);i.inform('composer/initializedAttachment',{composerRoot:this._root,isInitial:ha});};da.prototype._showAttachmentAfterComponentsLoaded=function(ea,fa){'use strict';var ga=this._attachments[ea];o.waitForComponents(this._composerID,ga.required_components,this._showAttachment.bind(this,ga.instance,ea,ga.placeholders,fa));};da.prototype._fillPlaceholders=function(ea){'use strict';ea.forEach((function(fa){var ga=o.get(this._composerID,fa.component_name);if(ga.element&&fa.element!==ga.element.parentNode)q.setContent(fa.element,ga.element);}).bind(this));};da.prototype._setAttachmentSelectedClass=function(ea){'use strict';var fa=r.scry(this._root,"._519b")[0],ga;if(fa){p.removeClass(fa,"_519b");ga=r.scry(fa,'*[aria-pressed="true"]')[0];if(ga)ga.setAttribute('aria-pressed','false');}if(ea){var ha=r.scry(this._root,'.'+ea)[0];if(ha){p.addClass(ha,"_519b");ga=r.scry(ha,'*[aria-pressed="false"]')[0];if(ga)ga.setAttribute('aria-pressed','true');}}};da.prototype._augmentURI=function(ea){'use strict';var fa=this._context.getProperty(k.PROPERTIES.ACTOR_ID),ga=fa?h.create(ea,fa):new v(ea),ha=this._context.getProperty(k.PROPERTIES.POST_ID);if(ha)ga.addQueryData('post_id',ha);return ga.toString();};Object.assign(da.prototype,{_endpointHashToShow:ca,_currentFetchEndpoints:[],_initialAttachmentEndpoint:''});f.exports=da;},null);
__d('ComposerXAttachment',['ComposerXStore'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(){'use strict';}i.prototype.getRoot=function(){'use strict';};i.prototype.initWithComponents=function(j){'use strict';};i.prototype.cleanup=function(){'use strict';};i.prototype.reset=function(){'use strict';};i.prototype.getComponent=function(j){'use strict';return h.get(this._composerID,j);};i.prototype.getComponentInstance=function(j){'use strict';var k=h.get(this._composerID,j);return k&&k.instance;};i.prototype.canSwitchAway=function(){'use strict';return true;};i.prototype.setComposerID=function(j){'use strict';this._composerID=j;};i.prototype.getComposerID=function(){'use strict';return this._composerID;};i.prototype.allowOGTagPreview=function(){'use strict';return false;};Object.assign(i.prototype,{attachmentClassName:''});f.exports=i;},null);
__d('registerForLeaveWarning',['PageTransitions','Run','URI','createCancelableFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(o){var p=j.getNextURI(),q=k(o);i.onBeforeUnload(function(){return n(q,p);});return q;}function n(o,p){var q=h.getMostRecentURI(),r=j.getNextURI(),s=q.getQueryData().hasOwnProperty('theater')&&p.path===r.path,t=r.getQueryData().hasOwnProperty('theater'),u=b.DialogNavigationStack&&b.DialogNavigationStack.isActiveURI(r);if(s||t||u){i.onAfterLoad(function(){i.onBeforeUnload(function(){return n(o,p);});});return;}if(b.Dialog&&b.Dialog.getCurrent())return;if(o())return l._("You haven't finished your post yet. Do you want to leave without finishing?");}f.exports=m;},null);
__d('ComposerXController',['ActorURI','Arbiter','ComposerX','ComposerXMarauderLogger','ComposerXAttachmentBootstrap','ComposerXContext','Event','Parent','$','cx','emptyFunction','ge','invariant','registerForLeaveWarning'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v={},w={},x={};function y(ca){var da=s(ca);if(!da)return null;var ea=o.byClass(p(ca),"_119"),fa=ea.id;if(!x[fa])x[fa]=new j(ea);return x[fa];}function z(ca){var da=y(ca);!(da!==null)?t(0):undefined;return da;}function aa(ca){if(!w[ca])return;w[ca].forEach(function(da){return da.cancel();});delete w[ca];}var ba={registerConditionForComposerCancel:function(ca,da){var ea=z(ca).getID();if(!(ea in v))v[ea]=[];v[ea].push(da);if(!(ea in w))w[ea]=[];w[ea].push(u(da));},hasChanges:function(ca){var da=v[ca];if(!da)return false;return da.some(function(ea){return ea();});},getAttachment:function(ca,da,ea){var fa=z(ca);fa.getAttachment(da,ea);},fetchAttachmentData:function(ca,da,ea){z(ca).fetchAttachmentData(da,ea);},setAttachment:function(ca,da,ea,fa,ga){var ha=y(ca);if(ha)ha.setAttachment(da,ea,fa,ga);},setInitialAttachment:function(ca,da,ea,fa,ga,ha){var ia=z(ca);ia.setInitialAttachment(da,ea,fa,ga,ha);},setComponent:function(ca,da,ea){var fa=y(ca);if(fa)fa.setComponent(da,ea);},reset:function(ca){var da=z(ca);da.reset();},holdTheMarkup:r,getEndpoint:function(ca,da,ea){var fa=z(ca),ga=fa.getContext();da=h.create(da,ga.getProperty(m.PROPERTIES.ACTOR_ID)).toString();l.load(fa._attachmentFetchForm,da,ea);},addPlaceholders:function(ca,da,ea){var fa=z(ca);fa.addPlaceholders(da,ea);},hasAttachmentWithClassName:function(ca,da){var ea=z(ca);return ea.hasAttachmentWithClassName(da);},showAttachmentThrobber:function(ca){var da=z(ca);da.showAttachmentThrobber();},hideAttachmentThrobber:function(ca){var da=z(ca);da.hideAttachmentThrobber();},logEventForElement:function(ca,da){n.listen(ca,'click',function(){var ea=ba.getComposerID(ca);k.logEvent(da,ea);});},getComposerID:function(ca){return z(ca).getID();},destroyComposer:function(ca){if(!(ca in x))return;x[ca].destroy();delete x[ca];delete v[ca];aa(ca);}};l.bootstrap=function(ca){ba.getAttachment(ca,ca.getAttribute('data-endpoint'));};i.subscribe('page_transition',function(){for(var ca in x)if(!s(ca))ba.destroyComposer(ca);});f.exports=ba;},null);
__d('ComposerXAttachmentButtonBarState',['CSS','DOMQuery','csx','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={trackCityChanges:function(m){var n=m.getComponent('citysharericon');if(n)return n.instance.subscribe('change',function(){l.updateMessageBoxBarState(m);});},updateMessageBoxBarState:function(m){var n=m.getComponent('citysharericon');if(n){var o=i.find(m.getRoot(),"._1dsp");h.conditionClass(o,"_icv",!!n.instance.getValue());}}};f.exports=l;},null);
__d('ComposerXAttachmentPrefillMixin',['Event','InputSelection'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={_initPrefill:function(k,l){this._textArea=k;this._didInitialFocus=false;this._prefill=l;if(this._prefill)this._focusListener=h.listen(this._textArea,'focus',this._prefillOnFocus.bind(this));},_resetPrefill:function(){this._didInitialFocus=false;},_prefillOnFocus:function(){if(!this._didInitialFocus&&this._prefill&&this._textArea.value===''){this._textArea.value=this._prefill;i.set(this._textArea,0,0);}this._didInitialFocus=true;}};f.exports=j;},null);
__d('ComposerXAttachmentUtils',['BrowserSupport','Button','ComposerXController','DataStore','DOMQuery','Event','Focus','Keys','Run','StickyPlaceholderInput','UserAgent_DEPRECATED','csx','debounce'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u='composer_fixed_placeholder';function v(x,y){if(!k.get(x.element,u,false))x.instance.setPlaceholder(y);}var w={initMentions:function(x,y,z,aa){v(x,y);if(!aa||!aa.dontFocusMentions)w.focusMentions(x);this.registerMentionsForComposerCancel(x,z);},focusMentions:function(x){var y=l.find(x.element,'textarea.input');n.set(y);},registerMentionsForComposerCancel:function(x,y){j.registerConditionForComposerCancel(y,x.instance.hasChanges.bind(x.instance));},setStickyPlaceholderForMentions:function(x,y){v(x,y);},setPlaceholderIsFixed:function(x,y){k.set(x.element,u,!!y);},setStickyPlaceholderForTypeahead:function(x,y){var z=l.find(x,'.textInput');q.setPlaceholderText(z,y);},listenForPostSubmission:function(x){m.listen(x,'keydown',function(event){var y=event.getModifiers(),z=r.osx()?y.meta:y.control,aa=l.find(x.form,"._11b"+'[type="submit"]');if(event.keyCode===o.RETURN&&z&&i.isEnabled(aa)){x.blur();if(m.fire(aa,'click'))m.fire(x.form,'submit');event.preventDefault();}});},disableSaveOnEmpty:function(x,y){var z=l.find(x,'.textInput'),aa=t(function(ca){i.setEnabled(y,z.value.trim().length!==0);},50),ba=[];ba.push(m.listen(z,'keyup',aa));if(h.hasClipboardEvents()){ba.push(m.listen(z,'cut',aa));ba.push(m.listen(z,'paste',aa));}else{ba.push(m.listen(z,'mouseout',aa));ba.push(m.listen(z,'mousemove',aa));}p.onUnload(function(){for(var ca=0;ca<ba.length;ca++)ba[ca].remove();ba=null;});}};f.exports=w;},null);
__d('ComposerXAttachmentWithPreviews',['Arbiter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={initPreviewButton:function(j,k){h.inform('page_composer_preview_form_initialized',j);}};f.exports=i;},null);
__d('isAnimatedGif',['Promise'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=1e+06;function j(n){return n[0]===71&&n[1]===73&&n[2]===70;}function k(n,o){return n[o]===0&&n[o+1]===33&&n[o+2]===249&&n[o+3]===4&&n[o+8]===0&&(n[o+9]===44||n[o+9]===33);}function l(n){if(!j(n))return false;var o=0;for(var p=0;p+9<n.length;++p){if(k(n,p))o++;if(o>1)return true;}return false;}function m(n){return new h(function(o){var p=new FileReader();p.onloadend=function(s){if(s.target.readyState==FileReader.DONE){var t=new Uint8Array(s.target.result);if(l(t)){o(true);}else o(false);}};p.onerror=function(s){o(false);};var q=Math.min(i,n.size),r=n.slice(0,q);p.readAsArrayBuffer(r);});}f.exports=m;},null);
__d('ComposerXMediaUploadHandler',['Arbiter','AsyncRequest','ComposerXAjaxEndpoint','ComposerXController','CSS','Dialog','ImageExtensions','SubscriptionsHandler','URI','VideoUploadConfig','VideoUploadFile','fbt','isAnimatedGif'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=j.MEDIA_UPLOAD,v='/ajax/composerx/attachment/video/upload/',w=0;function x(y,z){'use strict';this.$ComposerXMediaUploadHandler1=y;this.$ComposerXMediaUploadHandler2=z;}x.prototype.fetchAttachments=function(){'use strict';[this.getPhotoUploadAttachmentEndpoint(),v].forEach((function(y){k.fetchAttachmentData(this.$ComposerXMediaUploadHandler1,y);}).bind(this));};x.prototype.handleFileSelected=function(y){'use strict';var z=this;x.isVideoOrAnimatedGifAsync(y,function(aa){if(aa){z.handleVideoSelected(y);}else z.handlePhotoSelected(y);});};x.canUploadAnimatedGIF=function(){'use strict';return n.GIF in q.videoExtensions;};x.isVideoOrAnimatedGifAsync=function(y,z){'use strict';var aa=r.getExtensionFromFileInput(y.getInput());if(x.canUploadAnimatedGIF()&&aa===n.GIF){t(y.getInput().files[0]).then(z);}else if(q.videoExtensions[aa]){z(true);}else z(false);};x.prototype.handleVideoSelected=function(y){'use strict';if(this.$ComposerXMediaUploadHandler2&&this.$ComposerXMediaUploadHandler2.imagesOnly){var z=new m().setModal(true).setButtons([m.OK]);if(this.$ComposerXMediaUploadHandler2.isEditComposer){z.setTitle(s._("Can't add video")).setBody(s._("Sorry, you can't add a video to a post you're editing."));}else z.setTitle(s._("Invalid Image File")).setBody(s._("Please upload a valid image file."));z.show();return;}k.getAttachment(this.$ComposerXMediaUploadHandler1,v);h.inform('ComposerXFilesStore/filesAdded/'+this.$ComposerXMediaUploadHandler1+'/videoupload',{fileInput:y},h.BEHAVIOR_PERSISTENT);};x.prototype.handlePhotoSelected=function(y){'use strict';k.getAttachment(this.$ComposerXMediaUploadHandler1,this.getPhotoUploadAttachmentEndpoint());x.$ComposerXMediaUploadHandler3(this.$ComposerXMediaUploadHandler1,y);};x.isVideoFile=function(y){'use strict';var z=r.getExtensionFromFileInput(y.getInput());return !!q.videoExtensions[z];};x.prototype.$ComposerXMediaUploadHandler4=function(){'use strict';return this.$ComposerXMediaUploadHandler2?this.$ComposerXMediaUploadHandler2.photoUploadOverrideEndpoint:null;};x.prototype.getPhotoUploadAttachmentEndpoint=function(){'use strict';var y=this.$ComposerXMediaUploadHandler4();return y?y:u;};x.$ComposerXMediaUploadHandler3=function(y,z){'use strict';h.inform('ComposerXFilesStore/filesAdded/'+y+'/mediaupload',{fileInput:z,receivedBySubscriber:false},h.BEHAVIOR_PERSISTENT);};x.setupFileUploadToComposerDialog=function(y,z,aa){'use strict';var ba='composerxmediauploadhandler'+(w++),ca=function(fa){l.conditionClass(y.getControl(),aa,fa);y.getInput().disabled=fa;},da=new p(z),ea=da.getQueryData();ea.client_ref=ba;da.setQueryData(ea);z=da.toString();y.subscribe('change',function(){new i().setURI(z).setErrorHandler(function(){y.clear();ca(false);}).send();ca(true);});h.subscribe('composer/dialog/'+ba+'/new',(function(fa,ga){this.$ComposerXMediaUploadHandler3(ga.composerID,y);var ha=new o();ha.addSubscriptions(h.subscribe('composer/publish',function(event,ia){if(ga.composerID===ia.composer_id)b.location.reload();}),ga.dialog.subscribe('hide',function(){ha.release();y.clear();ca(false);}));}).bind(this));};f.exports=x;},null);
__d('ComposerXDragDrop',['Arbiter','ClipboardPhotoUploader','ComposerXAjaxEndpoint','ComposerXController','ComposerXDragDropUtils','ComposerXMediaUploadHandler','DragDropTarget','ErrorDialog','Event','Promise','PUWMethods','URI','fbt','isAnimatedGif'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=j.MEDIA_UPLOAD,w=j.VIDEO_UPLOAD,x='/ajax/composerx/attachment/link/scraper/',y=function(aa){aa();};function z(aa,ba,ca,da){'use strict';this._root=aa;this._composerID=ba;this._targetID=ca;da=da||y;this._activatePasteHandler();this._dragdrop=new n(aa).setOnFilesDropCallback((function(ea){da(this._dropFiles.bind(this,ea));}).bind(this)).setFileFilter(l.filterImages).enable();l.handleDragEnterAndLeave(aa);h.subscribe('composer/deactivateDragdrop',(function(){this.deactivate();}).bind(this));h.subscribe('composer/reactivateDragdrop',(function(){this.reactivate();}).bind(this));}z.prototype.enableURLDropping=function(){'use strict';this._dragdrop.setOnURLDropCallback(this._onURLDrop.bind(this));};z.prototype.deactivate=function(){'use strict';this._dragdrop.disable();this._deactivatePasteHandler();};z.prototype.reactivate=function(){'use strict';this._activatePasteHandler();this._dragdrop.enable();};z.prototype._activatePasteHandler=function(){'use strict';if(this._pasteHandler)return;this._pasteHandler=p.listen(this._root,'paste',(function(event){var aa=i.getImages(event);if(!aa.length)return;this._uploadFiles(aa,r.COPYPASTE);}).bind(this));};z.prototype._deactivatePasteHandler=function(){'use strict';if(!this._pasteHandler)return;this._pasteHandler.remove();delete this._pasteHandler;};z.prototype._uploadFiles=function(aa,ba,ca){'use strict';if(ca){k.getAttachment(this._root,w);h.inform('ComposerXFilesStore/filesDropped/'+this._composerID+'/videoupload',{files:aa},h.BEHAVIOR_PERSISTENT);}else{k.getAttachment(this._root,v);h.inform('ComposerXFilesStore/filesDropped/'+this._composerID+'/mediaupload',{files:aa,method:ba},h.BEHAVIOR_PERSISTENT);}};z.prototype._dropFiles=function(aa){'use strict';var ba=aa.map(function(ca){return new q(function(da){if(ca.type==='image/gif'&&m.canUploadAnimatedGIF()){da(u(ca));}else if(ca.type.match('video/*')){da(true);}else da(false);});});q.all(ba).then((function(ca){if(this.validateMediaTypes(ca))this._uploadFiles(aa,r.DRAGDROP,ca[0]);}).bind(this));};z.prototype._onURLDrop=function(aa){'use strict';var ba=new s(x);ba.addQueryData({scrape_url:encodeURIComponent(aa)});k.getAttachment(this._root,ba.toString());};z.prototype.validateMediaTypes=function(aa){'use strict';if(aa.length>1){var ba=false,ca=false;for(var da=0;da<aa.length;da++)if(aa[da]){ba=true;}else ca=true;if(ba&&ca){o.show(t._("Can't upload both videos and images"),t._("Please select either one video or one or more images."));return false;}}return true;};f.exports=z;},null);
__d('PagesComposerEntryLogger',['Event','PagesEventObserver'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this.$PagesComposerEntryLogger1=k;}j.prototype.registerForContentEntryEvents=function(k){'use strict';var l=function(){var m={page_id:this.$PagesComposerEntryLogger1,event_name:'composer_content_entry',pages_composer:1,target_id:this.$PagesComposerEntryLogger1};i.logData_DEPRECATED(m,i.VITAL_WAIT);this.unregister();};this.$PagesComposerEntryLogger2=h.listen(k,{paste:l.bind(this),keydown:l.bind(this)});};j.prototype.unregister=function(){'use strict';if(!this.$PagesComposerEntryLogger2)return;for(var event in this.$PagesComposerEntryLogger2)this.$PagesComposerEntryLogger2[event].remove();this.$PagesComposerEntryLogger2=null;};f.exports=j;},null);
__d("XPrivacyRemindersImpressionLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/reminders\/log_imp\/",{type:{type:"String",required:true}});},null,{});
__d('ComposerXBootloadStatusAttachment',['requireWeak','Arbiter','AsyncRequest','BanzaiLogger','Bootloader','ComposerXAttachment','ComposerXAttachmentButtonBarState','ComposerXAttachmentPrefillMixin','ComposerXAttachmentUtils','ComposerXAttachmentWithPreviews','ComposerXController','ComposerXDragDrop','ComposerXDragDropUtils','ComposerXMarauderLogger','ComposerXStore','CSS','DOM','DOMQuery','Event','Focus','ForceFetchAfterLongInactiveQE','NoNewerStoryInsertionWhileComposingGK','PageTransitions','PagesComposerEntryLogger','Parent','FocusListener','PrivacyConst','PrivacyRemindersLoggingTypes','ProductionPromptConfig','SelectorDeprecated','SubscriptionsHandler','SuggestionConfig','SuggestionUIPresentation','URI','XUIError','$','classWithMixins','createCancelableFunction','csx','cx','fbt','getActiveElement','mixin','requestAnimationFrame','XPrivacyRemindersDismissController','XPrivacyRemindersImpressionLoggingController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab){if(c.__markCompiled)c.__markCompiled();var bb,cb,db;h('LitestandStoryInsertionStatus',function(hb){db=hb;});var eb={only_me:{PRIVACY_CONSTANT:[ha.BaseValue.SELF],LOG_IMPRESSION:ia.ONLY_ME_IMPRESSION,LOG_CONVERSION:ia.ONLY_ME_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},everyone:{PRIVACY_CONSTANT:[ha.BaseValue.EVERYONE],LOG_IMPRESSION:ia.EVERYONE_IMPRESSION,LOG_CONVERSION:ia.EVERYONE_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},delta_everyone:{PRIVACY_CONSTANT:[ha.BaseValue.EVERYONE],LOG_IMPRESSION:ia.DELTA_EVERYONE_IMPRESSION,LOG_CONVERSION:ia.DELTA_EVERYONE_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},everyone_tests:{PRIVACY_CONSTANT:[ha.BaseValue.EVERYONE],LOG_IMPRESSION:ia.EVERYONE_TESTS_IMPRESSION,LOG_CONVERSION:ia.EVERYONE_TESTS_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true},public_posting_filter_nux:{PRIVACY_CONSTANT:[ha.BaseValue.EVERYONE],LOG_IMPRESSION:ia.PUBLIC_POSTING_FILTER_NUX_IMPRESSION,LOG_CONVERSION:ia.PUBLIC_POSTING_FILTER_NUX_CONVERSION,LOG_IMPRESSION_TO_DISMISS_ENDPOINT:true}},fb={};bb=ra(m,xa(o,q));cb=bb&&bb.prototype;Object.assign(gb,bb);gb.prototype=Object.create(bb.prototype);gb.prototype.constructor=gb;gb.__superConstructor__=bb;function gb(hb,ib){'use strict';cb.constructor.call(this);this._root=hb;this._config=ib;this._privacyReminders={};this._onSelectorChange=this._onSelectorChange.bind(this);if(db&&ca.no_insertion_while_composing)if(ba.forceRefresh){db.registerBlocker((function(){return this._isEditing();}).bind(this));}else db.registerBlocker((function(){return this._isFocused();}).bind(this));}gb.prototype.getRoot=function(){'use strict';return this._root;};gb.prototype.getPrivacyInstance=function(){'use strict';return this._newPrivacyWidgetInstance;};gb.prototype._getTextArea=function(){'use strict';return y.find(this.getComponent('maininput').element,'textarea.input');};gb.prototype.initWithComponents=function(hb){'use strict';fb[this._composerID]=this;this._attachmentIsActive=true;var ib=this._getTextArea(),jb=y.scry(fa.byClass(this.getRoot(),"_119"),'li.'+this.attachmentClassName)[0];this._focusListener=z.listen(ib,'focus',this._onFocus.bind(this,'area_focus'));if(this._config.prefill_text)this._initPrefill(ib,this._config.prefill_text);if(hb&&this._config.targetIsPage){this._pagesComposerEntryLogger=new ea(this._config.targetID);this._pagesComposerEntryLogger.registerForContentEntryEvents(ib);}if(this._fullVersion){this._fullInitWithComponents();}else if(!this._bootloading)if(this._isFocused()){this._onFocus('is_focused');}else if(jb)this._clickListener=z.listen(jb,'click',(function(){aa.set(ib);}).bind(this));this._dragEnterHandler=i.subscribe('dragenter',(function(kb,lb){if(lb.element==this._root){i.inform('composerprivacy/aborteducation');var mb=lb.event.dataTransfer.items,nb;if(mb)nb=t.filterImages(mb);if(nb&&nb.length>0){aa.set(ib);}else{var ob=fa.byClass(this._root,'focus_target');ga.expandInput(ob);this._onFocus('drag_focus');}}}).bind(this));this.getComponent('maininput').instance.setPlaceholder(this._config.mentionsPlaceholder);if(!hb)aa.set(ib);if(this._config.plus_version){this._dragdrop=new s(this._root,this._composerID,this._config.targetID);this._dragdrop.enableURLDropping();}this._initPrivacyWidgetInstance();if(this._config.postActionsButton!=null)this._config.postActionsButton.initHiddenInputs(this.getComponent('pabhiddeninputs').instance);if(this._config.previewButton)this.initPreviewButton(this._root,this._config.previewButton);da.registerHandler(this.cleanup.bind(this));};gb.prototype._initPrivacyWidgetInstance=function(){'use strict';var hb=this.getComponent('mainprivacywidget');if(!hb)return;this._privacyWidgetElement=hb.element;this._newPrivacyWidgetInstance=hb.instance&&hb.instance.getInstance().getInstance();if(this._newPrivacyWidgetInstance){var ib=this.getComponent('maininput').instance&&this.getComponent('maininput').instance.getMentions(),jb=this.getComponent('tagExpansionButton');jb&&jb.instance&&jb.instance.listenToPrivacy(this._newPrivacyWidgetInstance,ib);}};gb.prototype._fullInitWithComponents=function(hb){'use strict';this._bootloadCallback=sa(this._bootloadModules.bind(this));if(hb&&hb.show_tag_expansion_reminder){l.loadModules(["ComposerXPrivacyWidgetTags","URLScraper","SuggestionScraper","URI","ComposerTagReminder"],this._bootloadCallback);}else l.loadModules(["ComposerXPrivacyWidgetTags","URLScraper","SuggestionScraper","URI"],this._bootloadCallback);Object.keys(this._privacyReminders).forEach(this._showPrivacyReminder,this);if(this._setEveryonePrivacyImpression)this._showPrivacyReminder('everyone');if(this._privacyReminders.delta_everyone&&this._privacyReminders.delta_everyone.dialog){var ib=this._privacyReminders.delta_everyone.dialog.getContent();if(ib){var jb=y.scry(ib,'.photoText')[0],kb=y.scry(ib,'.postText')[0];i.subscribe('multi-upload/images-added',(function(){jb&&w.show(jb);kb&&w.hide(kb);}).bind(this));i.subscribe('multi-upload/all-images-removed',(function(){jb&&w.hide(jb);kb&&w.show(kb);}).bind(this));}}if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.subscribe('changed',this._onSelectorChange);}else ka.subscribe('select',this._onSelectorChange);};gb.prototype._bootloadModules=function(hb,ib,jb,kb,lb){'use strict';this._modulesAreBootloaded=true;this._tagger.init(this);this._privacyWidgetTags=new hb(this);if(lb){this._tagExpansionReminder=new lb(this);this._tagExpansionReminder.listen();}n.trackCityChanges(this);var mb=y.find(this.getComponent('maininput').element,'textarea.input');if(!this._scraper){this._scraper=new ib(mb);this._scraper.subscribe('match',(function(qb,rb){var sb=this._getScraperEndpoint();sb.addQueryData({scrape_url:encodeURIComponent(rb.url),remove_url:this._config.remove_url,attachment_class:this._config.classname});r.getAttachment(this._root,sb.toString());}).bind(this));}this._scraper.enable();this._scraper.check();var nb=x.scry(this._root,"._4-jj"),ob=this.getComposerID();if(this._config.stream_context==='home'&&nb&&nb.length&&this._tagger&&ob){if(!this._suggestionScraper){this._suggestionScraper=new jb(this._tagger,nb[0],[na.SEMI_INLINE,na.TAGGER_BADGE,na.TOP_OF_VERBS],ob);this._suggestionScraper.setBootloadTriggerConfig(ma.COMPOSER_ENTRY_BOOTSTRAP);}if(ja.gk){var pb=x.scry(this._root,'#bootloadSemiinlineRoot')[0];if(pb)w.hide(pb);}}};gb.prototype._showPrivacyReminder=function(hb){'use strict';var ib=this,jb=this._privacyReminders[hb],kb=eb[hb],lb=null;if(this._newPrivacyWidgetInstance){lb=this._newPrivacyWidgetInstance.getSelectedBaseValue();}else lb=parseInt(ka.getValue(this._privacyWidgetElement),10);if(!jb||!jb.dialog||jb.shown){if(lb===ha.BaseValue.EVERYONE&&this._setEveryonePrivacyImpression){this._sendSetEveryonePrivacyImpression();this._setEveryonePrivacyImpression=false;}return;}if(kb.PRIVACY_CONSTANT.indexOf(lb)===-1)return;jb.dialog.setContext(this._privacyWidgetElement).show();jb.shown=true;this._privacyReminderShown=true;if(kb.LOG_IMPRESSION){var mb=ab.getURIBuilder().setString('type',kb.LOG_IMPRESSION).getURI();new j(mb).send();}if(kb.LOG_IMPRESSION_TO_DISMISS_ENDPOINT)if(hb==='delta_everyone'||hb==='only_me'){var nb=za.getURIBuilder().setString('type',hb).getURI();new j(nb).send();}else new j('/ajax/privacy/reminders/dismiss').setData({type:hb,dismiss_type:'impression'}).send();var ob=(function(event){var pb=w.hasClass(event.target,'layerConfirm')||y.scry(event.target,'^.layerConfirm').length===1,qb=w.hasClass(event.target,'layerButton')||y.scry(event.target,'^.layerButton').length===1;if(pb&&hb!=='public_posting_filter_nux'){if(hb==='delta_everyone'||hb==='only_me'){var rb=ab.getURIBuilder().setString('type',ia.DELTA_EVERYONE_OK_BUTTON_CLICKED).getURI();new j(rb).send();}return;}if(hb==='delta_everyone'||hb==='only_me'){var sb=za.getURIBuilder().setString('type',hb).getURI();new j(sb).send();}else new j('/ajax/privacy/reminders/dismiss').setData({type:hb,hide:qb}).send();jb.events.forEach(function(ub){ub.remove();});jb.events=[];jb.dialog.hide();this._privacyReminderShown=false;if(qb){ya((function(){if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.openSelector();}else ka.toggle(y.scry(ib.getComponent('mainprivacywidget').element,'.uiSelector')[0]);}).bind(this));if(hb==='delta_everyone'){var tb=ab.getURIBuilder().setString('type',ia.DELTA_EVERYONE_CHANGE_BUTTON_CLICKED).getURI();new j(tb).send();}}}).bind(this);if(this._newPrivacyWidgetInstance){jb.conversionListener=this._newPrivacyWidgetInstance.subscribe('changed',(function(pb,qb){var rb=this._newPrivacyWidgetInstance.getSelectedBaseValue();this._logPrivacyReminderConversion(jb,kb,rb);}).bind(this));}else jb.conversionListener=ka.subscribe('select',(function(pb,qb){if(qb.selector==this._privacyWidgetElement.firstChild){var rb=parseInt(ka.getValue(qb.option),10);this._logPrivacyReminderConversion(jb,kb,rb);}}).bind(this));jb.events=[z.listen(jb.dialog.getContent(),'click',ob),z.listen(jb.dialog.getContext(),'click',ob)];};gb.prototype._logPrivacyReminderConversion=function(hb,ib,jb){'use strict';if(ib.PRIVACY_CONSTANT.indexOf(jb)===-1){if(ib.LOG_CONVERSION){var kb=ab.getURIBuilder().setString('type',ib.LOG_CONVERSION).getURI();new j(kb).send();}if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.unsubscribe(hb.conversionListener);}else ka.unsubscribe(hb.conversionListener);hb.conversionListener=null;}};gb.prototype._onSelectorChange=function(hb,ib){'use strict';if(!this.getComponent('mainprivacywidget'))return;if(this._newPrivacyWidgetInstance||ib.selector===this._privacyWidgetElement.firstChild)setTimeout((function(){Object.keys(this._privacyReminders).forEach(this._showPrivacyReminder,this);}).bind(this));if(this._tagExpansionReminder)this._tagExpansionReminder.updateReminderText(ib.post_param);};gb.prototype.cleanup=function(){'use strict';this._attachmentIsActive=false;if(this._focusListener){this._focusListener.remove();this._focusListener=null;}if(this._clickListener){this._clickListener.remove();this._clickListener=null;}Object.keys(eb).forEach((function(hb){var ib=this._privacyReminders[hb];if(ib&&ib.dialog&&ib.shown){ib.dialog.hide();ib.events.forEach(function(jb){jb.remove();});ib.events=[];if(ib.conversionListener)if(this._newPrivacyWidgetInstance){this._newPrivacyWidgetInstance.unsubscribe(ib.conversionListener);}else ka.unsubscribe(ib.conversionListener);ib.conversionListener=null;}}).bind(this));if(this._dragdrop){this._dragdrop.deactivate();this._dragdrop=null;}if(this._modulesAreBootloaded){this._tagger.cleanup();if(this._privacyWidgetTags){this._privacyWidgetTags.destroy();this._privacyWidgetTags=null;}this._scraper.disable();}if(this._bootloadCallback){this._bootloadCallback.cancel();this._bootloadCallback=null;}if(this._dragEnterHandler){this._dragEnterHandler.unsubscribe();this._dragEnterHandler=null;}if(this._pagesComposerEntryLogger)this._pagesComposerEntryLogger.unregister();};gb.prototype.reset=function(){'use strict';var hb=fa.byClass(this._root,"child_was_focused");if(hb)w.removeClass(hb,"child_was_focused");if(this._tagger)this._tagger.reset();if(this._scraper)this._scraper.reset();if(this._newPrivacyWidgetInstance)this._newPrivacyWidgetInstance.informTagsChanged([]);this.getComponent('maininput').instance.setPlaceholder(this._config.mentionsPlaceholder);if(this._config.prefill_text)this._resetPrefill();if(ja.gk)this._config.mentionsPlaceholder=va._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"]);};gb.prototype.canSwitchAway=function(){'use strict';return !fa.byClass(this._root,'async_saving');};gb.prototype.bootloadAttachments=function(){'use strict';if(this._bootloading)return;this._bootloading=true;r.getEndpoint(this._root,'/ajax/composerx/attachment/status/bootload/',true);};gb.prototype.setBootloadedContent=function(hb){'use strict';this._bootloading=false;this._setEveryonePrivacyImpression=!!hb.set_everyone_privacy_impression;Object.keys(eb).forEach((function(lb){var mb=hb[lb+'_privacy_reminder'];if(mb)this._privacyReminders[lb]={dialog:mb};}).bind(this));if(hb.markup.privacy_widget){var ib=y.find(this._root,"._etn");x.setContent(ib,hb.markup.privacy_widget);var jb=y.find(this._root,"._1dwm");if(jb){jb.disabled=false;w.removeClass(jb,"_42fr");}}var kb=hb.placeholders.map(function(lb){return lb.component_name;});v.waitForComponents(this._composerID,kb,(function(){var lb=y.find(this._root,"._3-6"),mb=y.find(this._root,"._3-7");x.setContent(lb,hb.markup.tagger_content);x.setContent(mb,hb.markup.tagger_icons);if(hb.markup.privacy_widget)this._initPrivacyWidgetInstance();r.addPlaceholders(this._root,this,hb.placeholders);this._tagger=hb.tagger;n.updateMessageBoxBarState(this);this._fullVersion=true;if(this._attachmentIsActive)this._fullInitWithComponents(hb);p.registerMentionsForComposerCancel(this.getComponent('maininput'),this.getComposerID());}).bind(this));};gb.prototype._getScraperEndpoint=function(){'use strict';return new oa('/ajax/composerx/attachment/link/scraper/');};gb.prototype._isFocused=function(){'use strict';return y.contains(this._root,wa());};gb.prototype._isEditing=function(){'use strict';return this._isFocused()||this.getComponent('maininput').instance.hasChanges();};gb.prototype._onFocus=function(hb){'use strict';u.logEntry(this._composerID);var ib=x.scry(this._root,"._180_")[0];if(ja.gk&&this._config.stream_context==='home'&&ib){w.hide(qa('bootloadComposerPromptPlaceholder'));w.hide(qa('bootloadComposerPromptIcon'));var jb=qa('mentionsInput');x.find(jb,'textarea.mentionsTextarea').placeholder=va._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"]);}this._config&&k.log('WebComposerSampledWaterfallLoggerConfig',{event:'js_composer_focus',client_time:Date.now(),config:{targetID:this._config.targetID,stream_context:this._config.stream_context},composerID:this._composerID,source:hb});this._prefillOnFocus();if(this._fullVersion||this._bootloading)return;i.inform('composer/focus',this._composerID);i.inform('composer/render_pab_nux');this.bootloadAttachments();};gb.prototype.allowOGTagPreview=function(){'use strict';return true;};gb.prototype._sendSetEveryonePrivacyImpression=function(){'use strict';new j('/ajax/privacy/reminders/set_everyone_privacy_impression').send();};gb.prototype.onEmptyStatusCallback=function(){'use strict';var hb=this._getTextArea();aa.set(hb);pa.set({target:hb,message:va._("This status update appears to be blank. Please write something or attach a link or photo to update your status."),position:'below',alignh:'left'});new la().addSubscriptions(z.listen(this.getRoot(),'success',(function(){pa.clear(this._getTextArea());}).bind(this)),i.subscribe('composer/publish',(function(event,ib){if(ib.composer_id!=this.getComposerID())return;pa.clear(this._getTextArea());}).bind(this)));};gb.setBootloadedContent=function(hb,ib){'use strict';var jb=fb[hb];if(jb)jb.setBootloadedContent.call(jb,ib);};gb.onEmptyStatusListener=function(hb){'use strict';var ib=fb[hb];if(ib)ib.onEmptyStatusCallback.call(ib);};Object.assign(gb.prototype,{_attachmentIsActive:false,_bootloading:false,_modulesAreBootloaded:false,_fullVersion:false,_focusListener:null,_privacyWidgetTags:null,_scraper:null,_dragdrop:null,_bootloadCallback:null,attachmentClassName:"_4j"});f.exports=gb;},null);
__d('ComposerXMentionsInputReset',['DOMQuery','Input'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){var l=h.scry(k.element,'textarea.input')[0];k.instance.reset();i.reset(l);}f.exports=j;},null);
__d('ComposerXOGTaggerIconReset',['CSS','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){h.removeClass(k.element,"_4-jh");h.removeClass(k.element,"_509o");}f.exports=j;},null);
__d('ComposerXPrivacyWidgetReset',['Arbiter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){h.inform('Composer/changedtags',{withTags:[],mention:{},eventTag:false});}f.exports=i;},null);
__d('ComposerXTaggerIconReset',['CSS','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){h.removeClass(k.element,"_1dsa");h.removeClass(k.element,"_1dsb");h.removeClass(k.element,"_509o");}f.exports=j;},null);
__d('legacy:AudienceSelector',['AudienceSelector'],function a(b,c,d,e){if(c.__markCompiled)c.__markCompiled();c('AudienceSelector');},3);
__d("XFamilyMentionsNUXDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/family_mentions\/nux_dialog\/",{__asyncDialog:{type:"Int"}});},null,{});
__d('FamilyRelationshipMentions',['AsyncDialog','AsyncRequest','FamilyMentionsData','XFamilyMentionsNUXDialogController'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=(function(){var m={},n=false;m.shouldShowNUX=function(o){if(j.hasAcceptedNUX||n)return false;var p=o.family_names;if(p==undefined)return false;for(var q=0;q<p.length;q++)if(p[q]==o.text)return true;return false;};m.showNUX=function(o,p){var q=k.getURIBuilder().getURI();h.send(new i(q),function(r){r.subscribe('cancel',function(){o.text=o.default_name;new i().setURI('/ajax/family_mentions/deny_nux').send();p(o);});r.subscribe('confirm',function(){n=true;new i().setURI('/ajax/family_mentions/confirm_nux').send();p(o);r.finishHide();});});};return m;})();f.exports=l;},null);
__d('MentionsTypeaheadAreaView',['ContextualTypeaheadView','FamilyRelationshipMentions','Parent'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=h;l=k&&k.prototype;Object.assign(m,k);m.prototype=Object.create(k.prototype);m.prototype.constructor=m;m.__superConstructor__=k;m.prototype.getContext=function(){'use strict';return j.byClass(this.element,'uiMentionsInput');};m.prototype.shouldValidateTypeaheadSelection=function(n){'use strict';return i.shouldShowNUX(n);};m.prototype.validateTypeaheadSelection=function(n,o){'use strict';i.showNUX(n,o);};function m(){'use strict';k.apply(this,arguments);}f.exports=m;},null);